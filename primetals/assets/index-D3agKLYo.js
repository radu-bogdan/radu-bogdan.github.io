import{ay as ur,aI as Er,ap as Mr,b1 as Tr,W as Ar,_ as ze,P as $t,a3 as lr,aY as _r,R as vr,ae as mr,at as Rr,a5 as Ir,am as cr,a8 as pr,ac as gr,a$ as Sr,aA as Cr,b0 as dr,b2 as Fr,a7 as Or}from"./axis_defaults-BM0opIOj.js";import{r as Lr,a as yr}from"./domain-CSGhOmIy.js";var ye={exports:{}},Ve;function Pr(){return Ve||(Ve=1,function(){var Ft={1964:function(B,L,a){B.exports={alpha_shape:a(3502),convex_hull:a(7352),delaunay_triangulate:a(7642),gl_cone3d:a(6405),gl_error3d:a(9165),gl_line3d:a(5714),gl_mesh3d:a(7201),gl_plot3d:a(4100),gl_scatter3d:a(8418),gl_streamtube3d:a(7815),gl_surface3d:a(9499),ndarray:a(9618),ndarray_linear_interpolate:a(4317)}},4793:function(B,L,a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function d(Q,N){if(!(Q instanceof N))throw new TypeError("Cannot call a class as a function")}function M(Q,N){for(var U=0;U<N.length;U++){var q=N[U];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,y(q.key),q)}}function l(Q,N,U){return N&&M(Q.prototype,N),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function y(Q){var N=c(Q,"string");return g(N)=="symbol"?N:N+""}function c(Q,N){if(g(Q)!="object"||!Q)return Q;var U=Q[Symbol.toPrimitive];if(U!==void 0){var q=U.call(Q,N);if(g(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}function T(Q,N,U){return N=w(N),R(Q,E()?Reflect.construct(N,[],w(Q).constructor):N.apply(Q,U))}function R(Q,N){if(N&&(g(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(Q)}function v(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function E(){try{var Q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!Q})()}function w(Q){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},w(Q)}function s(Q,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(N&&N.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),N&&p(Q,N)}function p(Q,N){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,q){return U.__proto__=q,U},p(Q,N)}function g(Q){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},g(Q)}var h=a(7507),f=a(3778),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;L.hp=i,L.IS=50;var o=2147483647;i.TYPED_ARRAY_SUPPORT=n(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{var Q=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(Q,N),Q.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function t(Q){if(Q>o)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var N=new Uint8Array(Q);return Object.setPrototypeOf(N,i.prototype),N}function i(Q,N,U){if(typeof Q=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(Q)}return e(Q,N,U)}i.poolSize=8192;function e(Q,N,U){if(typeof Q=="string")return m(Q,N);if(ArrayBuffer.isView(Q))return _(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(Q));if(At(Q,ArrayBuffer)||Q&&At(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(At(Q,SharedArrayBuffer)||Q&&At(Q.buffer,SharedArrayBuffer)))return u(Q,N,U);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var q=Q.valueOf&&Q.valueOf();if(q!=null&&q!==Q)return i.from(q,N,U);var nt=I(Q);if(nt)return nt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return i.from(Q[Symbol.toPrimitive]("string"),N,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(Q))}i.from=function(Q,N,U){return e(Q,N,U)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function A(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function b(Q,N,U){return A(Q),Q<=0?t(Q):N!==void 0?typeof U=="string"?t(Q).fill(N,U):t(Q).fill(N):t(Q)}i.alloc=function(Q,N,U){return b(Q,N,U)};function x(Q){return A(Q),t(Q<0?0:F(Q)|0)}i.allocUnsafe=function(Q){return x(Q)},i.allocUnsafeSlow=function(Q){return x(Q)};function m(Q,N){if((typeof N!="string"||N==="")&&(N="utf8"),!i.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var U=P(Q,N)|0,q=t(U),nt=q.write(Q,N);return nt!==U&&(q=q.slice(0,nt)),q}function S(Q){for(var N=Q.length<0?0:F(Q.length)|0,U=t(N),q=0;q<N;q+=1)U[q]=Q[q]&255;return U}function _(Q){if(At(Q,Uint8Array)){var N=new Uint8Array(Q);return u(N.buffer,N.byteOffset,N.byteLength)}return S(Q)}function u(Q,N,U){if(N<0||Q.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<N+(U||0))throw new RangeError('"length" is outside of buffer bounds');var q;return N===void 0&&U===void 0?q=new Uint8Array(Q):U===void 0?q=new Uint8Array(Q,N):q=new Uint8Array(Q,N,U),Object.setPrototypeOf(q,i.prototype),q}function I(Q){if(i.isBuffer(Q)){var N=F(Q.length)|0,U=t(N);return U.length===0||Q.copy(U,0,0,N),U}if(Q.length!==void 0)return typeof Q.length!="number"||Ot(Q.length)?t(0):S(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return S(Q.data)}function F(Q){if(Q>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return Q|0}i.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==i.prototype},i.compare=function(N,U){if(At(N,Uint8Array)&&(N=i.from(N,N.offset,N.byteLength)),At(U,Uint8Array)&&(U=i.from(U,U.offset,U.byteLength)),!i.isBuffer(N)||!i.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===U)return 0;for(var q=N.length,nt=U.length,ct=0,gt=Math.min(q,nt);ct<gt;++ct)if(N[ct]!==U[ct]){q=N[ct],nt=U[ct];break}return q<nt?-1:nt<q?1:0},i.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(N,U){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return i.alloc(0);var q;if(U===void 0)for(U=0,q=0;q<N.length;++q)U+=N[q].length;var nt=i.allocUnsafe(U),ct=0;for(q=0;q<N.length;++q){var gt=N[q];if(At(gt,Uint8Array))ct+gt.length>nt.length?(i.isBuffer(gt)||(gt=i.from(gt)),gt.copy(nt,ct)):Uint8Array.prototype.set.call(nt,gt,ct);else if(i.isBuffer(gt))gt.copy(nt,ct);else throw new TypeError('"list" argument must be an Array of Buffers');ct+=gt.length}return nt};function P(Q,N){if(i.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||At(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+g(Q));var U=Q.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&U===0)return 0;for(var nt=!1;;)switch(N){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return vt(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Pt(Q).length;default:if(nt)return q?-1:vt(Q).length;N=(""+N).toLowerCase(),nt=!0}}i.byteLength=P;function D(Q,N,U){var q=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,N>>>=0,U<=N))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return tt(this,N,U);case"utf8":case"utf-8":return X(this,N,U);case"ascii":return Z(this,N,U);case"latin1":case"binary":return J(this,N,U);case"base64":return G(this,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,N,U);default:if(q)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),q=!0}}i.prototype._isBuffer=!0;function V(Q,N,U){var q=Q[N];Q[N]=Q[U],Q[U]=q}i.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<N;U+=2)V(this,U,U+1);return this},i.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<N;U+=4)V(this,U,U+3),V(this,U+1,U+2);return this},i.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<N;U+=8)V(this,U,U+7),V(this,U+1,U+6),V(this,U+2,U+5),V(this,U+3,U+4);return this},i.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?X(this,0,N):D.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(N){if(!i.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:i.compare(this,N)===0},i.prototype.inspect=function(){var N="",U=L.IS;return N=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(N+=" ... "),"<Buffer "+N+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(N,U,q,nt,ct){if(At(N,Uint8Array)&&(N=i.from(N,N.offset,N.byteLength)),!i.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+g(N));if(U===void 0&&(U=0),q===void 0&&(q=N?N.length:0),nt===void 0&&(nt=0),ct===void 0&&(ct=this.length),U<0||q>N.length||nt<0||ct>this.length)throw new RangeError("out of range index");if(nt>=ct&&U>=q)return 0;if(nt>=ct)return-1;if(U>=q)return 1;if(U>>>=0,q>>>=0,nt>>>=0,ct>>>=0,this===N)return 0;for(var gt=ct-nt,mt=q-U,kt=Math.min(gt,mt),It=this.slice(nt,ct),Bt=N.slice(U,q),Dt=0;Dt<kt;++Dt)if(It[Dt]!==Bt[Dt]){gt=It[Dt],mt=Bt[Dt];break}return gt<mt?-1:mt<gt?1:0};function H(Q,N,U,q,nt){if(Q.length===0)return-1;if(typeof U=="string"?(q=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,Ot(U)&&(U=nt?0:Q.length-1),U<0&&(U=Q.length+U),U>=Q.length){if(nt)return-1;U=Q.length-1}else if(U<0)if(nt)U=0;else return-1;if(typeof N=="string"&&(N=i.from(N,q)),i.isBuffer(N))return N.length===0?-1:O(Q,N,U,q,nt);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?nt?Uint8Array.prototype.indexOf.call(Q,N,U):Uint8Array.prototype.lastIndexOf.call(Q,N,U):O(Q,[N],U,q,nt);throw new TypeError("val must be string, number or Buffer")}function O(Q,N,U,q,nt){var ct=1,gt=Q.length,mt=N.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(Q.length<2||N.length<2)return-1;ct=2,gt/=2,mt/=2,U/=2}function kt(zt,Kt){return ct===1?zt[Kt]:zt.readUInt16BE(Kt*ct)}var It;if(nt){var Bt=-1;for(It=U;It<gt;It++)if(kt(Q,It)===kt(N,Bt===-1?0:It-Bt)){if(Bt===-1&&(Bt=It),It-Bt+1===mt)return Bt*ct}else Bt!==-1&&(It-=It-Bt),Bt=-1}else for(U+mt>gt&&(U=gt-mt),It=U;It>=0;It--){for(var Dt=!0,Nt=0;Nt<mt;Nt++)if(kt(Q,It+Nt)!==kt(N,Nt)){Dt=!1;break}if(Dt)return It}return-1}i.prototype.includes=function(N,U,q){return this.indexOf(N,U,q)!==-1},i.prototype.indexOf=function(N,U,q){return H(this,N,U,q,!0)},i.prototype.lastIndexOf=function(N,U,q){return H(this,N,U,q,!1)};function C(Q,N,U,q){U=Number(U)||0;var nt=Q.length-U;q?(q=Number(q),q>nt&&(q=nt)):q=nt;var ct=N.length;q>ct/2&&(q=ct/2);var gt;for(gt=0;gt<q;++gt){var mt=parseInt(N.substr(gt*2,2),16);if(Ot(mt))return gt;Q[U+gt]=mt}return gt}function k(Q,N,U,q){return Ct(vt(N,Q.length-U),Q,U,q)}function $(Q,N,U,q){return Ct(Mt(N),Q,U,q)}function z(Q,N,U,q){return Ct(Pt(N),Q,U,q)}function Y(Q,N,U,q){return Ct(_t(N,Q.length-U),Q,U,q)}i.prototype.write=function(N,U,q,nt){if(U===void 0)nt="utf8",q=this.length,U=0;else if(q===void 0&&typeof U=="string")nt=U,q=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(q)?(q=q>>>0,nt===void 0&&(nt="utf8")):(nt=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ct=this.length-U;if((q===void 0||q>ct)&&(q=ct),N.length>0&&(q<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");nt||(nt="utf8");for(var gt=!1;;)switch(nt){case"hex":return C(this,N,U,q);case"utf8":case"utf-8":return k(this,N,U,q);case"ascii":case"latin1":case"binary":return $(this,N,U,q);case"base64":return z(this,N,U,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,N,U,q);default:if(gt)throw new TypeError("Unknown encoding: "+nt);nt=(""+nt).toLowerCase(),gt=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(Q,N,U){return N===0&&U===Q.length?h.fromByteArray(Q):h.fromByteArray(Q.slice(N,U))}function X(Q,N,U){U=Math.min(Q.length,U);for(var q=[],nt=N;nt<U;){var ct=Q[nt],gt=null,mt=ct>239?4:ct>223?3:ct>191?2:1;if(nt+mt<=U){var kt=void 0,It=void 0,Bt=void 0,Dt=void 0;switch(mt){case 1:ct<128&&(gt=ct);break;case 2:kt=Q[nt+1],(kt&192)===128&&(Dt=(ct&31)<<6|kt&63,Dt>127&&(gt=Dt));break;case 3:kt=Q[nt+1],It=Q[nt+2],(kt&192)===128&&(It&192)===128&&(Dt=(ct&15)<<12|(kt&63)<<6|It&63,Dt>2047&&(Dt<55296||Dt>57343)&&(gt=Dt));break;case 4:kt=Q[nt+1],It=Q[nt+2],Bt=Q[nt+3],(kt&192)===128&&(It&192)===128&&(Bt&192)===128&&(Dt=(ct&15)<<18|(kt&63)<<12|(It&63)<<6|Bt&63,Dt>65535&&Dt<1114112&&(gt=Dt))}}gt===null?(gt=65533,mt=1):gt>65535&&(gt-=65536,q.push(gt>>>10&1023|55296),gt=56320|gt&1023),q.push(gt),nt+=mt}return W(q)}var K=4096;function W(Q){var N=Q.length;if(N<=K)return String.fromCharCode.apply(String,Q);for(var U="",q=0;q<N;)U+=String.fromCharCode.apply(String,Q.slice(q,q+=K));return U}function Z(Q,N,U){var q="";U=Math.min(Q.length,U);for(var nt=N;nt<U;++nt)q+=String.fromCharCode(Q[nt]&127);return q}function J(Q,N,U){var q="";U=Math.min(Q.length,U);for(var nt=N;nt<U;++nt)q+=String.fromCharCode(Q[nt]);return q}function tt(Q,N,U){var q=Q.length;(!N||N<0)&&(N=0),(!U||U<0||U>q)&&(U=q);for(var nt="",ct=N;ct<U;++ct)nt+=Lt[Q[ct]];return nt}function it(Q,N,U){for(var q=Q.slice(N,U),nt="",ct=0;ct<q.length-1;ct+=2)nt+=String.fromCharCode(q[ct]+q[ct+1]*256);return nt}i.prototype.slice=function(N,U){var q=this.length;N=~~N,U=U===void 0?q:~~U,N<0?(N+=q,N<0&&(N=0)):N>q&&(N=q),U<0?(U+=q,U<0&&(U=0)):U>q&&(U=q),U<N&&(U=N);var nt=this.subarray(N,U);return Object.setPrototypeOf(nt,i.prototype),nt};function et(Q,N,U){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+N>U)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(N,U,q){N=N>>>0,U=U>>>0,q||et(N,U,this.length);for(var nt=this[N],ct=1,gt=0;++gt<U&&(ct*=256);)nt+=this[N+gt]*ct;return nt},i.prototype.readUintBE=i.prototype.readUIntBE=function(N,U,q){N=N>>>0,U=U>>>0,q||et(N,U,this.length);for(var nt=this[N+--U],ct=1;U>0&&(ct*=256);)nt+=this[N+--U]*ct;return nt},i.prototype.readUint8=i.prototype.readUInt8=function(N,U){return N=N>>>0,U||et(N,1,this.length),this[N]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(N,U){return N=N>>>0,U||et(N,2,this.length),this[N]|this[N+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(N,U){return N=N>>>0,U||et(N,2,this.length),this[N]<<8|this[N+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(N,U){return N=N>>>0,U||et(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(N,U){return N=N>>>0,U||et(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},i.prototype.readBigUInt64LE=St(function(N){N=N>>>0,bt(N,"offset");var U=this[N],q=this[N+7];(U===void 0||q===void 0)&&Tt(N,this.length-8);var nt=U+this[++N]*Math.pow(2,8)+this[++N]*Math.pow(2,16)+this[++N]*Math.pow(2,24),ct=this[++N]+this[++N]*Math.pow(2,8)+this[++N]*Math.pow(2,16)+q*Math.pow(2,24);return BigInt(nt)+(BigInt(ct)<<BigInt(32))}),i.prototype.readBigUInt64BE=St(function(N){N=N>>>0,bt(N,"offset");var U=this[N],q=this[N+7];(U===void 0||q===void 0)&&Tt(N,this.length-8);var nt=U*Math.pow(2,24)+this[++N]*Math.pow(2,16)+this[++N]*Math.pow(2,8)+this[++N],ct=this[++N]*Math.pow(2,24)+this[++N]*Math.pow(2,16)+this[++N]*Math.pow(2,8)+q;return(BigInt(nt)<<BigInt(32))+BigInt(ct)}),i.prototype.readIntLE=function(N,U,q){N=N>>>0,U=U>>>0,q||et(N,U,this.length);for(var nt=this[N],ct=1,gt=0;++gt<U&&(ct*=256);)nt+=this[N+gt]*ct;return ct*=128,nt>=ct&&(nt-=Math.pow(2,8*U)),nt},i.prototype.readIntBE=function(N,U,q){N=N>>>0,U=U>>>0,q||et(N,U,this.length);for(var nt=U,ct=1,gt=this[N+--nt];nt>0&&(ct*=256);)gt+=this[N+--nt]*ct;return ct*=128,gt>=ct&&(gt-=Math.pow(2,8*U)),gt},i.prototype.readInt8=function(N,U){return N=N>>>0,U||et(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},i.prototype.readInt16LE=function(N,U){N=N>>>0,U||et(N,2,this.length);var q=this[N]|this[N+1]<<8;return q&32768?q|4294901760:q},i.prototype.readInt16BE=function(N,U){N=N>>>0,U||et(N,2,this.length);var q=this[N+1]|this[N]<<8;return q&32768?q|4294901760:q},i.prototype.readInt32LE=function(N,U){return N=N>>>0,U||et(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},i.prototype.readInt32BE=function(N,U){return N=N>>>0,U||et(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},i.prototype.readBigInt64LE=St(function(N){N=N>>>0,bt(N,"offset");var U=this[N],q=this[N+7];(U===void 0||q===void 0)&&Tt(N,this.length-8);var nt=this[N+4]+this[N+5]*Math.pow(2,8)+this[N+6]*Math.pow(2,16)+(q<<24);return(BigInt(nt)<<BigInt(32))+BigInt(U+this[++N]*Math.pow(2,8)+this[++N]*Math.pow(2,16)+this[++N]*Math.pow(2,24))}),i.prototype.readBigInt64BE=St(function(N){N=N>>>0,bt(N,"offset");var U=this[N],q=this[N+7];(U===void 0||q===void 0)&&Tt(N,this.length-8);var nt=(U<<24)+this[++N]*Math.pow(2,16)+this[++N]*Math.pow(2,8)+this[++N];return(BigInt(nt)<<BigInt(32))+BigInt(this[++N]*Math.pow(2,24)+this[++N]*Math.pow(2,16)+this[++N]*Math.pow(2,8)+q)}),i.prototype.readFloatLE=function(N,U){return N=N>>>0,U||et(N,4,this.length),f.read(this,N,!0,23,4)},i.prototype.readFloatBE=function(N,U){return N=N>>>0,U||et(N,4,this.length),f.read(this,N,!1,23,4)},i.prototype.readDoubleLE=function(N,U){return N=N>>>0,U||et(N,8,this.length),f.read(this,N,!0,52,8)},i.prototype.readDoubleBE=function(N,U){return N=N>>>0,U||et(N,8,this.length),f.read(this,N,!1,52,8)};function j(Q,N,U,q,nt,ct){if(!i.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>nt||N<ct)throw new RangeError('"value" argument is out of bounds');if(U+q>Q.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(N,U,q,nt){if(N=+N,U=U>>>0,q=q>>>0,!nt){var ct=Math.pow(2,8*q)-1;j(this,N,U,q,ct,0)}var gt=1,mt=0;for(this[U]=N&255;++mt<q&&(gt*=256);)this[U+mt]=N/gt&255;return U+q},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(N,U,q,nt){if(N=+N,U=U>>>0,q=q>>>0,!nt){var ct=Math.pow(2,8*q)-1;j(this,N,U,q,ct,0)}var gt=q-1,mt=1;for(this[U+gt]=N&255;--gt>=0&&(mt*=256);)this[U+gt]=N/mt&255;return U+q},i.prototype.writeUint8=i.prototype.writeUInt8=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,1,255,0),this[U]=N&255,U+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,2,65535,0),this[U]=N&255,this[U+1]=N>>>8,U+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,2,65535,0),this[U]=N>>>8,this[U+1]=N&255,U+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,4,4294967295,0),this[U+3]=N>>>24,this[U+2]=N>>>16,this[U+1]=N>>>8,this[U]=N&255,U+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,4,4294967295,0),this[U]=N>>>24,this[U+1]=N>>>16,this[U+2]=N>>>8,this[U+3]=N&255,U+4};function at(Q,N,U,q,nt){lt(N,q,nt,Q,U,7);var ct=Number(N&BigInt(4294967295));Q[U++]=ct,ct=ct>>8,Q[U++]=ct,ct=ct>>8,Q[U++]=ct,ct=ct>>8,Q[U++]=ct;var gt=Number(N>>BigInt(32)&BigInt(4294967295));return Q[U++]=gt,gt=gt>>8,Q[U++]=gt,gt=gt>>8,Q[U++]=gt,gt=gt>>8,Q[U++]=gt,U}function rt(Q,N,U,q,nt){lt(N,q,nt,Q,U,7);var ct=Number(N&BigInt(4294967295));Q[U+7]=ct,ct=ct>>8,Q[U+6]=ct,ct=ct>>8,Q[U+5]=ct,ct=ct>>8,Q[U+4]=ct;var gt=Number(N>>BigInt(32)&BigInt(4294967295));return Q[U+3]=gt,gt=gt>>8,Q[U+2]=gt,gt=gt>>8,Q[U+1]=gt,gt=gt>>8,Q[U]=gt,U+8}i.prototype.writeBigUInt64LE=St(function(N){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(this,N,U,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=St(function(N){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return rt(this,N,U,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(N,U,q,nt){if(N=+N,U=U>>>0,!nt){var ct=Math.pow(2,8*q-1);j(this,N,U,q,ct-1,-ct)}var gt=0,mt=1,kt=0;for(this[U]=N&255;++gt<q&&(mt*=256);)N<0&&kt===0&&this[U+gt-1]!==0&&(kt=1),this[U+gt]=(N/mt>>0)-kt&255;return U+q},i.prototype.writeIntBE=function(N,U,q,nt){if(N=+N,U=U>>>0,!nt){var ct=Math.pow(2,8*q-1);j(this,N,U,q,ct-1,-ct)}var gt=q-1,mt=1,kt=0;for(this[U+gt]=N&255;--gt>=0&&(mt*=256);)N<0&&kt===0&&this[U+gt+1]!==0&&(kt=1),this[U+gt]=(N/mt>>0)-kt&255;return U+q},i.prototype.writeInt8=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,1,127,-128),N<0&&(N=255+N+1),this[U]=N&255,U+1},i.prototype.writeInt16LE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,2,32767,-32768),this[U]=N&255,this[U+1]=N>>>8,U+2},i.prototype.writeInt16BE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,2,32767,-32768),this[U]=N>>>8,this[U+1]=N&255,U+2},i.prototype.writeInt32LE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,4,2147483647,-2147483648),this[U]=N&255,this[U+1]=N>>>8,this[U+2]=N>>>16,this[U+3]=N>>>24,U+4},i.prototype.writeInt32BE=function(N,U,q){return N=+N,U=U>>>0,q||j(this,N,U,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[U]=N>>>24,this[U+1]=N>>>16,this[U+2]=N>>>8,this[U+3]=N&255,U+4},i.prototype.writeBigInt64LE=St(function(N){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(this,N,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=St(function(N){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return rt(this,N,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function st(Q,N,U,q,nt,ct){if(U+q>Q.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function ot(Q,N,U,q,nt){return N=+N,U=U>>>0,nt||st(Q,N,U,4),f.write(Q,N,U,q,23,4),U+4}i.prototype.writeFloatLE=function(N,U,q){return ot(this,N,U,!0,q)},i.prototype.writeFloatBE=function(N,U,q){return ot(this,N,U,!1,q)};function ft(Q,N,U,q,nt){return N=+N,U=U>>>0,nt||st(Q,N,U,8),f.write(Q,N,U,q,52,8),U+8}i.prototype.writeDoubleLE=function(N,U,q){return ft(this,N,U,!0,q)},i.prototype.writeDoubleBE=function(N,U,q){return ft(this,N,U,!1,q)},i.prototype.copy=function(N,U,q,nt){if(!i.isBuffer(N))throw new TypeError("argument should be a Buffer");if(q||(q=0),!nt&&nt!==0&&(nt=this.length),U>=N.length&&(U=N.length),U||(U=0),nt>0&&nt<q&&(nt=q),nt===q||N.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),N.length-U<nt-q&&(nt=N.length-U+q);var ct=nt-q;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,q,nt):Uint8Array.prototype.set.call(N,this.subarray(q,nt),U),ct},i.prototype.fill=function(N,U,q,nt){if(typeof N=="string"){if(typeof U=="string"?(nt=U,U=0,q=this.length):typeof q=="string"&&(nt=q,q=this.length),nt!==void 0&&typeof nt!="string")throw new TypeError("encoding must be a string");if(typeof nt=="string"&&!i.isEncoding(nt))throw new TypeError("Unknown encoding: "+nt);if(N.length===1){var ct=N.charCodeAt(0);(nt==="utf8"&&ct<128||nt==="latin1")&&(N=ct)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(U<0||this.length<U||this.length<q)throw new RangeError("Out of range index");if(q<=U)return this;U=U>>>0,q=q===void 0?this.length:q>>>0,N||(N=0);var gt;if(typeof N=="number")for(gt=U;gt<q;++gt)this[gt]=N;else{var mt=i.isBuffer(N)?N:i.from(N,nt),kt=mt.length;if(kt===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(gt=0;gt<q-U;++gt)this[gt+U]=mt[gt%kt]}return this};var xt={};function dt(Q,N,U){xt[Q]=function(q){function nt(){var ct;return d(this,nt),ct=T(this,nt),Object.defineProperty(ct,"message",{value:N.apply(ct,arguments),writable:!0,configurable:!0}),ct.name="".concat(ct.name," [").concat(Q,"]"),ct.stack,delete ct.name,ct}return s(nt,q),l(nt,[{key:"code",get:function(){return Q},set:function(gt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:gt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Q,"]: ").concat(this.message)}}])}(U)}dt("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?"".concat(Q," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),dt("ERR_INVALID_ARG_TYPE",function(Q,N){return'The "'.concat(Q,'" argument must be of type number. Received type ').concat(g(N))},TypeError),dt("ERR_OUT_OF_RANGE",function(Q,N,U){var q='The value of "'.concat(Q,'" is out of range.'),nt=U;return Number.isInteger(U)&&Math.abs(U)>Math.pow(2,32)?nt=ht(String(U)):typeof U=="bigint"&&(nt=String(U),(U>Math.pow(BigInt(2),BigInt(32))||U<-Math.pow(BigInt(2),BigInt(32)))&&(nt=ht(nt)),nt+="n"),q+=" It must be ".concat(N,". Received ").concat(nt),q},RangeError);function ht(Q){for(var N="",U=Q.length,q=Q[0]==="-"?1:0;U>=q+4;U-=3)N="_".concat(Q.slice(U-3,U)).concat(N);return"".concat(Q.slice(0,U)).concat(N)}function pt(Q,N,U){bt(N,"offset"),(Q[N]===void 0||Q[N+U]===void 0)&&Tt(N,Q.length-(U+1))}function lt(Q,N,U,q,nt,ct){if(Q>U||Q<N){var gt=typeof N=="bigint"?"n":"",mt;throw N===0||N===BigInt(0)?mt=">= 0".concat(gt," and < 2").concat(gt," ** ").concat((ct+1)*8).concat(gt):mt=">= -(2".concat(gt," ** ").concat((ct+1)*8-1).concat(gt,") and < 2 ** ")+"".concat((ct+1)*8-1).concat(gt),new xt.ERR_OUT_OF_RANGE("value",mt,Q)}pt(q,nt,ct)}function bt(Q,N){if(typeof Q!="number")throw new xt.ERR_INVALID_ARG_TYPE(N,"number",Q)}function Tt(Q,N,U){throw Math.floor(Q)!==Q?(bt(Q,U),new xt.ERR_OUT_OF_RANGE("offset","an integer",Q)):N<0?new xt.ERR_BUFFER_OUT_OF_BOUNDS:new xt.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(N),Q)}var yt=/[^+/0-9A-Za-z-_]/g;function ut(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(yt,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function vt(Q,N){N=N||1/0;for(var U,q=Q.length,nt=null,ct=[],gt=0;gt<q;++gt){if(U=Q.charCodeAt(gt),U>55295&&U<57344){if(!nt){if(U>56319){(N-=3)>-1&&ct.push(239,191,189);continue}else if(gt+1===q){(N-=3)>-1&&ct.push(239,191,189);continue}nt=U;continue}if(U<56320){(N-=3)>-1&&ct.push(239,191,189),nt=U;continue}U=(nt-55296<<10|U-56320)+65536}else nt&&(N-=3)>-1&&ct.push(239,191,189);if(nt=null,U<128){if((N-=1)<0)break;ct.push(U)}else if(U<2048){if((N-=2)<0)break;ct.push(U>>6|192,U&63|128)}else if(U<65536){if((N-=3)<0)break;ct.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((N-=4)<0)break;ct.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return ct}function Mt(Q){for(var N=[],U=0;U<Q.length;++U)N.push(Q.charCodeAt(U)&255);return N}function _t(Q,N){for(var U,q,nt,ct=[],gt=0;gt<Q.length&&!((N-=2)<0);++gt)U=Q.charCodeAt(gt),q=U>>8,nt=U%256,ct.push(nt),ct.push(q);return ct}function Pt(Q){return h.toByteArray(ut(Q))}function Ct(Q,N,U,q){var nt;for(nt=0;nt<q&&!(nt+U>=N.length||nt>=Q.length);++nt)N[nt+U]=Q[nt];return nt}function At(Q,N){return Q instanceof N||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===N.name}function Ot(Q){return Q!==Q}var Lt=function(){for(var Q="0123456789abcdef",N=new Array(256),U=0;U<16;++U)for(var q=U*16,nt=0;nt<16;++nt)N[q+nt]=Q[U]+Q[nt];return N}();function St(Q){return typeof BigInt>"u"?Yt:Q}function Yt(){throw new Error("BigInt not supported")}},9216:function(B){B.exports=M,B.exports.isMobile=M,B.exports.default=M;var L=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/CrOS/,d=/android|ipad|playbook|silk/i;function M(l){l||(l={});var y=l.ua;if(!y&&typeof navigator<"u"&&(y=navigator.userAgent),y&&y.headers&&typeof y.headers["user-agent"]=="string"&&(y=y.headers["user-agent"]),typeof y!="string")return!1;var c=L.test(y)&&!a.test(y)||!!l.tablet&&d.test(y);return!c&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&y.indexOf("Macintosh")!==-1&&y.indexOf("Safari")!==-1&&(c=!0),c}},6296:function(B,L,a){B.exports=T;var d=a(7261),M=a(9977),l=a(1811);function y(R,v){this._controllerNames=Object.keys(R),this._controllerList=this._controllerNames.map(function(E){return R[E]}),this._mode=v,this._active=R[v],this._active||(this._mode="turntable",this._active=R.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=y.prototype;c.flush=function(R){for(var v=this._controllerList,E=0;E<v.length;++E)v[E].flush(R)},c.idle=function(R){for(var v=this._controllerList,E=0;E<v.length;++E)v[E].idle(R)},c.lookAt=function(R,v,E,w){for(var s=this._controllerList,p=0;p<s.length;++p)s[p].lookAt(R,v,E,w)},c.rotate=function(R,v,E,w){for(var s=this._controllerList,p=0;p<s.length;++p)s[p].rotate(R,v,E,w)},c.pan=function(R,v,E,w){for(var s=this._controllerList,p=0;p<s.length;++p)s[p].pan(R,v,E,w)},c.translate=function(R,v,E,w){for(var s=this._controllerList,p=0;p<s.length;++p)s[p].translate(R,v,E,w)},c.setMatrix=function(R,v){for(var E=this._controllerList,w=0;w<E.length;++w)E[w].setMatrix(R,v)},c.setDistanceLimits=function(R,v){for(var E=this._controllerList,w=0;w<E.length;++w)E[w].setDistanceLimits(R,v)},c.setDistance=function(R,v){for(var E=this._controllerList,w=0;w<E.length;++w)E[w].setDistance(R,v)},c.recalcMatrix=function(R){this._active.recalcMatrix(R)},c.getDistance=function(R){return this._active.getDistance(R)},c.getDistanceLimits=function(R){return this._active.getDistanceLimits(R)},c.lastT=function(){return this._active.lastT()},c.setMode=function(R){if(R!==this._mode){var v=this._controllerNames.indexOf(R);if(!(v<0)){var E=this._active,w=this._controllerList[v],s=Math.max(E.lastT(),w.lastT());E.recalcMatrix(s),w.setMatrix(s,E.computedMatrix),this._active=w,this._mode=R,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function T(R){R=R||{};var v=R.eye||[0,0,1],E=R.center||[0,0,0],w=R.up||[0,1,0],s=R.distanceLimits||[0,1/0],p=R.mode||"turntable",g=d(),h=M(),f=l();return g.setDistanceLimits(s[0],s[1]),g.lookAt(0,v,E,w),h.setDistanceLimits(s[0],s[1]),h.lookAt(0,v,E,w),f.setDistanceLimits(s[0],s[1]),f.lookAt(0,v,E,w),new y({turntable:g,orbit:h,matrix:f},p)}},7169:function(B,L,a){var d=typeof WeakMap>"u"?a(1538):WeakMap,M=a(2762),l=a(8116),y=new d;function c(T){var R=y.get(T),v=R&&(R._triangleBuffer.handle||R._triangleBuffer.buffer);if(!v||!T.isBuffer(v)){var E=M(T,new Float32Array([-1,-1,-1,4,4,-1]));R=l(T,[{buffer:E,type:T.FLOAT,size:2}]),R._triangleBuffer=E,y.set(T,R)}R.bind(),T.drawArrays(T.TRIANGLES,0,3),R.unbind()}B.exports=c},1085:function(B,L,a){var d=a(1371);B.exports=M;function M(l,y,c){y=typeof y=="number"?y:1,c=c||": ";var T=l.split(/\r?\n/),R=String(T.length+y-1).length;return T.map(function(v,E){var w=E+y,s=String(w).length,p=d(w,R-s);return p+c+v}).join(`
`)}},3952:function(B,L,a){B.exports=l;var d=a(3250);function M(y,c){for(var T=new Array(c+1),R=0;R<y.length;++R)T[R]=y[R];for(var R=0;R<=y.length;++R){for(var v=y.length;v<=c;++v){for(var E=new Array(c),w=0;w<c;++w)E[w]=Math.pow(v+1-R,w);T[v]=E}var s=d.apply(void 0,T);if(s)return!0}return!1}function l(y){var c=y.length;if(c===0)return[];if(c===1)return[0];for(var T=y[0].length,R=[y[0]],v=[0],E=1;E<c;++E){if(R.push(y[E]),!M(R,T)){R.pop();continue}if(v.push(E),v.length===T+1)return v}return v}},5995:function(B,L,a){B.exports=l;var d=a(7642),M=a(6037);function l(y,c){return d(c).filter(function(T){for(var R=new Array(T.length),v=0;v<T.length;++v)R[v]=c[T[v]];return M(R)*y<1})}},3502:function(B,L,a){B.exports=l;var d=a(5995),M=a(9127);function l(y,c){return M(d(y,c))}},6468:function(B){B.exports=function(a){return atob(a)}},2642:function(B,L,a){B.exports=l;var d=a(727);function M(y){for(var c=0,T=0;T<y.length;++T)c+=y[T];return c}function l(y,c){for(var T=c.length,R=new Array(T+1),v=0;v<T;++v){for(var E=new Array(T+1),w=0;w<=T;++w)E[w]=y[w][v];R[v]=E}R[T]=new Array(T+1);for(var v=0;v<=T;++v)R[T][v]=1;for(var s=new Array(T+1),v=0;v<T;++v)s[v]=c[v];s[T]=1;var p=d(R,s),g=M(p[T+1]);g===0&&(g=1);for(var h=new Array(T+1),v=0;v<=T;++v)h[v]=M(p[v])/g;return h}},7507:function(B,L){L.byteLength=R,L.toByteArray=E,L.fromByteArray=p;for(var a=[],d=[],M=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,c=l.length;y<c;++y)a[y]=l[y],d[l.charCodeAt(y)]=y;d[45]=62,d[95]=63;function T(g){var h=g.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=g.indexOf("=");f===-1&&(f=h);var r=f===h?0:4-f%4;return[f,r]}function R(g){var h=T(g),f=h[0],r=h[1];return(f+r)*3/4-r}function v(g,h,f){return(h+f)*3/4-f}function E(g){var h,f=T(g),r=f[0],o=f[1],n=new M(v(g,r,o)),t=0,i=o>0?r-4:r,e;for(e=0;e<i;e+=4)h=d[g.charCodeAt(e)]<<18|d[g.charCodeAt(e+1)]<<12|d[g.charCodeAt(e+2)]<<6|d[g.charCodeAt(e+3)],n[t++]=h>>16&255,n[t++]=h>>8&255,n[t++]=h&255;return o===2&&(h=d[g.charCodeAt(e)]<<2|d[g.charCodeAt(e+1)]>>4,n[t++]=h&255),o===1&&(h=d[g.charCodeAt(e)]<<10|d[g.charCodeAt(e+1)]<<4|d[g.charCodeAt(e+2)]>>2,n[t++]=h>>8&255,n[t++]=h&255),n}function w(g){return a[g>>18&63]+a[g>>12&63]+a[g>>6&63]+a[g&63]}function s(g,h,f){for(var r,o=[],n=h;n<f;n+=3)r=(g[n]<<16&16711680)+(g[n+1]<<8&65280)+(g[n+2]&255),o.push(w(r));return o.join("")}function p(g){for(var h,f=g.length,r=f%3,o=[],n=16383,t=0,i=f-r;t<i;t+=n)o.push(s(g,t,t+n>i?i:t+n));return r===1?(h=g[f-1],o.push(a[h>>2]+a[h<<4&63]+"==")):r===2&&(h=(g[f-2]<<8)+g[f-1],o.push(a[h>>10]+a[h>>4&63]+a[h<<2&63]+"=")),o.join("")}},3865:function(B,L,a){var d=a(869);B.exports=M;function M(l,y){return d(l[0].mul(y[1]).add(y[0].mul(l[1])),l[1].mul(y[1]))}},1318:function(B){B.exports=L;function L(a,d){return a[0].mul(d[1]).cmp(d[0].mul(a[1]))}},8697:function(B,L,a){var d=a(869);B.exports=M;function M(l,y){return d(l[0].mul(y[1]),l[1].mul(y[0]))}},7842:function(B,L,a){var d=a(6330),M=a(1533),l=a(2651),y=a(6768),c=a(869),T=a(8697);B.exports=R;function R(v,E){if(d(v))return E?T(v,R(E)):[v[0].clone(),v[1].clone()];var w=0,s,p;if(M(v))s=v.clone();else if(typeof v=="string")s=y(v);else{if(v===0)return[l(0),l(1)];if(v===Math.floor(v))s=l(v);else{for(;v!==Math.floor(v);)v=v*Math.pow(2,256),w-=256;s=l(v)}}if(d(E))s.mul(E[1]),p=E[0].clone();else if(M(E))p=E.clone();else if(typeof E=="string")p=y(E);else if(!E)p=l(1);else if(E===Math.floor(E))p=l(E);else{for(;E!==Math.floor(E);)E=E*Math.pow(2,256),w+=256;p=l(E)}return w>0?s=s.ushln(w):w<0&&(p=p.ushln(-w)),c(s,p)}},6330:function(B,L,a){var d=a(1533);B.exports=M;function M(l){return Array.isArray(l)&&l.length===2&&d(l[0])&&d(l[1])}},5716:function(B,L,a){var d=a(6859);B.exports=M;function M(l){return l.cmp(new d(0))}},1369:function(B,L,a){var d=a(5716);B.exports=M;function M(l){var y=l.length,c=l.words,T=0;if(y===1)T=c[0];else if(y===2)T=c[0]+c[1]*67108864;else for(var R=0;R<y;R++){var v=c[R];T+=v*Math.pow(67108864,R)}return d(l)*T}},4025:function(B,L,a){var d=a(2361),M=a(8828).countTrailingZeros;B.exports=l;function l(y){var c=M(d.lo(y));if(c<32)return c;var T=M(d.hi(y));return T>20?52:T+32}},1533:function(B,L,a){a(6859),B.exports=d;function d(M){return M&&typeof M=="object"&&!!M.words}},2651:function(B,L,a){var d=a(6859),M=a(2361);B.exports=l;function l(y){var c=M.exponent(y);return c<52?new d(y):new d(y*Math.pow(2,52-c)).ushln(c-52)}},869:function(B,L,a){var d=a(2651),M=a(5716);B.exports=l;function l(y,c){var T=M(y),R=M(c);if(T===0)return[d(0),d(1)];if(R===0)return[d(0),d(0)];R<0&&(y=y.neg(),c=c.neg());var v=y.gcd(c);return v.cmpn(1)?[y.div(v),c.div(v)]:[y,c]}},6768:function(B,L,a){var d=a(6859);B.exports=M;function M(l){return new d(l)}},6504:function(B,L,a){var d=a(869);B.exports=M;function M(l,y){return d(l[0].mul(y[0]),l[1].mul(y[1]))}},7721:function(B,L,a){var d=a(5716);B.exports=M;function M(l){return d(l[0])*d(l[1])}},5572:function(B,L,a){var d=a(869);B.exports=M;function M(l,y){return d(l[0].mul(y[1]).sub(l[1].mul(y[0])),l[1].mul(y[1]))}},946:function(B,L,a){var d=a(1369),M=a(4025);B.exports=l;function l(y){var c=y[0],T=y[1];if(c.cmpn(0)===0)return 0;var R=c.abs().divmod(T.abs()),v=R.div,E=d(v),w=R.mod,s=c.negative!==T.negative?-1:1;if(w.cmpn(0)===0)return s*E;if(E){var p=M(E)+4,g=d(w.ushln(p).divRound(T));return s*(E+g*Math.pow(2,-p))}else{var h=T.bitLength()-w.bitLength()+53,g=d(w.ushln(h).divRound(T));return h<1023?s*g*Math.pow(2,-h):(g*=Math.pow(2,-1023),s*g*Math.pow(2,1023-h))}}},2478:function(B){function L(c,T,R,v,E){for(var w=E+1;v<=E;){var s=v+E>>>1,p=c[s],g=R!==void 0?R(p,T):p-T;g>=0?(w=s,E=s-1):v=s+1}return w}function a(c,T,R,v,E){for(var w=E+1;v<=E;){var s=v+E>>>1,p=c[s],g=R!==void 0?R(p,T):p-T;g>0?(w=s,E=s-1):v=s+1}return w}function d(c,T,R,v,E){for(var w=v-1;v<=E;){var s=v+E>>>1,p=c[s],g=R!==void 0?R(p,T):p-T;g<0?(w=s,v=s+1):E=s-1}return w}function M(c,T,R,v,E){for(var w=v-1;v<=E;){var s=v+E>>>1,p=c[s],g=R!==void 0?R(p,T):p-T;g<=0?(w=s,v=s+1):E=s-1}return w}function l(c,T,R,v,E){for(;v<=E;){var w=v+E>>>1,s=c[w],p=R!==void 0?R(s,T):s-T;if(p===0)return w;p<=0?v=w+1:E=w-1}return-1}function y(c,T,R,v,E,w){return typeof R=="function"?w(c,T,R,v===void 0?0:v|0,E===void 0?c.length-1:E|0):w(c,T,void 0,R===void 0?0:R|0,v===void 0?c.length-1:v|0)}B.exports={ge:function(c,T,R,v,E){return y(c,T,R,v,E,L)},gt:function(c,T,R,v,E){return y(c,T,R,v,E,a)},lt:function(c,T,R,v,E){return y(c,T,R,v,E,d)},le:function(c,T,R,v,E){return y(c,T,R,v,E,M)},eq:function(c,T,R,v,E){return y(c,T,R,v,E,l)}}},8828:function(B,L){"use restrict";var a=32;L.INT_BITS=a,L.INT_MAX=2147483647,L.INT_MIN=-1<<a-1,L.sign=function(l){return(l>0)-(l<0)},L.abs=function(l){var y=l>>a-1;return(l^y)-y},L.min=function(l,y){return y^(l^y)&-(l<y)},L.max=function(l,y){return l^(l^y)&-(l<y)},L.isPow2=function(l){return!(l&l-1)&&!!l},L.log2=function(l){var y,c;return y=(l>65535)<<4,l>>>=y,c=(l>255)<<3,l>>>=c,y|=c,c=(l>15)<<2,l>>>=c,y|=c,c=(l>3)<<1,l>>>=c,y|=c,y|l>>1},L.log10=function(l){return l>=1e9?9:l>=1e8?8:l>=1e7?7:l>=1e6?6:l>=1e5?5:l>=1e4?4:l>=1e3?3:l>=100?2:l>=10?1:0},L.popCount=function(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24};function d(l){var y=32;return l&=-l,l&&y--,l&65535&&(y-=16),l&16711935&&(y-=8),l&252645135&&(y-=4),l&858993459&&(y-=2),l&1431655765&&(y-=1),y}L.countTrailingZeros=d,L.nextPow2=function(l){return l+=l===0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1},L.prevPow2=function(l){return l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l-(l>>>1)},L.parity=function(l){return l^=l>>>16,l^=l>>>8,l^=l>>>4,l&=15,27030>>>l&1};var M=new Array(256);(function(l){for(var y=0;y<256;++y){var c=y,T=y,R=7;for(c>>>=1;c;c>>>=1)T<<=1,T|=c&1,--R;l[y]=T<<R&255}})(M),L.reverse=function(l){return M[l&255]<<24|M[l>>>8&255]<<16|M[l>>>16&255]<<8|M[l>>>24&255]},L.interleave2=function(l,y){return l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,y&=65535,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,l|y<<1},L.deinterleave2=function(l,y){return l=l>>>y&1431655765,l=(l|l>>>1)&858993459,l=(l|l>>>2)&252645135,l=(l|l>>>4)&16711935,l=(l|l>>>16)&65535,l<<16>>16},L.interleave3=function(l,y,c){return l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,y&=1023,y=(y|y<<16)&4278190335,y=(y|y<<8)&251719695,y=(y|y<<4)&3272356035,y=(y|y<<2)&1227133513,l|=y<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,l|c<<2},L.deinterleave3=function(l,y){return l=l>>>y&1227133513,l=(l|l>>>2)&3272356035,l=(l|l>>>4)&251719695,l=(l|l>>>8)&4278190335,l=(l|l>>>16)&1023,l<<22>>22},L.nextCombination=function(l){var y=l|l-1;return y+1|(~y&-~y)-1>>>d(l)+1}},6859:function(B,L,a){B=a.nmd(B),function(d,M){function l(_,u){if(!_)throw new Error(u||"Assertion failed")}function y(_,u){_.super_=u;var I=function(){};I.prototype=u.prototype,_.prototype=new I,_.prototype.constructor=_}function c(_,u,I){if(c.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((u==="le"||u==="be")&&(I=u,u=10),this._init(_||0,u||10,I||"be"))}typeof d=="object"?d.exports=c:M.BN=c,c.BN=c,c.wordSize=26;var T;try{typeof window<"u"&&typeof window.Buffer<"u"?T=window.Buffer:T=a(7790).Buffer}catch{}c.isBN=function(u){return u instanceof c?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===c.wordSize&&Array.isArray(u.words)},c.max=function(u,I){return u.cmp(I)>0?u:I},c.min=function(u,I){return u.cmp(I)<0?u:I},c.prototype._init=function(u,I,F){if(typeof u=="number")return this._initNumber(u,I,F);if(typeof u=="object")return this._initArray(u,I,F);I==="hex"&&(I=16),l(I===(I|0)&&I>=2&&I<=36),u=u.toString().replace(/\s+/g,"");var P=0;u[0]==="-"&&(P++,this.negative=1),P<u.length&&(I===16?this._parseHex(u,P,F):(this._parseBase(u,I,P),F==="le"&&this._initArray(this.toArray(),I,F)))},c.prototype._initNumber=function(u,I,F){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(l(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),F==="le"&&this._initArray(this.toArray(),I,F)},c.prototype._initArray=function(u,I,F){if(l(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var D,V,H=0;if(F==="be")for(P=u.length-1,D=0;P>=0;P-=3)V=u[P]|u[P-1]<<8|u[P-2]<<16,this.words[D]|=V<<H&67108863,this.words[D+1]=V>>>26-H&67108863,H+=24,H>=26&&(H-=26,D++);else if(F==="le")for(P=0,D=0;P<u.length;P+=3)V=u[P]|u[P+1]<<8|u[P+2]<<16,this.words[D]|=V<<H&67108863,this.words[D+1]=V>>>26-H&67108863,H+=24,H>=26&&(H-=26,D++);return this.strip()};function R(_,u){var I=_.charCodeAt(u);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function v(_,u,I){var F=R(_,I);return I-1>=u&&(F|=R(_,I-1)<<4),F}c.prototype._parseHex=function(u,I,F){this.length=Math.ceil((u.length-I)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var D=0,V=0,H;if(F==="be")for(P=u.length-1;P>=I;P-=2)H=v(u,I,P)<<D,this.words[V]|=H&67108863,D>=18?(D-=18,V+=1,this.words[V]|=H>>>26):D+=8;else{var O=u.length-I;for(P=O%2===0?I+1:I;P<u.length;P+=2)H=v(u,I,P)<<D,this.words[V]|=H&67108863,D>=18?(D-=18,V+=1,this.words[V]|=H>>>26):D+=8}this.strip()};function E(_,u,I,F){for(var P=0,D=Math.min(_.length,I),V=u;V<D;V++){var H=_.charCodeAt(V)-48;P*=F,H>=49?P+=H-49+10:H>=17?P+=H-17+10:P+=H}return P}c.prototype._parseBase=function(u,I,F){this.words=[0],this.length=1;for(var P=0,D=1;D<=67108863;D*=I)P++;P--,D=D/I|0;for(var V=u.length-F,H=V%P,O=Math.min(V,V-H)+F,C=0,k=F;k<O;k+=P)C=E(u,k,k+P,I),this.imuln(D),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(H!==0){var $=1;for(C=E(u,k,u.length,I),k=0;k<H;k++)$*=I;this.imuln($),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this.strip()},c.prototype.copy=function(u){u.words=new Array(this.length);for(var I=0;I<this.length;I++)u.words[I]=this.words[I];u.length=this.length,u.negative=this.negative,u.red=this.red},c.prototype.clone=function(){var u=new c(null);return this.copy(u),u},c.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(u,I){u=u||10,I=I|0||1;var F;if(u===16||u==="hex"){F="";for(var P=0,D=0,V=0;V<this.length;V++){var H=this.words[V],O=((H<<P|D)&16777215).toString(16);D=H>>>24-P&16777215,D!==0||V!==this.length-1?F=w[6-O.length]+O+F:F=O+F,P+=2,P>=26&&(P-=26,V--)}for(D!==0&&(F=D.toString(16)+F);F.length%I!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}if(u===(u|0)&&u>=2&&u<=36){var C=s[u],k=p[u];F="";var $=this.clone();for($.negative=0;!$.isZero();){var z=$.modn(k).toString(u);$=$.idivn(k),$.isZero()?F=z+F:F=w[C-z.length]+z+F}for(this.isZero()&&(F="0"+F);F.length%I!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}l(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(u,I){return l(typeof T<"u"),this.toArrayLike(T,u,I)},c.prototype.toArray=function(u,I){return this.toArrayLike(Array,u,I)},c.prototype.toArrayLike=function(u,I,F){var P=this.byteLength(),D=F||Math.max(1,P);l(P<=D,"byte array longer than desired length"),l(D>0,"Requested array length <= 0"),this.strip();var V=I==="le",H=new u(D),O,C,k=this.clone();if(V){for(C=0;!k.isZero();C++)O=k.andln(255),k.iushrn(8),H[C]=O;for(;C<D;C++)H[C]=0}else{for(C=0;C<D-P;C++)H[C]=0;for(C=0;!k.isZero();C++)O=k.andln(255),k.iushrn(8),H[D-C-1]=O}return H},Math.clz32?c.prototype._countBits=function(u){return 32-Math.clz32(u)}:c.prototype._countBits=function(u){var I=u,F=0;return I>=4096&&(F+=13,I>>>=13),I>=64&&(F+=7,I>>>=7),I>=8&&(F+=4,I>>>=4),I>=2&&(F+=2,I>>>=2),F+I},c.prototype._zeroBits=function(u){if(u===0)return 26;var I=u,F=0;return(I&8191)===0&&(F+=13,I>>>=13),(I&127)===0&&(F+=7,I>>>=7),(I&15)===0&&(F+=4,I>>>=4),(I&3)===0&&(F+=2,I>>>=2),(I&1)===0&&F++,F},c.prototype.bitLength=function(){var u=this.words[this.length-1],I=this._countBits(u);return(this.length-1)*26+I};function g(_){for(var u=new Array(_.bitLength()),I=0;I<u.length;I++){var F=I/26|0,P=I%26;u[I]=(_.words[F]&1<<P)>>>P}return u}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,I=0;I<this.length;I++){var F=this._zeroBits(this.words[I]);if(u+=F,F!==26)break}return u},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},c.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var I=0;I<u.length;I++)this.words[I]=this.words[I]|u.words[I];return this.strip()},c.prototype.ior=function(u){return l((this.negative|u.negative)===0),this.iuor(u)},c.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},c.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},c.prototype.iuand=function(u){var I;this.length>u.length?I=u:I=this;for(var F=0;F<I.length;F++)this.words[F]=this.words[F]&u.words[F];return this.length=I.length,this.strip()},c.prototype.iand=function(u){return l((this.negative|u.negative)===0),this.iuand(u)},c.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},c.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},c.prototype.iuxor=function(u){var I,F;this.length>u.length?(I=this,F=u):(I=u,F=this);for(var P=0;P<F.length;P++)this.words[P]=I.words[P]^F.words[P];if(this!==I)for(;P<I.length;P++)this.words[P]=I.words[P];return this.length=I.length,this.strip()},c.prototype.ixor=function(u){return l((this.negative|u.negative)===0),this.iuxor(u)},c.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},c.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},c.prototype.inotn=function(u){l(typeof u=="number"&&u>=0);var I=Math.ceil(u/26)|0,F=u%26;this._expand(I),F>0&&I--;for(var P=0;P<I;P++)this.words[P]=~this.words[P]&67108863;return F>0&&(this.words[P]=~this.words[P]&67108863>>26-F),this.strip()},c.prototype.notn=function(u){return this.clone().inotn(u)},c.prototype.setn=function(u,I){l(typeof u=="number"&&u>=0);var F=u/26|0,P=u%26;return this._expand(F+1),I?this.words[F]=this.words[F]|1<<P:this.words[F]=this.words[F]&~(1<<P),this.strip()},c.prototype.iadd=function(u){var I;if(this.negative!==0&&u.negative===0)return this.negative=0,I=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,I=this.isub(u),u.negative=1,I._normSign();var F,P;this.length>u.length?(F=this,P=u):(F=u,P=this);for(var D=0,V=0;V<P.length;V++)I=(F.words[V]|0)+(P.words[V]|0)+D,this.words[V]=I&67108863,D=I>>>26;for(;D!==0&&V<F.length;V++)I=(F.words[V]|0)+D,this.words[V]=I&67108863,D=I>>>26;if(this.length=F.length,D!==0)this.words[this.length]=D,this.length++;else if(F!==this)for(;V<F.length;V++)this.words[V]=F.words[V];return this},c.prototype.add=function(u){var I;return u.negative!==0&&this.negative===0?(u.negative=0,I=this.sub(u),u.negative^=1,I):u.negative===0&&this.negative!==0?(this.negative=0,I=u.sub(this),this.negative=1,I):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},c.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var I=this.iadd(u);return u.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var F=this.cmp(u);if(F===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,D;F>0?(P=this,D=u):(P=u,D=this);for(var V=0,H=0;H<D.length;H++)I=(P.words[H]|0)-(D.words[H]|0)+V,V=I>>26,this.words[H]=I&67108863;for(;V!==0&&H<P.length;H++)I=(P.words[H]|0)+V,V=I>>26,this.words[H]=I&67108863;if(V===0&&H<P.length&&P!==this)for(;H<P.length;H++)this.words[H]=P.words[H];return this.length=Math.max(this.length,H),P!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(u){return this.clone().isub(u)};function h(_,u,I){I.negative=u.negative^_.negative;var F=_.length+u.length|0;I.length=F,F=F-1|0;var P=_.words[0]|0,D=u.words[0]|0,V=P*D,H=V&67108863,O=V/67108864|0;I.words[0]=H;for(var C=1;C<F;C++){for(var k=O>>>26,$=O&67108863,z=Math.min(C,u.length-1),Y=Math.max(0,C-_.length+1);Y<=z;Y++){var G=C-Y|0;P=_.words[G]|0,D=u.words[Y]|0,V=P*D+$,k+=V/67108864|0,$=V&67108863}I.words[C]=$|0,O=k|0}return O!==0?I.words[C]=O|0:I.length--,I.strip()}var f=function(u,I,F){var P=u.words,D=I.words,V=F.words,H=0,O,C,k,$=P[0]|0,z=$&8191,Y=$>>>13,G=P[1]|0,X=G&8191,K=G>>>13,W=P[2]|0,Z=W&8191,J=W>>>13,tt=P[3]|0,it=tt&8191,et=tt>>>13,j=P[4]|0,at=j&8191,rt=j>>>13,st=P[5]|0,ot=st&8191,ft=st>>>13,xt=P[6]|0,dt=xt&8191,ht=xt>>>13,pt=P[7]|0,lt=pt&8191,bt=pt>>>13,Tt=P[8]|0,yt=Tt&8191,ut=Tt>>>13,vt=P[9]|0,Mt=vt&8191,_t=vt>>>13,Pt=D[0]|0,Ct=Pt&8191,At=Pt>>>13,Ot=D[1]|0,Lt=Ot&8191,St=Ot>>>13,Yt=D[2]|0,Q=Yt&8191,N=Yt>>>13,U=D[3]|0,q=U&8191,nt=U>>>13,ct=D[4]|0,gt=ct&8191,mt=ct>>>13,kt=D[5]|0,It=kt&8191,Bt=kt>>>13,Dt=D[6]|0,Nt=Dt&8191,zt=Dt>>>13,Kt=D[7]|0,Ut=Kt&8191,Ht=Kt>>>13,he=D[8]|0,Vt=he&8191,Gt=he>>>13,ne=D[9]|0,Wt=ne&8191,Xt=ne>>>13;F.negative=u.negative^I.negative,F.length=19,O=Math.imul(z,Ct),C=Math.imul(z,At),C=C+Math.imul(Y,Ct)|0,k=Math.imul(Y,At);var jt=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(jt>>>26)|0,jt&=67108863,O=Math.imul(X,Ct),C=Math.imul(X,At),C=C+Math.imul(K,Ct)|0,k=Math.imul(K,At),O=O+Math.imul(z,Lt)|0,C=C+Math.imul(z,St)|0,C=C+Math.imul(Y,Lt)|0,k=k+Math.imul(Y,St)|0;var te=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(te>>>26)|0,te&=67108863,O=Math.imul(Z,Ct),C=Math.imul(Z,At),C=C+Math.imul(J,Ct)|0,k=Math.imul(J,At),O=O+Math.imul(X,Lt)|0,C=C+Math.imul(X,St)|0,C=C+Math.imul(K,Lt)|0,k=k+Math.imul(K,St)|0,O=O+Math.imul(z,Q)|0,C=C+Math.imul(z,N)|0,C=C+Math.imul(Y,Q)|0,k=k+Math.imul(Y,N)|0;var ee=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ee>>>26)|0,ee&=67108863,O=Math.imul(it,Ct),C=Math.imul(it,At),C=C+Math.imul(et,Ct)|0,k=Math.imul(et,At),O=O+Math.imul(Z,Lt)|0,C=C+Math.imul(Z,St)|0,C=C+Math.imul(J,Lt)|0,k=k+Math.imul(J,St)|0,O=O+Math.imul(X,Q)|0,C=C+Math.imul(X,N)|0,C=C+Math.imul(K,Q)|0,k=k+Math.imul(K,N)|0,O=O+Math.imul(z,q)|0,C=C+Math.imul(z,nt)|0,C=C+Math.imul(Y,q)|0,k=k+Math.imul(Y,nt)|0;var Qt=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,O=Math.imul(at,Ct),C=Math.imul(at,At),C=C+Math.imul(rt,Ct)|0,k=Math.imul(rt,At),O=O+Math.imul(it,Lt)|0,C=C+Math.imul(it,St)|0,C=C+Math.imul(et,Lt)|0,k=k+Math.imul(et,St)|0,O=O+Math.imul(Z,Q)|0,C=C+Math.imul(Z,N)|0,C=C+Math.imul(J,Q)|0,k=k+Math.imul(J,N)|0,O=O+Math.imul(X,q)|0,C=C+Math.imul(X,nt)|0,C=C+Math.imul(K,q)|0,k=k+Math.imul(K,nt)|0,O=O+Math.imul(z,gt)|0,C=C+Math.imul(z,mt)|0,C=C+Math.imul(Y,gt)|0,k=k+Math.imul(Y,mt)|0;var ie=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ie>>>26)|0,ie&=67108863,O=Math.imul(ot,Ct),C=Math.imul(ot,At),C=C+Math.imul(ft,Ct)|0,k=Math.imul(ft,At),O=O+Math.imul(at,Lt)|0,C=C+Math.imul(at,St)|0,C=C+Math.imul(rt,Lt)|0,k=k+Math.imul(rt,St)|0,O=O+Math.imul(it,Q)|0,C=C+Math.imul(it,N)|0,C=C+Math.imul(et,Q)|0,k=k+Math.imul(et,N)|0,O=O+Math.imul(Z,q)|0,C=C+Math.imul(Z,nt)|0,C=C+Math.imul(J,q)|0,k=k+Math.imul(J,nt)|0,O=O+Math.imul(X,gt)|0,C=C+Math.imul(X,mt)|0,C=C+Math.imul(K,gt)|0,k=k+Math.imul(K,mt)|0,O=O+Math.imul(z,It)|0,C=C+Math.imul(z,Bt)|0,C=C+Math.imul(Y,It)|0,k=k+Math.imul(Y,Bt)|0;var ae=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ae>>>26)|0,ae&=67108863,O=Math.imul(dt,Ct),C=Math.imul(dt,At),C=C+Math.imul(ht,Ct)|0,k=Math.imul(ht,At),O=O+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,St)|0,C=C+Math.imul(ft,Lt)|0,k=k+Math.imul(ft,St)|0,O=O+Math.imul(at,Q)|0,C=C+Math.imul(at,N)|0,C=C+Math.imul(rt,Q)|0,k=k+Math.imul(rt,N)|0,O=O+Math.imul(it,q)|0,C=C+Math.imul(it,nt)|0,C=C+Math.imul(et,q)|0,k=k+Math.imul(et,nt)|0,O=O+Math.imul(Z,gt)|0,C=C+Math.imul(Z,mt)|0,C=C+Math.imul(J,gt)|0,k=k+Math.imul(J,mt)|0,O=O+Math.imul(X,It)|0,C=C+Math.imul(X,Bt)|0,C=C+Math.imul(K,It)|0,k=k+Math.imul(K,Bt)|0,O=O+Math.imul(z,Nt)|0,C=C+Math.imul(z,zt)|0,C=C+Math.imul(Y,Nt)|0,k=k+Math.imul(Y,zt)|0;var oe=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(oe>>>26)|0,oe&=67108863,O=Math.imul(lt,Ct),C=Math.imul(lt,At),C=C+Math.imul(bt,Ct)|0,k=Math.imul(bt,At),O=O+Math.imul(dt,Lt)|0,C=C+Math.imul(dt,St)|0,C=C+Math.imul(ht,Lt)|0,k=k+Math.imul(ht,St)|0,O=O+Math.imul(ot,Q)|0,C=C+Math.imul(ot,N)|0,C=C+Math.imul(ft,Q)|0,k=k+Math.imul(ft,N)|0,O=O+Math.imul(at,q)|0,C=C+Math.imul(at,nt)|0,C=C+Math.imul(rt,q)|0,k=k+Math.imul(rt,nt)|0,O=O+Math.imul(it,gt)|0,C=C+Math.imul(it,mt)|0,C=C+Math.imul(et,gt)|0,k=k+Math.imul(et,mt)|0,O=O+Math.imul(Z,It)|0,C=C+Math.imul(Z,Bt)|0,C=C+Math.imul(J,It)|0,k=k+Math.imul(J,Bt)|0,O=O+Math.imul(X,Nt)|0,C=C+Math.imul(X,zt)|0,C=C+Math.imul(K,Nt)|0,k=k+Math.imul(K,zt)|0,O=O+Math.imul(z,Ut)|0,C=C+Math.imul(z,Ht)|0,C=C+Math.imul(Y,Ut)|0,k=k+Math.imul(Y,Ht)|0;var se=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(se>>>26)|0,se&=67108863,O=Math.imul(yt,Ct),C=Math.imul(yt,At),C=C+Math.imul(ut,Ct)|0,k=Math.imul(ut,At),O=O+Math.imul(lt,Lt)|0,C=C+Math.imul(lt,St)|0,C=C+Math.imul(bt,Lt)|0,k=k+Math.imul(bt,St)|0,O=O+Math.imul(dt,Q)|0,C=C+Math.imul(dt,N)|0,C=C+Math.imul(ht,Q)|0,k=k+Math.imul(ht,N)|0,O=O+Math.imul(ot,q)|0,C=C+Math.imul(ot,nt)|0,C=C+Math.imul(ft,q)|0,k=k+Math.imul(ft,nt)|0,O=O+Math.imul(at,gt)|0,C=C+Math.imul(at,mt)|0,C=C+Math.imul(rt,gt)|0,k=k+Math.imul(rt,mt)|0,O=O+Math.imul(it,It)|0,C=C+Math.imul(it,Bt)|0,C=C+Math.imul(et,It)|0,k=k+Math.imul(et,Bt)|0,O=O+Math.imul(Z,Nt)|0,C=C+Math.imul(Z,zt)|0,C=C+Math.imul(J,Nt)|0,k=k+Math.imul(J,zt)|0,O=O+Math.imul(X,Ut)|0,C=C+Math.imul(X,Ht)|0,C=C+Math.imul(K,Ut)|0,k=k+Math.imul(K,Ht)|0,O=O+Math.imul(z,Vt)|0,C=C+Math.imul(z,Gt)|0,C=C+Math.imul(Y,Vt)|0,k=k+Math.imul(Y,Gt)|0;var re=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(re>>>26)|0,re&=67108863,O=Math.imul(Mt,Ct),C=Math.imul(Mt,At),C=C+Math.imul(_t,Ct)|0,k=Math.imul(_t,At),O=O+Math.imul(yt,Lt)|0,C=C+Math.imul(yt,St)|0,C=C+Math.imul(ut,Lt)|0,k=k+Math.imul(ut,St)|0,O=O+Math.imul(lt,Q)|0,C=C+Math.imul(lt,N)|0,C=C+Math.imul(bt,Q)|0,k=k+Math.imul(bt,N)|0,O=O+Math.imul(dt,q)|0,C=C+Math.imul(dt,nt)|0,C=C+Math.imul(ht,q)|0,k=k+Math.imul(ht,nt)|0,O=O+Math.imul(ot,gt)|0,C=C+Math.imul(ot,mt)|0,C=C+Math.imul(ft,gt)|0,k=k+Math.imul(ft,mt)|0,O=O+Math.imul(at,It)|0,C=C+Math.imul(at,Bt)|0,C=C+Math.imul(rt,It)|0,k=k+Math.imul(rt,Bt)|0,O=O+Math.imul(it,Nt)|0,C=C+Math.imul(it,zt)|0,C=C+Math.imul(et,Nt)|0,k=k+Math.imul(et,zt)|0,O=O+Math.imul(Z,Ut)|0,C=C+Math.imul(Z,Ht)|0,C=C+Math.imul(J,Ut)|0,k=k+Math.imul(J,Ht)|0,O=O+Math.imul(X,Vt)|0,C=C+Math.imul(X,Gt)|0,C=C+Math.imul(K,Vt)|0,k=k+Math.imul(K,Gt)|0,O=O+Math.imul(z,Wt)|0,C=C+Math.imul(z,Xt)|0,C=C+Math.imul(Y,Wt)|0,k=k+Math.imul(Y,Xt)|0;var Jt=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,O=Math.imul(Mt,Lt),C=Math.imul(Mt,St),C=C+Math.imul(_t,Lt)|0,k=Math.imul(_t,St),O=O+Math.imul(yt,Q)|0,C=C+Math.imul(yt,N)|0,C=C+Math.imul(ut,Q)|0,k=k+Math.imul(ut,N)|0,O=O+Math.imul(lt,q)|0,C=C+Math.imul(lt,nt)|0,C=C+Math.imul(bt,q)|0,k=k+Math.imul(bt,nt)|0,O=O+Math.imul(dt,gt)|0,C=C+Math.imul(dt,mt)|0,C=C+Math.imul(ht,gt)|0,k=k+Math.imul(ht,mt)|0,O=O+Math.imul(ot,It)|0,C=C+Math.imul(ot,Bt)|0,C=C+Math.imul(ft,It)|0,k=k+Math.imul(ft,Bt)|0,O=O+Math.imul(at,Nt)|0,C=C+Math.imul(at,zt)|0,C=C+Math.imul(rt,Nt)|0,k=k+Math.imul(rt,zt)|0,O=O+Math.imul(it,Ut)|0,C=C+Math.imul(it,Ht)|0,C=C+Math.imul(et,Ut)|0,k=k+Math.imul(et,Ht)|0,O=O+Math.imul(Z,Vt)|0,C=C+Math.imul(Z,Gt)|0,C=C+Math.imul(J,Vt)|0,k=k+Math.imul(J,Gt)|0,O=O+Math.imul(X,Wt)|0,C=C+Math.imul(X,Xt)|0,C=C+Math.imul(K,Wt)|0,k=k+Math.imul(K,Xt)|0;var qt=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(qt>>>26)|0,qt&=67108863,O=Math.imul(Mt,Q),C=Math.imul(Mt,N),C=C+Math.imul(_t,Q)|0,k=Math.imul(_t,N),O=O+Math.imul(yt,q)|0,C=C+Math.imul(yt,nt)|0,C=C+Math.imul(ut,q)|0,k=k+Math.imul(ut,nt)|0,O=O+Math.imul(lt,gt)|0,C=C+Math.imul(lt,mt)|0,C=C+Math.imul(bt,gt)|0,k=k+Math.imul(bt,mt)|0,O=O+Math.imul(dt,It)|0,C=C+Math.imul(dt,Bt)|0,C=C+Math.imul(ht,It)|0,k=k+Math.imul(ht,Bt)|0,O=O+Math.imul(ot,Nt)|0,C=C+Math.imul(ot,zt)|0,C=C+Math.imul(ft,Nt)|0,k=k+Math.imul(ft,zt)|0,O=O+Math.imul(at,Ut)|0,C=C+Math.imul(at,Ht)|0,C=C+Math.imul(rt,Ut)|0,k=k+Math.imul(rt,Ht)|0,O=O+Math.imul(it,Vt)|0,C=C+Math.imul(it,Gt)|0,C=C+Math.imul(et,Vt)|0,k=k+Math.imul(et,Gt)|0,O=O+Math.imul(Z,Wt)|0,C=C+Math.imul(Z,Xt)|0,C=C+Math.imul(J,Wt)|0,k=k+Math.imul(J,Xt)|0;var fe=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(fe>>>26)|0,fe&=67108863,O=Math.imul(Mt,q),C=Math.imul(Mt,nt),C=C+Math.imul(_t,q)|0,k=Math.imul(_t,nt),O=O+Math.imul(yt,gt)|0,C=C+Math.imul(yt,mt)|0,C=C+Math.imul(ut,gt)|0,k=k+Math.imul(ut,mt)|0,O=O+Math.imul(lt,It)|0,C=C+Math.imul(lt,Bt)|0,C=C+Math.imul(bt,It)|0,k=k+Math.imul(bt,Bt)|0,O=O+Math.imul(dt,Nt)|0,C=C+Math.imul(dt,zt)|0,C=C+Math.imul(ht,Nt)|0,k=k+Math.imul(ht,zt)|0,O=O+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,Ht)|0,C=C+Math.imul(ft,Ut)|0,k=k+Math.imul(ft,Ht)|0,O=O+Math.imul(at,Vt)|0,C=C+Math.imul(at,Gt)|0,C=C+Math.imul(rt,Vt)|0,k=k+Math.imul(rt,Gt)|0,O=O+Math.imul(it,Wt)|0,C=C+Math.imul(it,Xt)|0,C=C+Math.imul(et,Wt)|0,k=k+Math.imul(et,Xt)|0;var ue=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ue>>>26)|0,ue&=67108863,O=Math.imul(Mt,gt),C=Math.imul(Mt,mt),C=C+Math.imul(_t,gt)|0,k=Math.imul(_t,mt),O=O+Math.imul(yt,It)|0,C=C+Math.imul(yt,Bt)|0,C=C+Math.imul(ut,It)|0,k=k+Math.imul(ut,Bt)|0,O=O+Math.imul(lt,Nt)|0,C=C+Math.imul(lt,zt)|0,C=C+Math.imul(bt,Nt)|0,k=k+Math.imul(bt,zt)|0,O=O+Math.imul(dt,Ut)|0,C=C+Math.imul(dt,Ht)|0,C=C+Math.imul(ht,Ut)|0,k=k+Math.imul(ht,Ht)|0,O=O+Math.imul(ot,Vt)|0,C=C+Math.imul(ot,Gt)|0,C=C+Math.imul(ft,Vt)|0,k=k+Math.imul(ft,Gt)|0,O=O+Math.imul(at,Wt)|0,C=C+Math.imul(at,Xt)|0,C=C+Math.imul(rt,Wt)|0,k=k+Math.imul(rt,Xt)|0;var le=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(le>>>26)|0,le&=67108863,O=Math.imul(Mt,It),C=Math.imul(Mt,Bt),C=C+Math.imul(_t,It)|0,k=Math.imul(_t,Bt),O=O+Math.imul(yt,Nt)|0,C=C+Math.imul(yt,zt)|0,C=C+Math.imul(ut,Nt)|0,k=k+Math.imul(ut,zt)|0,O=O+Math.imul(lt,Ut)|0,C=C+Math.imul(lt,Ht)|0,C=C+Math.imul(bt,Ut)|0,k=k+Math.imul(bt,Ht)|0,O=O+Math.imul(dt,Vt)|0,C=C+Math.imul(dt,Gt)|0,C=C+Math.imul(ht,Vt)|0,k=k+Math.imul(ht,Gt)|0,O=O+Math.imul(ot,Wt)|0,C=C+Math.imul(ot,Xt)|0,C=C+Math.imul(ft,Wt)|0,k=k+Math.imul(ft,Xt)|0;var ve=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ve>>>26)|0,ve&=67108863,O=Math.imul(Mt,Nt),C=Math.imul(Mt,zt),C=C+Math.imul(_t,Nt)|0,k=Math.imul(_t,zt),O=O+Math.imul(yt,Ut)|0,C=C+Math.imul(yt,Ht)|0,C=C+Math.imul(ut,Ut)|0,k=k+Math.imul(ut,Ht)|0,O=O+Math.imul(lt,Vt)|0,C=C+Math.imul(lt,Gt)|0,C=C+Math.imul(bt,Vt)|0,k=k+Math.imul(bt,Gt)|0,O=O+Math.imul(dt,Wt)|0,C=C+Math.imul(dt,Xt)|0,C=C+Math.imul(ht,Wt)|0,k=k+Math.imul(ht,Xt)|0;var ce=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ce>>>26)|0,ce&=67108863,O=Math.imul(Mt,Ut),C=Math.imul(Mt,Ht),C=C+Math.imul(_t,Ut)|0,k=Math.imul(_t,Ht),O=O+Math.imul(yt,Vt)|0,C=C+Math.imul(yt,Gt)|0,C=C+Math.imul(ut,Vt)|0,k=k+Math.imul(ut,Gt)|0,O=O+Math.imul(lt,Wt)|0,C=C+Math.imul(lt,Xt)|0,C=C+Math.imul(bt,Wt)|0,k=k+Math.imul(bt,Xt)|0;var pe=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(pe>>>26)|0,pe&=67108863,O=Math.imul(Mt,Vt),C=Math.imul(Mt,Gt),C=C+Math.imul(_t,Vt)|0,k=Math.imul(_t,Gt),O=O+Math.imul(yt,Wt)|0,C=C+Math.imul(yt,Xt)|0,C=C+Math.imul(ut,Wt)|0,k=k+Math.imul(ut,Xt)|0;var ge=(H+O|0)+((C&8191)<<13)|0;H=(k+(C>>>13)|0)+(ge>>>26)|0,ge&=67108863,O=Math.imul(Mt,Wt),C=Math.imul(Mt,Xt),C=C+Math.imul(_t,Wt)|0,k=Math.imul(_t,Xt);var de=(H+O|0)+((C&8191)<<13)|0;return H=(k+(C>>>13)|0)+(de>>>26)|0,de&=67108863,V[0]=jt,V[1]=te,V[2]=ee,V[3]=Qt,V[4]=ie,V[5]=ae,V[6]=oe,V[7]=se,V[8]=re,V[9]=Jt,V[10]=qt,V[11]=fe,V[12]=ue,V[13]=le,V[14]=ve,V[15]=ce,V[16]=pe,V[17]=ge,V[18]=de,H!==0&&(V[19]=H,F.length++),F};Math.imul||(f=h);function r(_,u,I){I.negative=u.negative^_.negative,I.length=_.length+u.length;for(var F=0,P=0,D=0;D<I.length-1;D++){var V=P;P=0;for(var H=F&67108863,O=Math.min(D,u.length-1),C=Math.max(0,D-_.length+1);C<=O;C++){var k=D-C,$=_.words[k]|0,z=u.words[C]|0,Y=$*z,G=Y&67108863;V=V+(Y/67108864|0)|0,G=G+H|0,H=G&67108863,V=V+(G>>>26)|0,P+=V>>>26,V&=67108863}I.words[D]=H,F=V,V=P}return F!==0?I.words[D]=F:I.length--,I.strip()}function o(_,u,I){var F=new n;return F.mulp(_,u,I)}c.prototype.mulTo=function(u,I){var F,P=this.length+u.length;return this.length===10&&u.length===10?F=f(this,u,I):P<63?F=h(this,u,I):P<1024?F=r(this,u,I):F=o(this,u,I),F};function n(_,u){this.x=_,this.y=u}n.prototype.makeRBT=function(u){for(var I=new Array(u),F=c.prototype._countBits(u)-1,P=0;P<u;P++)I[P]=this.revBin(P,F,u);return I},n.prototype.revBin=function(u,I,F){if(u===0||u===F-1)return u;for(var P=0,D=0;D<I;D++)P|=(u&1)<<I-D-1,u>>=1;return P},n.prototype.permute=function(u,I,F,P,D,V){for(var H=0;H<V;H++)P[H]=I[u[H]],D[H]=F[u[H]]},n.prototype.transform=function(u,I,F,P,D,V){this.permute(V,u,I,F,P,D);for(var H=1;H<D;H<<=1)for(var O=H<<1,C=Math.cos(2*Math.PI/O),k=Math.sin(2*Math.PI/O),$=0;$<D;$+=O)for(var z=C,Y=k,G=0;G<H;G++){var X=F[$+G],K=P[$+G],W=F[$+G+H],Z=P[$+G+H],J=z*W-Y*Z;Z=z*Z+Y*W,W=J,F[$+G]=X+W,P[$+G]=K+Z,F[$+G+H]=X-W,P[$+G+H]=K-Z,G!==O&&(J=C*z-k*Y,Y=C*Y+k*z,z=J)}},n.prototype.guessLen13b=function(u,I){var F=Math.max(I,u)|1,P=F&1,D=0;for(F=F/2|0;F;F=F>>>1)D++;return 1<<D+1+P},n.prototype.conjugate=function(u,I,F){if(!(F<=1))for(var P=0;P<F/2;P++){var D=u[P];u[P]=u[F-P-1],u[F-P-1]=D,D=I[P],I[P]=-I[F-P-1],I[F-P-1]=-D}},n.prototype.normalize13b=function(u,I){for(var F=0,P=0;P<I/2;P++){var D=Math.round(u[2*P+1]/I)*8192+Math.round(u[2*P]/I)+F;u[P]=D&67108863,D<67108864?F=0:F=D/67108864|0}return u},n.prototype.convert13b=function(u,I,F,P){for(var D=0,V=0;V<I;V++)D=D+(u[V]|0),F[2*V]=D&8191,D=D>>>13,F[2*V+1]=D&8191,D=D>>>13;for(V=2*I;V<P;++V)F[V]=0;l(D===0),l((D&-8192)===0)},n.prototype.stub=function(u){for(var I=new Array(u),F=0;F<u;F++)I[F]=0;return I},n.prototype.mulp=function(u,I,F){var P=2*this.guessLen13b(u.length,I.length),D=this.makeRBT(P),V=this.stub(P),H=new Array(P),O=new Array(P),C=new Array(P),k=new Array(P),$=new Array(P),z=new Array(P),Y=F.words;Y.length=P,this.convert13b(u.words,u.length,H,P),this.convert13b(I.words,I.length,k,P),this.transform(H,V,O,C,P,D),this.transform(k,V,$,z,P,D);for(var G=0;G<P;G++){var X=O[G]*$[G]-C[G]*z[G];C[G]=O[G]*z[G]+C[G]*$[G],O[G]=X}return this.conjugate(O,C,P),this.transform(O,C,Y,V,P,D),this.conjugate(Y,V,P),this.normalize13b(Y,P),F.negative=u.negative^I.negative,F.length=u.length+I.length,F.strip()},c.prototype.mul=function(u){var I=new c(null);return I.words=new Array(this.length+u.length),this.mulTo(u,I)},c.prototype.mulf=function(u){var I=new c(null);return I.words=new Array(this.length+u.length),o(this,u,I)},c.prototype.imul=function(u){return this.clone().mulTo(u,this)},c.prototype.imuln=function(u){l(typeof u=="number"),l(u<67108864);for(var I=0,F=0;F<this.length;F++){var P=(this.words[F]|0)*u,D=(P&67108863)+(I&67108863);I>>=26,I+=P/67108864|0,I+=D>>>26,this.words[F]=D&67108863}return I!==0&&(this.words[F]=I,this.length++),this},c.prototype.muln=function(u){return this.clone().imuln(u)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(u){var I=g(u);if(I.length===0)return new c(1);for(var F=this,P=0;P<I.length&&I[P]===0;P++,F=F.sqr());if(++P<I.length)for(var D=F.sqr();P<I.length;P++,D=D.sqr())I[P]!==0&&(F=F.mul(D));return F},c.prototype.iushln=function(u){l(typeof u=="number"&&u>=0);var I=u%26,F=(u-I)/26,P=67108863>>>26-I<<26-I,D;if(I!==0){var V=0;for(D=0;D<this.length;D++){var H=this.words[D]&P,O=(this.words[D]|0)-H<<I;this.words[D]=O|V,V=H>>>26-I}V&&(this.words[D]=V,this.length++)}if(F!==0){for(D=this.length-1;D>=0;D--)this.words[D+F]=this.words[D];for(D=0;D<F;D++)this.words[D]=0;this.length+=F}return this.strip()},c.prototype.ishln=function(u){return l(this.negative===0),this.iushln(u)},c.prototype.iushrn=function(u,I,F){l(typeof u=="number"&&u>=0);var P;I?P=(I-I%26)/26:P=0;var D=u%26,V=Math.min((u-D)/26,this.length),H=67108863^67108863>>>D<<D,O=F;if(P-=V,P=Math.max(0,P),O){for(var C=0;C<V;C++)O.words[C]=this.words[C];O.length=V}if(V!==0)if(this.length>V)for(this.length-=V,C=0;C<this.length;C++)this.words[C]=this.words[C+V];else this.words[0]=0,this.length=1;var k=0;for(C=this.length-1;C>=0&&(k!==0||C>=P);C--){var $=this.words[C]|0;this.words[C]=k<<26-D|$>>>D,k=$&H}return O&&k!==0&&(O.words[O.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(u,I,F){return l(this.negative===0),this.iushrn(u,I,F)},c.prototype.shln=function(u){return this.clone().ishln(u)},c.prototype.ushln=function(u){return this.clone().iushln(u)},c.prototype.shrn=function(u){return this.clone().ishrn(u)},c.prototype.ushrn=function(u){return this.clone().iushrn(u)},c.prototype.testn=function(u){l(typeof u=="number"&&u>=0);var I=u%26,F=(u-I)/26,P=1<<I;if(this.length<=F)return!1;var D=this.words[F];return!!(D&P)},c.prototype.imaskn=function(u){l(typeof u=="number"&&u>=0);var I=u%26,F=(u-I)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=F)return this;if(I!==0&&F++,this.length=Math.min(F,this.length),I!==0){var P=67108863^67108863>>>I<<I;this.words[this.length-1]&=P}return this.strip()},c.prototype.maskn=function(u){return this.clone().imaskn(u)},c.prototype.iaddn=function(u){return l(typeof u=="number"),l(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},c.prototype._iaddn=function(u){this.words[0]+=u;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},c.prototype.isubn=function(u){if(l(typeof u=="number"),l(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},c.prototype.addn=function(u){return this.clone().iaddn(u)},c.prototype.subn=function(u){return this.clone().isubn(u)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(u,I,F){var P=u.length+F,D;this._expand(P);var V,H=0;for(D=0;D<u.length;D++){V=(this.words[D+F]|0)+H;var O=(u.words[D]|0)*I;V-=O&67108863,H=(V>>26)-(O/67108864|0),this.words[D+F]=V&67108863}for(;D<this.length-F;D++)V=(this.words[D+F]|0)+H,H=V>>26,this.words[D+F]=V&67108863;if(H===0)return this.strip();for(l(H===-1),H=0,D=0;D<this.length;D++)V=-(this.words[D]|0)+H,H=V>>26,this.words[D]=V&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(u,I){var F=this.length-u.length,P=this.clone(),D=u,V=D.words[D.length-1]|0,H=this._countBits(V);F=26-H,F!==0&&(D=D.ushln(F),P.iushln(F),V=D.words[D.length-1]|0);var O=P.length-D.length,C;if(I!=="mod"){C=new c(null),C.length=O+1,C.words=new Array(C.length);for(var k=0;k<C.length;k++)C.words[k]=0}var $=P.clone()._ishlnsubmul(D,1,O);$.negative===0&&(P=$,C&&(C.words[O]=1));for(var z=O-1;z>=0;z--){var Y=(P.words[D.length+z]|0)*67108864+(P.words[D.length+z-1]|0);for(Y=Math.min(Y/V|0,67108863),P._ishlnsubmul(D,Y,z);P.negative!==0;)Y--,P.negative=0,P._ishlnsubmul(D,1,z),P.isZero()||(P.negative^=1);C&&(C.words[z]=Y)}return C&&C.strip(),P.strip(),I!=="div"&&F!==0&&P.iushrn(F),{div:C||null,mod:P}},c.prototype.divmod=function(u,I,F){if(l(!u.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var P,D,V;return this.negative!==0&&u.negative===0?(V=this.neg().divmod(u,I),I!=="mod"&&(P=V.div.neg()),I!=="div"&&(D=V.mod.neg(),F&&D.negative!==0&&D.iadd(u)),{div:P,mod:D}):this.negative===0&&u.negative!==0?(V=this.divmod(u.neg(),I),I!=="mod"&&(P=V.div.neg()),{div:P,mod:V.mod}):(this.negative&u.negative)!==0?(V=this.neg().divmod(u.neg(),I),I!=="div"&&(D=V.mod.neg(),F&&D.negative!==0&&D.isub(u)),{div:V.div,mod:D}):u.length>this.length||this.cmp(u)<0?{div:new c(0),mod:this}:u.length===1?I==="div"?{div:this.divn(u.words[0]),mod:null}:I==="mod"?{div:null,mod:new c(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new c(this.modn(u.words[0]))}:this._wordDiv(u,I)},c.prototype.div=function(u){return this.divmod(u,"div",!1).div},c.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},c.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},c.prototype.divRound=function(u){var I=this.divmod(u);if(I.mod.isZero())return I.div;var F=I.div.negative!==0?I.mod.isub(u):I.mod,P=u.ushrn(1),D=u.andln(1),V=F.cmp(P);return V<0||D===1&&V===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},c.prototype.modn=function(u){l(u<=67108863);for(var I=(1<<26)%u,F=0,P=this.length-1;P>=0;P--)F=(I*F+(this.words[P]|0))%u;return F},c.prototype.idivn=function(u){l(u<=67108863);for(var I=0,F=this.length-1;F>=0;F--){var P=(this.words[F]|0)+I*67108864;this.words[F]=P/u|0,I=P%u}return this.strip()},c.prototype.divn=function(u){return this.clone().idivn(u)},c.prototype.egcd=function(u){l(u.negative===0),l(!u.isZero());var I=this,F=u.clone();I.negative!==0?I=I.umod(u):I=I.clone();for(var P=new c(1),D=new c(0),V=new c(0),H=new c(1),O=0;I.isEven()&&F.isEven();)I.iushrn(1),F.iushrn(1),++O;for(var C=F.clone(),k=I.clone();!I.isZero();){for(var $=0,z=1;(I.words[0]&z)===0&&$<26;++$,z<<=1);if($>0)for(I.iushrn($);$-- >0;)(P.isOdd()||D.isOdd())&&(P.iadd(C),D.isub(k)),P.iushrn(1),D.iushrn(1);for(var Y=0,G=1;(F.words[0]&G)===0&&Y<26;++Y,G<<=1);if(Y>0)for(F.iushrn(Y);Y-- >0;)(V.isOdd()||H.isOdd())&&(V.iadd(C),H.isub(k)),V.iushrn(1),H.iushrn(1);I.cmp(F)>=0?(I.isub(F),P.isub(V),D.isub(H)):(F.isub(I),V.isub(P),H.isub(D))}return{a:V,b:H,gcd:F.iushln(O)}},c.prototype._invmp=function(u){l(u.negative===0),l(!u.isZero());var I=this,F=u.clone();I.negative!==0?I=I.umod(u):I=I.clone();for(var P=new c(1),D=new c(0),V=F.clone();I.cmpn(1)>0&&F.cmpn(1)>0;){for(var H=0,O=1;(I.words[0]&O)===0&&H<26;++H,O<<=1);if(H>0)for(I.iushrn(H);H-- >0;)P.isOdd()&&P.iadd(V),P.iushrn(1);for(var C=0,k=1;(F.words[0]&k)===0&&C<26;++C,k<<=1);if(C>0)for(F.iushrn(C);C-- >0;)D.isOdd()&&D.iadd(V),D.iushrn(1);I.cmp(F)>=0?(I.isub(F),P.isub(D)):(F.isub(I),D.isub(P))}var $;return I.cmpn(1)===0?$=P:$=D,$.cmpn(0)<0&&$.iadd(u),$},c.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var I=this.clone(),F=u.clone();I.negative=0,F.negative=0;for(var P=0;I.isEven()&&F.isEven();P++)I.iushrn(1),F.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;F.isEven();)F.iushrn(1);var D=I.cmp(F);if(D<0){var V=I;I=F,F=V}else if(D===0||F.cmpn(1)===0)break;I.isub(F)}while(!0);return F.iushln(P)},c.prototype.invm=function(u){return this.egcd(u).a.umod(u)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(u){return this.words[0]&u},c.prototype.bincn=function(u){l(typeof u=="number");var I=u%26,F=(u-I)/26,P=1<<I;if(this.length<=F)return this._expand(F+1),this.words[F]|=P,this;for(var D=P,V=F;D!==0&&V<this.length;V++){var H=this.words[V]|0;H+=D,D=H>>>26,H&=67108863,this.words[V]=H}return D!==0&&(this.words[V]=D,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(u){var I=u<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var F;if(this.length>1)F=1;else{I&&(u=-u),l(u<=67108863,"Number is too big");var P=this.words[0]|0;F=P===u?0:P<u?-1:1}return this.negative!==0?-F|0:F},c.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var I=this.ucmp(u);return this.negative!==0?-I|0:I},c.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var I=0,F=this.length-1;F>=0;F--){var P=this.words[F]|0,D=u.words[F]|0;if(P!==D){P<D?I=-1:P>D&&(I=1);break}}return I},c.prototype.gtn=function(u){return this.cmpn(u)===1},c.prototype.gt=function(u){return this.cmp(u)===1},c.prototype.gten=function(u){return this.cmpn(u)>=0},c.prototype.gte=function(u){return this.cmp(u)>=0},c.prototype.ltn=function(u){return this.cmpn(u)===-1},c.prototype.lt=function(u){return this.cmp(u)===-1},c.prototype.lten=function(u){return this.cmpn(u)<=0},c.prototype.lte=function(u){return this.cmp(u)<=0},c.prototype.eqn=function(u){return this.cmpn(u)===0},c.prototype.eq=function(u){return this.cmp(u)===0},c.red=function(u){return new m(u)},c.prototype.toRed=function(u){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},c.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(u){return this.red=u,this},c.prototype.forceRed=function(u){return l(!this.red,"Already a number in reduction context"),this._forceRed(u)},c.prototype.redAdd=function(u){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},c.prototype.redIAdd=function(u){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},c.prototype.redSub=function(u){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},c.prototype.redISub=function(u){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},c.prototype.redShl=function(u){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},c.prototype.redMul=function(u){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},c.prototype.redIMul=function(u){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},c.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(u){return l(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var t={k256:null,p224:null,p192:null,p25519:null};function i(_,u){this.name=_,this.p=new c(u,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i.prototype._tmp=function(){var u=new c(null);return u.words=new Array(Math.ceil(this.n/13)),u},i.prototype.ireduce=function(u){var I=u,F;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),F=I.bitLength();while(F>this.n);var P=F<this.n?-1:I.ucmp(this.p);return P===0?(I.words[0]=0,I.length=1):P>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},i.prototype.split=function(u,I){u.iushrn(this.n,0,I)},i.prototype.imulK=function(u){return u.imul(this.k)};function e(){i.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(e,i),e.prototype.split=function(u,I){for(var F=4194303,P=Math.min(u.length,9),D=0;D<P;D++)I.words[D]=u.words[D];if(I.length=P,u.length<=9){u.words[0]=0,u.length=1;return}var V=u.words[9];for(I.words[I.length++]=V&F,D=10;D<u.length;D++){var H=u.words[D]|0;u.words[D-10]=(H&F)<<4|V>>>22,V=H}V>>>=22,u.words[D-10]=V,V===0&&u.length>10?u.length-=10:u.length-=9},e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var I=0,F=0;F<u.length;F++){var P=u.words[F]|0;I+=P*977,u.words[F]=I&67108863,I=P*64+(I/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function A(){i.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(A,i);function b(){i.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(b,i);function x(){i.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(x,i),x.prototype.imulK=function(u){for(var I=0,F=0;F<u.length;F++){var P=(u.words[F]|0)*19+I,D=P&67108863;P>>>=26,u.words[F]=D,I=P}return I!==0&&(u.words[u.length++]=I),u},c._prime=function(u){if(t[u])return t[u];var I;if(u==="k256")I=new e;else if(u==="p224")I=new A;else if(u==="p192")I=new b;else if(u==="p25519")I=new x;else throw new Error("Unknown prime "+u);return t[u]=I,I};function m(_){if(typeof _=="string"){var u=c._prime(_);this.m=u.p,this.prime=u}else l(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}m.prototype._verify1=function(u){l(u.negative===0,"red works only with positives"),l(u.red,"red works only with red numbers")},m.prototype._verify2=function(u,I){l((u.negative|I.negative)===0,"red works only with positives"),l(u.red&&u.red===I.red,"red works only with red numbers")},m.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},m.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},m.prototype.add=function(u,I){this._verify2(u,I);var F=u.add(I);return F.cmp(this.m)>=0&&F.isub(this.m),F._forceRed(this)},m.prototype.iadd=function(u,I){this._verify2(u,I);var F=u.iadd(I);return F.cmp(this.m)>=0&&F.isub(this.m),F},m.prototype.sub=function(u,I){this._verify2(u,I);var F=u.sub(I);return F.cmpn(0)<0&&F.iadd(this.m),F._forceRed(this)},m.prototype.isub=function(u,I){this._verify2(u,I);var F=u.isub(I);return F.cmpn(0)<0&&F.iadd(this.m),F},m.prototype.shl=function(u,I){return this._verify1(u),this.imod(u.ushln(I))},m.prototype.imul=function(u,I){return this._verify2(u,I),this.imod(u.imul(I))},m.prototype.mul=function(u,I){return this._verify2(u,I),this.imod(u.mul(I))},m.prototype.isqr=function(u){return this.imul(u,u.clone())},m.prototype.sqr=function(u){return this.mul(u,u)},m.prototype.sqrt=function(u){if(u.isZero())return u.clone();var I=this.m.andln(3);if(l(I%2===1),I===3){var F=this.m.add(new c(1)).iushrn(2);return this.pow(u,F)}for(var P=this.m.subn(1),D=0;!P.isZero()&&P.andln(1)===0;)D++,P.iushrn(1);l(!P.isZero());var V=new c(1).toRed(this),H=V.redNeg(),O=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new c(2*C*C).toRed(this);this.pow(C,O).cmp(H)!==0;)C.redIAdd(H);for(var k=this.pow(C,P),$=this.pow(u,P.addn(1).iushrn(1)),z=this.pow(u,P),Y=D;z.cmp(V)!==0;){for(var G=z,X=0;G.cmp(V)!==0;X++)G=G.redSqr();l(X<Y);var K=this.pow(k,new c(1).iushln(Y-X-1));$=$.redMul(K),k=K.redSqr(),z=z.redMul(k),Y=X}return $},m.prototype.invm=function(u){var I=u._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},m.prototype.pow=function(u,I){if(I.isZero())return new c(1).toRed(this);if(I.cmpn(1)===0)return u.clone();var F=4,P=new Array(1<<F);P[0]=new c(1).toRed(this),P[1]=u;for(var D=2;D<P.length;D++)P[D]=this.mul(P[D-1],u);var V=P[0],H=0,O=0,C=I.bitLength()%26;for(C===0&&(C=26),D=I.length-1;D>=0;D--){for(var k=I.words[D],$=C-1;$>=0;$--){var z=k>>$&1;if(V!==P[0]&&(V=this.sqr(V)),z===0&&H===0){O=0;continue}H<<=1,H|=z,O++,!(O!==F&&(D!==0||$!==0))&&(V=this.mul(V,P[H]),O=0,H=0)}C=26}return V},m.prototype.convertTo=function(u){var I=u.umod(this.m);return I===u?I.clone():I},m.prototype.convertFrom=function(u){var I=u.clone();return I.red=null,I},c.mont=function(u){return new S(u)};function S(_){m.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(S,m),S.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},S.prototype.convertFrom=function(u){var I=this.imod(u.mul(this.rinv));return I.red=null,I},S.prototype.imul=function(u,I){if(u.isZero()||I.isZero())return u.words[0]=0,u.length=1,u;var F=u.imul(I),P=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=F.isub(P).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},S.prototype.mul=function(u,I){if(u.isZero()||I.isZero())return new c(0)._forceRed(this);var F=u.mul(I),P=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=F.isub(P).iushrn(this.shift),V=D;return D.cmp(this.m)>=0?V=D.isub(this.m):D.cmpn(0)<0&&(V=D.iadd(this.m)),V._forceRed(this)},S.prototype.invm=function(u){var I=this.imod(u._invmp(this.m).mul(this.r2));return I._forceRed(this)}}(B,this)},6204:function(B){B.exports=L;function L(a){var d,M,l,y=a.length,c=0;for(d=0;d<y;++d)c+=a[d].length;var T=new Array(c),R=0;for(d=0;d<y;++d){var v=a[d],E=v.length;for(M=0;M<E;++M){var w=T[R++]=new Array(E-1),s=0;for(l=0;l<E;++l)l!==M&&(w[s++]=v[l]);if(M&1){var p=w[1];w[1]=w[0],w[0]=p}}}return T}},6867:function(B,L,a){B.exports=s;var d=a(1888),M=a(855),l=a(7150);function y(p,g){for(var h=0;h<p;++h)if(!(g[h]<=g[h+p]))return!0;return!1}function c(p,g,h,f){for(var r=0,o=0,n=0,t=p.length;n<t;++n){var i=p[n];if(!y(g,i)){for(var e=0;e<2*g;++e)h[r++]=i[e];f[o++]=n}}return o}function T(p,g,h,f){var r=p.length,o=g.length;if(!(r<=0||o<=0)){var n=p[0].length>>>1;if(!(n<=0)){var t,i=d.mallocDouble(2*n*r),e=d.mallocInt32(r);if(r=c(p,n,i,e),r>0){if(n===1&&f)M.init(r),t=M.sweepComplete(n,h,0,r,i,e,0,r,i,e);else{var A=d.mallocDouble(2*n*o),b=d.mallocInt32(o);o=c(g,n,A,b),o>0&&(M.init(r+o),n===1?t=M.sweepBipartite(n,h,0,r,i,e,0,o,A,b):t=l(n,h,f,r,i,e,o,A,b),d.free(A),d.free(b))}d.free(i),d.free(e)}return t}}}var R;function v(p,g){R.push([p,g])}function E(p){return R=[],T(p,p,v,!0),R}function w(p,g){return R=[],T(p,g,v,!1),R}function s(p,g,h){switch(arguments.length){case 1:return E(p);case 2:return typeof g=="function"?T(p,p,g,!0):w(p,g);case 3:return T(p,g,h,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(B,L){function a(){function l(T,R,v,E,w,s,p,g,h,f,r){for(var o=2*T,n=E,t=o*E;n<w;++n,t+=o){var i=s[R+t],e=s[R+t+T],A=p[n];t:for(var b=g,x=o*g;b<h;++b,x+=o){var m=f[R+x],S=f[R+x+T],_=r[b];if(!(S<i||e<m)){for(var u=R+1;u<T;++u){var I=s[u+t],F=s[u+T+t],P=f[u+x],D=f[u+T+x];if(F<P||D<I)continue t}var V=v(A,_);if(V!==void 0)return V}}}}function y(T,R,v,E,w,s,p,g,h,f,r){for(var o=2*T,n=g,t=o*g;n<h;++n,t+=o){var i=f[R+t],e=f[R+t+T],A=r[n];t:for(var b=E,x=o*E;b<w;++b,x+=o){var m=s[R+x],S=s[R+x+T],_=p[b];if(!(e<m||S<i)){for(var u=R+1;u<T;++u){var I=s[u+x],F=s[u+T+x],P=f[u+t],D=f[u+T+t];if(F<P||D<I)continue t}var V=v(_,A);if(V!==void 0)return V}}}}function c(T,R,v,E,w,s,p,g,h,f,r){return w-E>h-g?l(T,R,v,E,w,s,p,g,h,f,r):y(T,R,v,E,w,s,p,g,h,f,r)}return c}function d(){function l(v,E,w,s,p,g,h,f,r,o,n){for(var t=2*v,i=s,e=t*s;i<p;++i,e+=t){var A=g[E+e],b=g[E+e+v],x=h[i];t:for(var m=f,S=t*f;m<r;++m,S+=t){var _=o[E+S],u=n[m];if(!(_<=A||b<_)){for(var I=E+1;I<v;++I){var F=g[I+e],P=g[I+v+e],D=o[I+S],V=o[I+v+S];if(P<D||V<F)continue t}var H=w(u,x);if(H!==void 0)return H}}}}function y(v,E,w,s,p,g,h,f,r,o,n){for(var t=2*v,i=s,e=t*s;i<p;++i,e+=t){var A=g[E+e],b=g[E+e+v],x=h[i];t:for(var m=f,S=t*f;m<r;++m,S+=t){var _=o[E+S],u=n[m];if(!(_<A||b<_)){for(var I=E+1;I<v;++I){var F=g[I+e],P=g[I+v+e],D=o[I+S],V=o[I+v+S];if(P<D||V<F)continue t}var H=w(x,u);if(H!==void 0)return H}}}}function c(v,E,w,s,p,g,h,f,r,o,n){for(var t=2*v,i=f,e=t*f;i<r;++i,e+=t){var A=o[E+e],b=n[i];t:for(var x=s,m=t*s;x<p;++x,m+=t){var S=g[E+m],_=g[E+m+v],u=h[x];if(!(A<=S||_<A)){for(var I=E+1;I<v;++I){var F=g[I+m],P=g[I+v+m],D=o[I+e],V=o[I+v+e];if(P<D||V<F)continue t}var H=w(b,u);if(H!==void 0)return H}}}}function T(v,E,w,s,p,g,h,f,r,o,n){for(var t=2*v,i=f,e=t*f;i<r;++i,e+=t){var A=o[E+e],b=n[i];t:for(var x=s,m=t*s;x<p;++x,m+=t){var S=g[E+m],_=g[E+m+v],u=h[x];if(!(A<S||_<A)){for(var I=E+1;I<v;++I){var F=g[I+m],P=g[I+v+m],D=o[I+e],V=o[I+v+e];if(P<D||V<F)continue t}var H=w(u,b);if(H!==void 0)return H}}}}function R(v,E,w,s,p,g,h,f,r,o,n,t){return g-p>o-r?s?l(v,E,w,p,g,h,f,r,o,n,t):y(v,E,w,p,g,h,f,r,o,n,t):s?c(v,E,w,p,g,h,f,r,o,n,t):T(v,E,w,p,g,h,f,r,o,n,t)}return R}function M(l){return l?a():d()}L.partial=M(!1),L.full=M(!0)},7150:function(B,L,a){B.exports=_;var d=a(1888),M=a(8828),l=a(2455),y=l.partial,c=l.full,T=a(855),R=a(3545),v=a(8105),E=128,w=1<<22,s=1<<22,p=v("!(lo>=p0)&&!(p1>=hi)"),g=v("lo===p0"),h=v("lo<p0"),f=v("hi<=p0"),r=v("lo<=p0&&p0<=hi"),o=v("lo<p0&&p0<=hi"),n=6,t=2,i=1024,e=d.mallocInt32(i),A=d.mallocDouble(i);function b(u,I){var F=8*M.log2(I+1)*(u+1)|0,P=M.nextPow2(n*F);e.length<P&&(d.free(e),e=d.mallocInt32(P));var D=M.nextPow2(t*F);A.length<D&&(d.free(A),A=d.mallocDouble(D))}function x(u,I,F,P,D,V,H,O,C){var k=n*u;e[k]=I,e[k+1]=F,e[k+2]=P,e[k+3]=D,e[k+4]=V,e[k+5]=H;var $=t*u;A[$]=O,A[$+1]=C}function m(u,I,F,P,D,V,H,O,C,k,$){var z=2*u,Y=C*z,G=k[Y+I];t:for(var X=D,K=D*z;X<V;++X,K+=z){var W=H[K+I],Z=H[K+I+u];if(!(G<W||Z<G)&&!(P&&G===W)){for(var J=O[X],tt=I+1;tt<u;++tt){var W=H[K+tt],Z=H[K+tt+u],it=k[Y+tt],et=k[Y+tt+u];if(Z<it||et<W)continue t}var j;if(P?j=F($,J):j=F(J,$),j!==void 0)return j}}}function S(u,I,F,P,D,V,H,O,C,k){var $=2*u,z=O*$,Y=C[z+I];t:for(var G=P,X=P*$;G<D;++G,X+=$){var K=H[G];if(K!==k){var W=V[X+I],Z=V[X+I+u];if(!(Y<W||Z<Y)){for(var J=I+1;J<u;++J){var W=V[X+J],Z=V[X+J+u],tt=C[z+J],it=C[z+J+u];if(Z<tt||it<W)continue t}var et=F(K,k);if(et!==void 0)return et}}}}function _(u,I,F,P,D,V,H,O,C){b(u,P+H);var k=0,$=2*u,z;for(x(k++,0,0,P,0,H,F?16:0,-1/0,1/0),F||x(k++,0,0,H,0,P,1,-1/0,1/0);k>0;){k-=1;var Y=k*n,G=e[Y],X=e[Y+1],K=e[Y+2],W=e[Y+3],Z=e[Y+4],J=e[Y+5],tt=k*t,it=A[tt],et=A[tt+1],j=J&1,at=!!(J&16),rt=D,st=V,ot=O,ft=C;if(j&&(rt=O,st=C,ot=D,ft=V),!(J&2&&(K=h(u,G,X,K,rt,st,et),X>=K))&&!(J&4&&(X=f(u,G,X,K,rt,st,it),X>=K))){var xt=K-X,dt=Z-W;if(at){if(u*xt*(xt+dt)<s){if(z=T.scanComplete(u,G,I,X,K,rt,st,W,Z,ot,ft),z!==void 0)return z;continue}}else if(u*Math.min(xt,dt)<E){if(z=y(u,G,I,j,X,K,rt,st,W,Z,ot,ft),z!==void 0)return z;continue}else if(u*xt*dt<w){if(z=T.scanBipartite(u,G,I,j,X,K,rt,st,W,Z,ot,ft),z!==void 0)return z;continue}var ht=p(u,G,X,K,rt,st,it,et);if(X<ht)if(u*(ht-X)<E){if(z=c(u,G+1,I,X,ht,rt,st,W,Z,ot,ft),z!==void 0)return z}else if(G===u-2){if(j?z=T.sweepBipartite(u,I,W,Z,ot,ft,X,ht,rt,st):z=T.sweepBipartite(u,I,X,ht,rt,st,W,Z,ot,ft),z!==void 0)return z}else x(k++,G+1,X,ht,W,Z,j,-1/0,1/0),x(k++,G+1,W,Z,X,ht,j^1,-1/0,1/0);if(ht<K){var pt=R(u,G,W,Z,ot,ft),lt=ot[$*pt+G],bt=g(u,G,pt,Z,ot,ft,lt);if(bt<Z&&x(k++,G,ht,K,bt,Z,(j|4)+(at?16:0),lt,et),W<pt&&x(k++,G,ht,K,W,pt,(j|2)+(at?16:0),it,lt),pt+1===bt){if(at?z=S(u,G,I,ht,K,rt,st,pt,ot,ft[pt]):z=m(u,G,I,j,ht,K,rt,st,pt,ot,ft[pt]),z!==void 0)return z}else if(pt<bt){var Tt;if(at){if(Tt=r(u,G,ht,K,rt,st,lt),ht<Tt){var yt=g(u,G,ht,Tt,rt,st,lt);if(G===u-2){if(ht<yt&&(z=T.sweepComplete(u,I,ht,yt,rt,st,pt,bt,ot,ft),z!==void 0)||yt<Tt&&(z=T.sweepBipartite(u,I,yt,Tt,rt,st,pt,bt,ot,ft),z!==void 0))return z}else ht<yt&&x(k++,G+1,ht,yt,pt,bt,16,-1/0,1/0),yt<Tt&&(x(k++,G+1,yt,Tt,pt,bt,0,-1/0,1/0),x(k++,G+1,pt,bt,yt,Tt,1,-1/0,1/0))}}else j?Tt=o(u,G,ht,K,rt,st,lt):Tt=r(u,G,ht,K,rt,st,lt),ht<Tt&&(G===u-2?j?z=T.sweepBipartite(u,I,pt,bt,ot,ft,ht,Tt,rt,st):z=T.sweepBipartite(u,I,ht,Tt,rt,st,pt,bt,ot,ft):(x(k++,G+1,ht,Tt,pt,bt,j,-1/0,1/0),x(k++,G+1,pt,bt,ht,Tt,j^1,-1/0,1/0)))}}}}}},3545:function(B,L,a){B.exports=c;var d=a(8105),M=d("lo<p0"),l=8;function y(T,R,v,E,w,s){for(var p=2*T,g=p*(v+1)+R,h=v+1;h<E;++h,g+=p)for(var f=w[g],r=h,o=p*(h-1);r>v&&w[o+R]>f;--r,o-=p){for(var n=o,t=o+p,i=0;i<p;++i,++n,++t){var e=w[n];w[n]=w[t],w[t]=e}var A=s[r];s[r]=s[r-1],s[r-1]=A}}function c(T,R,v,E,w,s){if(E<=v+1)return v;for(var p=v,g=E,h=E+v>>>1,f=2*T,r=h,o=w[f*h+R];p<g;){if(g-p<l){y(T,R,p,g,w,s),o=w[f*h+R];break}var n=g-p,t=Math.random()*n+p|0,i=w[f*t+R],e=Math.random()*n+p|0,A=w[f*e+R],b=Math.random()*n+p|0,x=w[f*b+R];i<=A?x>=A?(r=e,o=A):i>=x?(r=t,o=i):(r=b,o=x):A>=x?(r=e,o=A):x>=i?(r=t,o=i):(r=b,o=x);for(var _=f*(g-1),u=f*r,m=0;m<f;++m,++_,++u){var S=w[_];w[_]=w[u],w[u]=S}var I=s[g-1];s[g-1]=s[r],s[r]=I,r=M(T,R,p,g-1,w,s,o);for(var _=f*(g-1),u=f*r,m=0;m<f;++m,++_,++u){var S=w[_];w[_]=w[u],w[u]=S}var I=s[g-1];if(s[g-1]=s[r],s[r]=I,h<r){for(g=r-1;p<g&&w[f*(g-1)+R]===o;)g-=1;g+=1}else if(r<h)for(p=r+1;p<g&&w[f*p+R]===o;)p+=1;else break}return M(T,R,v,h,w,s,w[f*h+R])}},8105:function(B){B.exports=a;var L={"lo===p0":d,"lo<p0":M,"lo<=p0":l,"hi<=p0":y,"lo<p0&&p0<=hi":T,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":R};function a(v){return L[v]}function d(v,E,w,s,p,g,h){for(var f=2*v,r=f*w,o=r,n=w,t=E,i=v+E,e=w;s>e;++e,r+=f){var A=p[r+t];if(A===h)if(n===e)n+=1,o+=f;else{for(var b=0;f>b;++b){var x=p[r+b];p[r+b]=p[o],p[o++]=x}var m=g[e];g[e]=g[n],g[n++]=m}}return n}function M(v,E,w,s,p,g,h){for(var f=2*v,r=f*w,o=r,n=w,t=E,i=v+E,e=w;s>e;++e,r+=f){var A=p[r+t];if(A<h)if(n===e)n+=1,o+=f;else{for(var b=0;f>b;++b){var x=p[r+b];p[r+b]=p[o],p[o++]=x}var m=g[e];g[e]=g[n],g[n++]=m}}return n}function l(v,E,w,s,p,g,h){for(var f=2*v,r=f*w,o=r,n=w,t=E,i=v+E,e=w;s>e;++e,r+=f){var A=p[r+i];if(A<=h)if(n===e)n+=1,o+=f;else{for(var b=0;f>b;++b){var x=p[r+b];p[r+b]=p[o],p[o++]=x}var m=g[e];g[e]=g[n],g[n++]=m}}return n}function y(v,E,w,s,p,g,h){for(var f=2*v,r=f*w,o=r,n=w,t=E,i=v+E,e=w;s>e;++e,r+=f){var A=p[r+i];if(A<=h)if(n===e)n+=1,o+=f;else{for(var b=0;f>b;++b){var x=p[r+b];p[r+b]=p[o],p[o++]=x}var m=g[e];g[e]=g[n],g[n++]=m}}return n}function c(v,E,w,s,p,g,h){for(var f=2*v,r=f*w,o=r,n=w,t=E,i=v+E,e=w;s>e;++e,r+=f){var A=p[r+t],b=p[r+i];if(A<=h&&h<=b)if(n===e)n+=1,o+=f;else{for(var x=0;f>x;++x){var m=p[r+x];p[r+x]=p[o],p[o++]=m}var S=g[e];g[e]=g[n],g[n++]=S}}return n}function T(v,E,w,s,p,g,h){for(var f=2*v,r=f*w,o=r,n=w,t=E,i=v+E,e=w;s>e;++e,r+=f){var A=p[r+t],b=p[r+i];if(A<h&&h<=b)if(n===e)n+=1,o+=f;else{for(var x=0;f>x;++x){var m=p[r+x];p[r+x]=p[o],p[o++]=m}var S=g[e];g[e]=g[n],g[n++]=S}}return n}function R(v,E,w,s,p,g,h,f){for(var r=2*v,o=r*w,n=o,t=w,i=E,e=v+E,A=w;s>A;++A,o+=r){var b=p[o+i],x=p[o+e];if(!(b>=h)&&!(f>=x))if(t===A)t+=1,n+=r;else{for(var m=0;r>m;++m){var S=p[o+m];p[o+m]=p[n],p[n++]=S}var _=g[A];g[A]=g[t],g[t++]=_}}return t}},4192:function(B){B.exports=a;var L=32;function a(E,w){w<=4*L?d(0,w-1,E):v(0,w-1,E)}function d(E,w,s){for(var p=2*(E+1),g=E+1;g<=w;++g){for(var h=s[p++],f=s[p++],r=g,o=p-2;r-- >E;){var n=s[o-2],t=s[o-1];if(n<h)break;if(n===h&&t<f)break;s[o]=n,s[o+1]=t,o-=2}s[o]=h,s[o+1]=f}}function M(E,w,s){E*=2,w*=2;var p=s[E],g=s[E+1];s[E]=s[w],s[E+1]=s[w+1],s[w]=p,s[w+1]=g}function l(E,w,s){E*=2,w*=2,s[E]=s[w],s[E+1]=s[w+1]}function y(E,w,s,p){E*=2,w*=2,s*=2;var g=p[E],h=p[E+1];p[E]=p[w],p[E+1]=p[w+1],p[w]=p[s],p[w+1]=p[s+1],p[s]=g,p[s+1]=h}function c(E,w,s,p,g){E*=2,w*=2,g[E]=g[w],g[w]=s,g[E+1]=g[w+1],g[w+1]=p}function T(E,w,s){E*=2,w*=2;var p=s[E],g=s[w];return p<g?!1:p===g?s[E+1]>s[w+1]:!0}function R(E,w,s,p){E*=2;var g=p[E];return g<w?!0:g===w?p[E+1]<s:!1}function v(E,w,s){var p=(w-E+1)/6|0,g=E+p,h=w-p,f=E+w>>1,r=f-p,o=f+p,n=g,t=r,i=f,e=o,A=h,b=E+1,x=w-1,m=0;T(n,t,s)&&(m=n,n=t,t=m),T(e,A,s)&&(m=e,e=A,A=m),T(n,i,s)&&(m=n,n=i,i=m),T(t,i,s)&&(m=t,t=i,i=m),T(n,e,s)&&(m=n,n=e,e=m),T(i,e,s)&&(m=i,i=e,e=m),T(t,A,s)&&(m=t,t=A,A=m),T(t,i,s)&&(m=t,t=i,i=m),T(e,A,s)&&(m=e,e=A,A=m);for(var S=s[2*t],_=s[2*t+1],u=s[2*e],I=s[2*e+1],F=2*n,P=2*i,D=2*A,V=2*g,H=2*f,O=2*h,C=0;C<2;++C){var k=s[F+C],$=s[P+C],z=s[D+C];s[V+C]=k,s[H+C]=$,s[O+C]=z}l(r,E,s),l(o,w,s);for(var Y=b;Y<=x;++Y)if(R(Y,S,_,s))Y!==b&&M(Y,b,s),++b;else if(!R(Y,u,I,s))for(;;)if(R(x,u,I,s)){R(x,S,_,s)?(y(Y,b,x,s),++b,--x):(M(Y,x,s),--x);break}else{if(--x<Y)break;continue}c(E,b-1,S,_,s),c(w,x+1,u,I,s),b-2-E<=L?d(E,b-2,s):v(E,b-2,s),w-(x+2)<=L?d(x+2,w,s):v(x+2,w,s),x-b<=L?d(b,x,s):v(b,x,s)}},855:function(B,L,a){B.exports={init:g,sweepBipartite:r,sweepComplete:o,scanBipartite:n,scanComplete:t};var d=a(1888),M=a(8828),l=a(4192),y=1<<28,c=1024,T=d.mallocInt32(c),R=d.mallocInt32(c),v=d.mallocInt32(c),E=d.mallocInt32(c),w=d.mallocInt32(c),s=d.mallocInt32(c),p=d.mallocDouble(c*8);function g(i){var e=M.nextPow2(i);T.length<e&&(d.free(T),T=d.mallocInt32(e)),R.length<e&&(d.free(R),R=d.mallocInt32(e)),v.length<e&&(d.free(v),v=d.mallocInt32(e)),E.length<e&&(d.free(E),E=d.mallocInt32(e)),w.length<e&&(d.free(w),w=d.mallocInt32(e)),s.length<e&&(d.free(s),s=d.mallocInt32(e));var A=8*e;p.length<A&&(d.free(p),p=d.mallocDouble(A))}function h(i,e,A,b){var x=e[b],m=i[A-1];i[x]=m,e[m]=x}function f(i,e,A,b){i[A]=b,e[b]=A}function r(i,e,A,b,x,m,S,_,u,I){for(var F=0,P=2*i,D=i-1,V=P-1,H=A;H<b;++H){var O=m[H],C=P*H;p[F++]=x[C+D],p[F++]=-(O+1),p[F++]=x[C+V],p[F++]=O}for(var H=S;H<_;++H){var O=I[H]+y,k=P*H;p[F++]=u[k+D],p[F++]=-O,p[F++]=u[k+V],p[F++]=O}var $=F>>>1;l(p,$);for(var z=0,Y=0,H=0;H<$;++H){var G=p[2*H+1]|0;if(G>=y)G=G-y|0,h(v,E,Y--,G);else if(G>=0)h(T,R,z--,G);else if(G<=-y){G=-G-y|0;for(var X=0;X<z;++X){var K=e(T[X],G);if(K!==void 0)return K}f(v,E,Y++,G)}else{G=-G-1|0;for(var X=0;X<Y;++X){var K=e(G,v[X]);if(K!==void 0)return K}f(T,R,z++,G)}}}function o(i,e,A,b,x,m,S,_,u,I){for(var F=0,P=2*i,D=i-1,V=P-1,H=A;H<b;++H){var O=m[H]+1<<1,C=P*H;p[F++]=x[C+D],p[F++]=-O,p[F++]=x[C+V],p[F++]=O}for(var H=S;H<_;++H){var O=I[H]+1<<1,k=P*H;p[F++]=u[k+D],p[F++]=-O|1,p[F++]=u[k+V],p[F++]=O|1}var $=F>>>1;l(p,$);for(var z=0,Y=0,G=0,H=0;H<$;++H){var X=p[2*H+1]|0,K=X&1;if(H<$-1&&X>>1===p[2*H+3]>>1&&(K=2,H+=1),X<0){for(var W=-(X>>1)-1,Z=0;Z<G;++Z){var J=e(w[Z],W);if(J!==void 0)return J}if(K!==0)for(var Z=0;Z<z;++Z){var J=e(T[Z],W);if(J!==void 0)return J}if(K!==1)for(var Z=0;Z<Y;++Z){var J=e(v[Z],W);if(J!==void 0)return J}K===0?f(T,R,z++,W):K===1?f(v,E,Y++,W):K===2&&f(w,s,G++,W)}else{var W=(X>>1)-1;K===0?h(T,R,z--,W):K===1?h(v,E,Y--,W):K===2&&h(w,s,G--,W)}}}function n(i,e,A,b,x,m,S,_,u,I,F,P){var D=0,V=2*i,H=e,O=e+i,C=1,k=1;b?k=y:C=y;for(var $=x;$<m;++$){var z=$+C,Y=V*$;p[D++]=S[Y+H],p[D++]=-z,p[D++]=S[Y+O],p[D++]=z}for(var $=u;$<I;++$){var z=$+k,G=V*$;p[D++]=F[G+H],p[D++]=-z}var X=D>>>1;l(p,X);for(var K=0,$=0;$<X;++$){var W=p[2*$+1]|0;if(W<0){var z=-W,Z=!1;if(z>=y?(Z=!b,z-=y):(Z=!!b,z-=1),Z)f(T,R,K++,z);else{var J=P[z],tt=V*z,it=F[tt+e+1],et=F[tt+e+1+i];t:for(var j=0;j<K;++j){var at=T[j],rt=V*at;if(!(et<S[rt+e+1]||S[rt+e+1+i]<it)){for(var st=e+2;st<i;++st)if(F[tt+st+i]<S[rt+st]||S[rt+st+i]<F[tt+st])continue t;var ot=_[at],ft;if(b?ft=A(J,ot):ft=A(ot,J),ft!==void 0)return ft}}}}else h(T,R,K--,W-C)}}function t(i,e,A,b,x,m,S,_,u,I,F){for(var P=0,D=2*i,V=e,H=e+i,O=b;O<x;++O){var C=O+y,k=D*O;p[P++]=m[k+V],p[P++]=-C,p[P++]=m[k+H],p[P++]=C}for(var O=_;O<u;++O){var C=O+1,$=D*O;p[P++]=I[$+V],p[P++]=-C}var z=P>>>1;l(p,z);for(var Y=0,O=0;O<z;++O){var G=p[2*O+1]|0;if(G<0){var C=-G;if(C>=y)T[Y++]=C-y;else{C-=1;var X=F[C],K=D*C,W=I[K+e+1],Z=I[K+e+1+i];t:for(var J=0;J<Y;++J){var tt=T[J],it=S[tt];if(it===X)break;var et=D*tt;if(!(Z<m[et+e+1]||m[et+e+1+i]<W)){for(var j=e+2;j<i;++j)if(I[K+j+i]<m[et+j]||m[et+j+i]<I[K+j])continue t;var at=A(it,X);if(at!==void 0)return at}}}}else{for(var C=G-y,J=Y-1;J>=0;--J)if(T[J]===C){for(var j=J+1;j<Y;++j)T[j-1]=T[j];break}--Y}}}},2538:function(B,L,a){var d=a(8902),M=a(5542),l=a(2272),y=a(5023);B.exports=E;function c(w){return[Math.min(w[0],w[1]),Math.max(w[0],w[1])]}function T(w,s){return w[0]-s[0]||w[1]-s[1]}function R(w){return w.map(c).sort(T)}function v(w,s,p){return s in w?w[s]:p}function E(w,s,p){Array.isArray(s)?(p=p||{},s=s||[]):(p=s||{},s=[]);var g=!!v(p,"delaunay",!0),h=!!v(p,"interior",!0),f=!!v(p,"exterior",!0),r=!!v(p,"infinity",!1);if(!h&&!f||w.length===0)return[];var o=d(w,s);if(g||h!==f||r){for(var n=M(w.length,R(s)),t=0;t<o.length;++t){var i=o[t];n.addTriangle(i[0],i[1],i[2])}return g&&l(w,n),f?h?r?y(n,0,r):n.cells():y(n,1,r):y(n,-1)}else return o}},2272:function(B,L,a){var d=a(2646)[4];a(2478),B.exports=l;function M(y,c,T,R,v,E){var w=c.opposite(R,v);if(!(w<0)){if(v<R){var s=R;R=v,v=s,s=E,E=w,w=s}c.isConstraint(R,v)||d(y[R],y[v],y[E],y[w])<0&&T.push(R,v)}}function l(y,c){for(var T=[],R=y.length,v=c.stars,E=0;E<R;++E)for(var w=v[E],s=1;s<w.length;s+=2){var p=w[s];if(!(p<E)&&!c.isConstraint(E,p)){for(var g=w[s-1],h=-1,f=1;f<w.length;f+=2)if(w[f-1]===p){h=w[f];break}h<0||d(y[E],y[p],y[g],y[h])<0&&T.push(E,p)}}for(;T.length>0;){for(var p=T.pop(),E=T.pop(),g=-1,h=-1,w=v[E],r=1;r<w.length;r+=2){var o=w[r-1],n=w[r];o===p?h=n:n===p&&(g=o)}g<0||h<0||d(y[E],y[p],y[g],y[h])>=0||(c.flip(E,p),M(y,c,T,g,E,h),M(y,c,T,E,h,g),M(y,c,T,h,p,g),M(y,c,T,p,g,h))}}},5023:function(B,L,a){var d=a(2478);B.exports=R;function M(v,E,w,s,p,g,h){this.cells=v,this.neighbor=E,this.flags=s,this.constraint=w,this.active=p,this.next=g,this.boundary=h}var l=M.prototype;function y(v,E){return v[0]-E[0]||v[1]-E[1]||v[2]-E[2]}l.locate=function(){var v=[0,0,0];return function(E,w,s){var p=E,g=w,h=s;return w<s?w<E&&(p=w,g=s,h=E):s<E&&(p=s,g=E,h=w),p<0?-1:(v[0]=p,v[1]=g,v[2]=h,d.eq(this.cells,v,y))}}();function c(v,E){for(var w=v.cells(),s=w.length,p=0;p<s;++p){var g=w[p],h=g[0],f=g[1],r=g[2];f<r?f<h&&(g[0]=f,g[1]=r,g[2]=h):r<h&&(g[0]=r,g[1]=h,g[2]=f)}w.sort(y);for(var o=new Array(s),p=0;p<o.length;++p)o[p]=0;var n=[],t=[],i=new Array(3*s),e=new Array(3*s),A=null;E&&(A=[]);for(var b=new M(w,i,e,o,n,t,A),p=0;p<s;++p)for(var g=w[p],x=0;x<3;++x){var h=g[x],f=g[(x+1)%3],m=i[3*p+x]=b.locate(f,h,v.opposite(f,h)),S=e[3*p+x]=v.isConstraint(h,f);m<0&&(S?t.push(p):(n.push(p),o[p]=1),E&&A.push([f,h,-1]))}return b}function T(v,E,w){for(var s=0,p=0;p<v.length;++p)E[p]===w&&(v[s++]=v[p]);return v.length=s,v}function R(v,E,w){var s=c(v,w);if(E===0)return w?s.cells.concat(s.boundary):s.cells;for(var p=1,g=s.active,h=s.next,f=s.flags,r=s.cells,o=s.constraint,n=s.neighbor;g.length>0||h.length>0;){for(;g.length>0;){var t=g.pop();if(f[t]!==-p){f[t]=p,r[t];for(var i=0;i<3;++i){var e=n[3*t+i];e>=0&&f[e]===0&&(o[3*t+i]?h.push(e):(g.push(e),f[e]=p))}}}var A=h;h=g,g=A,h.length=0,p=-p}var b=T(r,f,E);return w?b.concat(s.boundary):b}},8902:function(B,L,a){var d=a(2478),M=a(3250)[3],l=0,y=1,c=2;B.exports=h;function T(f,r,o,n,t){this.a=f,this.b=r,this.idx=o,this.lowerIds=n,this.upperIds=t}function R(f,r,o,n){this.a=f,this.b=r,this.type=o,this.idx=n}function v(f,r){var o=f.a[0]-r.a[0]||f.a[1]-r.a[1]||f.type-r.type;return o||f.type!==l&&(o=M(f.a,f.b,r.b),o)?o:f.idx-r.idx}function E(f,r){return M(f.a,f.b,r)}function w(f,r,o,n,t){for(var i=d.lt(r,n,E),e=d.gt(r,n,E),A=i;A<e;++A){for(var b=r[A],x=b.lowerIds,S=x.length;S>1&&M(o[x[S-2]],o[x[S-1]],n)>0;)f.push([x[S-1],x[S-2],t]),S-=1;x.length=S,x.push(t);for(var m=b.upperIds,S=m.length;S>1&&M(o[m[S-2]],o[m[S-1]],n)<0;)f.push([m[S-2],m[S-1],t]),S-=1;m.length=S,m.push(t)}}function s(f,r){var o;return f.a[0]<r.a[0]?o=M(f.a,f.b,r.a):o=M(r.b,r.a,f.a),o||(r.b[0]<f.b[0]?o=M(f.a,f.b,r.b):o=M(r.b,r.a,f.b),o||f.idx-r.idx)}function p(f,r,o){var n=d.le(f,o,s),t=f[n],i=t.upperIds,e=i[i.length-1];t.upperIds=[e],f.splice(n+1,0,new T(o.a,o.b,o.idx,[e],i))}function g(f,r,o){var n=o.a;o.a=o.b,o.b=n;var t=d.eq(f,o,s),i=f[t],e=f[t-1];e.upperIds=i.upperIds,f.splice(t,1)}function h(f,r){for(var o=f.length,n=r.length,t=[],i=0;i<o;++i)t.push(new R(f[i],null,l,i));for(var i=0;i<n;++i){var e=r[i],A=f[e[0]],b=f[e[1]];A[0]<b[0]?t.push(new R(A,b,c,i),new R(b,A,y,i)):A[0]>b[0]&&t.push(new R(b,A,c,i),new R(A,b,y,i))}t.sort(v);for(var x=t[0].a[0]-(1+Math.abs(t[0].a[0]))*Math.pow(2,-52),m=[new T([x,1],[x,0],-1,[],[])],S=[],i=0,_=t.length;i<_;++i){var u=t[i],I=u.type;I===l?w(S,m,f,u.a,u.idx):I===c?p(m,f,u):g(m,f,u)}return S}},5542:function(B,L,a){var d=a(2478);B.exports=c;function M(T,R){this.stars=T,this.edges=R}var l=M.prototype;function y(T,R,v){for(var E=1,w=T.length;E<w;E+=2)if(T[E-1]===R&&T[E]===v){T[E-1]=T[w-2],T[E]=T[w-1],T.length=w-2;return}}l.isConstraint=function(){var T=[0,0];function R(v,E){return v[0]-E[0]||v[1]-E[1]}return function(v,E){return T[0]=Math.min(v,E),T[1]=Math.max(v,E),d.eq(this.edges,T,R)>=0}}(),l.removeTriangle=function(T,R,v){var E=this.stars;y(E[T],R,v),y(E[R],v,T),y(E[v],T,R)},l.addTriangle=function(T,R,v){var E=this.stars;E[T].push(R,v),E[R].push(v,T),E[v].push(T,R)},l.opposite=function(T,R){for(var v=this.stars[R],E=1,w=v.length;E<w;E+=2)if(v[E]===T)return v[E-1];return-1},l.flip=function(T,R){var v=this.opposite(T,R),E=this.opposite(R,T);this.removeTriangle(T,R,v),this.removeTriangle(R,T,E),this.addTriangle(T,E,v),this.addTriangle(R,v,E)},l.edges=function(){for(var T=this.stars,R=[],v=0,E=T.length;v<E;++v)for(var w=T[v],s=0,p=w.length;s<p;s+=2)R.push([w[s],w[s+1]]);return R},l.cells=function(){for(var T=this.stars,R=[],v=0,E=T.length;v<E;++v)for(var w=T[v],s=0,p=w.length;s<p;s+=2){var g=w[s],h=w[s+1];v<Math.min(g,h)&&R.push([v,g,h])}return R};function c(T,R){for(var v=new Array(T),E=0;E<T;++E)v[E]=[];return new M(v,R)}},2419:function(B){B.exports=L;function L(a){for(var d=1,M=1;M<a.length;++M)for(var l=0;l<M;++l)if(a[M]<a[l])d=-d;else if(a[l]===a[M])return 0;return d}},3628:function(B,L,a){var d=a(1338),M=a(727);function l(T,R){for(var v=0,E=T.length,w=0;w<E;++w)v+=T[w]*R[w];return v}function y(T){var R=T.length;if(R===0)return[];T[0].length;var v=d([T.length+1,T.length+1],1),E=d([T.length+1],1);v[R][R]=0;for(var w=0;w<R;++w){for(var s=0;s<=w;++s)v[s][w]=v[w][s]=2*l(T[w],T[s]);E[w]=l(T[w],T[w])}for(var p=M(v,E),g=0,h=p[R+1],w=0;w<h.length;++w)g+=h[w];for(var f=new Array(R),w=0;w<R;++w){for(var h=p[w],r=0,s=0;s<h.length;++s)r+=h[s];f[w]=r/g}return f}function c(T){if(T.length===0)return[];for(var R=T[0].length,v=d([R]),E=y(T),w=0;w<T.length;++w)for(var s=0;s<R;++s)v[s]+=T[w][s]*E[w];return v}c.barycenetric=y,B.exports=c},6037:function(B,L,a){B.exports=M;var d=a(3628);function M(l){for(var y=d(l),c=0,T=0;T<l.length;++T)for(var R=l[T],v=0;v<y.length;++v)c+=Math.pow(R[v]-y[v],2);return Math.sqrt(c/l.length)}},332:function(B,L,a){B.exports=A;var d=a(1755),M=a(6867),l=a(1125),y=a(7842),c=a(1318),T=a(946),R=a(5838),v=a(1278),E=a(3637);function w(b){var x=T(b);return[v(x,-1/0),v(x,1/0)]}function s(b,x){for(var m=new Array(x.length),S=0;S<x.length;++S){var _=x[S],u=b[_[0]],I=b[_[1]];m[S]=[v(Math.min(u[0],I[0]),-1/0),v(Math.min(u[1],I[1]),-1/0),v(Math.max(u[0],I[0]),1/0),v(Math.max(u[1],I[1]),1/0)]}return m}function p(b){for(var x=new Array(b.length),m=0;m<b.length;++m){var S=b[m];x[m]=[v(S[0],-1/0),v(S[1],-1/0),v(S[0],1/0),v(S[1],1/0)]}return x}function g(b,x,m){var S=[];return M(m,function(_,u){var I=x[_],F=x[u];if(!(I[0]===F[0]||I[0]===F[1]||I[1]===F[0]||I[1]===F[1])){var P=b[I[0]],D=b[I[1]],V=b[F[0]],H=b[F[1]];l(P,D,V,H)&&S.push([_,u])}}),S}function h(b,x,m,S){var _=[];return M(m,S,function(u,I){var F=x[u];if(!(F[0]===I||F[1]===I)){var P=b[I],D=b[F[0]],V=b[F[1]];l(D,V,P,P)&&_.push([u,I])}}),_}function f(b,x,m,S,_){var u,I,F=b.map(function(tt){return[y(tt[0]),y(tt[1])]});for(u=0;u<m.length;++u){var P=m[u];I=P[0];var D=P[1],V=x[I],H=x[D],O=E(R(b[V[0]]),R(b[V[1]]),R(b[H[0]]),R(b[H[1]]));if(O){var C=b.length;b.push([T(O[0]),T(O[1])]),F.push(O),S.push([I,C],[D,C])}}for(S.sort(function(tt,it){if(tt[0]!==it[0])return tt[0]-it[0];var et=F[tt[1]],j=F[it[1]];return c(et[0],j[0])||c(et[1],j[1])}),u=S.length-1;u>=0;--u){var k=S[u];I=k[0];var $=x[I],z=$[0],Y=$[1],G=b[z],X=b[Y];if((G[0]-X[0]||G[1]-X[1])<0){var K=z;z=Y,Y=K}$[0]=z;var W=$[1]=k[1],Z;for(_&&(Z=$[2]);u>0&&S[u-1][0]===I;){var k=S[--u],J=k[1];_?x.push([W,J,Z]):x.push([W,J]),W=J}_?x.push([W,Y,Z]):x.push([W,Y])}return F}function r(b,x,m){for(var S=x.length,_=new d(S),u=[],I=0;I<x.length;++I){var F=x[I],P=w(F[0]),D=w(F[1]);u.push([v(P[0],-1/0),v(D[0],-1/0),v(P[1],1/0),v(D[1],1/0)])}M(u,function(k,$){_.link(k,$)});for(var V=!0,H=new Array(S),I=0;I<S;++I){var O=_.find(I);O!==I&&(V=!1,b[O]=[Math.min(b[I][0],b[O][0]),Math.min(b[I][1],b[O][1])])}if(V)return null;for(var C=0,I=0;I<S;++I){var O=_.find(I);O===I?(H[I]=C,b[C++]=b[I]):H[I]=-1}b.length=C;for(var I=0;I<S;++I)H[I]<0&&(H[I]=H[_.find(I)]);return H}function o(b,x){return b[0]-x[0]||b[1]-x[1]}function n(b,x){var m=b[0]-x[0]||b[1]-x[1];return m||(b[2]<x[2]?-1:b[2]>x[2]?1:0)}function t(b,x,m){if(b.length!==0){if(x)for(var S=0;S<b.length;++S){var _=b[S],u=x[_[0]],I=x[_[1]];_[0]=Math.min(u,I),_[1]=Math.max(u,I)}else for(var S=0;S<b.length;++S){var _=b[S],u=_[0],I=_[1];_[0]=Math.min(u,I),_[1]=Math.max(u,I)}m?b.sort(n):b.sort(o);for(var F=1,S=1;S<b.length;++S){var P=b[S-1],D=b[S];D[0]===P[0]&&D[1]===P[1]&&(!m||D[2]===P[2])||(b[F++]=D)}b.length=F}}function i(b,x,m){var S=r(b,[],p(b));return t(x,S,m),!!S}function e(b,x,m){var S=s(b,x),_=g(b,x,S),u=p(b),I=h(b,x,S,u),F=f(b,x,_,I,m),P=r(b,F);return t(x,P,m),P?!0:_.length>0||I.length>0}function A(b,x,m){var S;if(m){S=x;for(var _=new Array(x.length),u=0;u<x.length;++u){var I=x[u];_[u]=[I[0],I[1],m[u]]}x=_}for(var F=i(b,x,!!m);e(b,x,!!m);)F=!0;if(m&&F){S.length=0,m.length=0;for(var u=0;u<x.length;++u){var I=x[u];S.push([I[0],I[1]]),m.push(I[2])}}return F}},3637:function(B,L,a){B.exports=E;var d=a(6504),M=a(8697),l=a(5572),y=a(7721),c=a(544),T=a(2653),R=a(8987);function v(w,s){return l(d(w[0],s[1]),d(w[1],s[0]))}function E(w,s,p,g){var h=c(s,w),f=c(g,p),r=v(h,f);if(y(r)===0)return null;var o=c(w,p),n=v(f,o),t=M(n,r),i=R(h,t),e=T(w,i);return e}},3642:function(B){B.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(B,L,a){var d=a(3642),M=a(395);B.exports=l;function l(R){var v,E,w,s,p,g,h,f,t,r,o;if(R||(R={}),f=(R.nshades||72)-1,h=R.format||"hex",g=R.colormap,g||(g="jet"),typeof g=="string"){if(g=g.toLowerCase(),!d[g])throw Error(g+" not a supported colorscale");p=d[g]}else if(Array.isArray(g))p=g.slice();else throw Error("unsupported colormap option",g);if(p.length>f+1)throw new Error(g+" map requires nshades to be at least size "+p.length);Array.isArray(R.alpha)?R.alpha.length!==2?r=[1,1]:r=R.alpha.slice():typeof R.alpha=="number"?r=[R.alpha,R.alpha]:r=[1,1],v=p.map(function(A){return Math.round(A.index*f)}),r[0]=Math.min(Math.max(r[0],0),1),r[1]=Math.min(Math.max(r[1],0),1);var n=p.map(function(A,b){var x=p[b].index,m=p[b].rgb.slice();return m.length===4&&m[3]>=0&&m[3]<=1||(m[3]=r[0]+(r[1]-r[0])*x),m}),t=[];for(o=0;o<v.length-1;++o){s=v[o+1]-v[o],E=n[o],w=n[o+1];for(var i=0;i<s;i++){var e=i/s;t.push([Math.round(M(E[0],w[0],e)),Math.round(M(E[1],w[1],e)),Math.round(M(E[2],w[2],e)),M(E[3],w[3],e)])}}return t.push(p[p.length-1].rgb.concat(r[1])),h==="hex"?t=t.map(c):h==="rgbaString"?t=t.map(T):h==="float"&&(t=t.map(y)),t}function y(R){return[R[0]/255,R[1]/255,R[2]/255,R[3]]}function c(R){for(var v,E="#",w=0;w<3;++w)v=R[w],v=v.toString(16),E+=("00"+v).substr(v.length);return E}function T(R){return"rgba("+R.join(",")+")"}},3140:function(B,L,a){B.exports=R;var d=a(3250),M=a(8572),l=a(9362),y=a(5382),c=a(8210);function T(v,E,w){var s=l(v[0],-E[0]),p=l(v[1],-E[1]),g=l(w[0],-E[0]),h=l(w[1],-E[1]),f=c(y(s,g),y(p,h));return f[f.length-1]>=0}function R(v,E,w,s){var p=d(E,w,s);if(p===0){var g=M(d(v,E,w)),h=M(d(v,E,s));if(g===h){if(g===0){var f=T(v,E,w),r=T(v,E,s);return f===r?0:f?1:-1}return 0}else{if(h===0)return g>0||T(v,E,s)?-1:1;if(g===0)return h>0||T(v,E,w)?1:-1}return M(h-g)}var o=d(v,E,w);if(o>0)return p>0&&d(v,E,s)>0?1:-1;if(o<0)return p>0||d(v,E,s)>0?1:-1;var n=d(v,E,s);return n>0||T(v,E,w)?1:-1}},8572:function(B){B.exports=function(a){return a<0?-1:a>0?1:0}},8507:function(B){B.exports=d;var L=Math.min;function a(M,l){return M-l}function d(M,l){var y=M.length,c=M.length-l.length;if(c)return c;switch(y){case 0:return 0;case 1:return M[0]-l[0];case 2:return M[0]+M[1]-l[0]-l[1]||L(M[0],M[1])-L(l[0],l[1]);case 3:var T=M[0]+M[1],R=l[0]+l[1];if(c=T+M[2]-(R+l[2]),c)return c;var v=L(M[0],M[1]),E=L(l[0],l[1]);return L(v,M[2])-L(E,l[2])||L(v+M[2],T)-L(E+l[2],R);case 4:var w=M[0],s=M[1],p=M[2],g=M[3],h=l[0],f=l[1],r=l[2],o=l[3];return w+s+p+g-(h+f+r+o)||L(w,s,p,g)-L(h,f,r,o,h)||L(w+s,w+p,w+g,s+p,s+g,p+g)-L(h+f,h+r,h+o,f+r,f+o,r+o)||L(w+s+p,w+s+g,w+p+g,s+p+g)-L(h+f+r,h+f+o,h+r+o,f+r+o);default:for(var n=M.slice().sort(a),t=l.slice().sort(a),i=0;i<y;++i)if(c=n[i]-t[i],c)return c;return 0}}},3788:function(B,L,a){var d=a(8507),M=a(2419);B.exports=l;function l(y,c){return d(y,c)||M(y)-M(c)}},7352:function(B,L,a){var d=a(5721),M=a(4750),l=a(2690);B.exports=y;function y(c){var T=c.length;if(T===0)return[];if(T===1)return[[0]];var R=c[0].length;return R===0?[]:R===1?d(c):R===2?M(c):l(c,R)}},5721:function(B){B.exports=L;function L(a){for(var d=0,M=0,l=1;l<a.length;++l)a[l][0]<a[d][0]&&(d=l),a[l][0]>a[M][0]&&(M=l);return d<M?[[d],[M]]:d>M?[[M],[d]]:[[d]]}},4750:function(B,L,a){B.exports=M;var d=a(3090);function M(l){var y=d(l),c=y.length;if(c<=2)return[];for(var T=new Array(c),R=y[c-1],v=0;v<c;++v){var E=y[v];T[v]=[R,E],R=E}return T}},2690:function(B,L,a){B.exports=c;var d=a(8954),M=a(3952);function l(T,R){for(var v=T.length,E=new Array(v),w=0;w<R.length;++w)E[w]=T[R[w]];for(var s=R.length,w=0;w<v;++w)R.indexOf(w)<0&&(E[s++]=T[w]);return E}function y(T,R){for(var v=T.length,E=R.length,w=0;w<v;++w)for(var s=T[w],p=0;p<s.length;++p){var g=s[p];if(g<E)s[p]=R[g];else{g=g-E;for(var h=0;h<E;++h)g>=R[h]&&(g+=1);s[p]=g}}return T}function c(T,R){try{return d(T,!0)}catch{var v=M(T);if(v.length<=R)return[];var E=l(T,v),w=d(E,!0);return y(w,v)}}},4769:function(B){function L(d,M,l,y,c,T){var R=6*c*c-6*c,v=3*c*c-4*c+1,E=-6*c*c+6*c,w=3*c*c-2*c;if(d.length){T||(T=new Array(d.length));for(var s=d.length-1;s>=0;--s)T[s]=R*d[s]+v*M[s]+E*l[s]+w*y[s];return T}return R*d+v*M+E*l[s]+w*y}function a(d,M,l,y,c,T){var R=c-1,v=c*c,E=R*R,w=(1+2*c)*E,s=c*E,p=v*(3-2*c),g=v*R;if(d.length){T||(T=new Array(d.length));for(var h=d.length-1;h>=0;--h)T[h]=w*d[h]+s*M[h]+p*l[h]+g*y[h];return T}return w*d+s*M+p*l+g*y}B.exports=a,B.exports.derivative=L},7642:function(B,L,a){var d=a(8954),M=a(1682);B.exports=T;function l(R,v){this.point=R,this.index=v}function y(R,v){for(var E=R.point,w=v.point,s=E.length,p=0;p<s;++p){var g=w[p]-E[p];if(g)return g}return 0}function c(R,v,E){if(R===1)return E?[[-1,0]]:[];var w=v.map(function(f,r){return[f[0],r]});w.sort(function(f,r){return f[0]-r[0]});for(var s=new Array(R-1),p=1;p<R;++p){var g=w[p-1],h=w[p];s[p-1]=[g[1],h[1]]}return E&&s.push([-1,s[0][1]],[s[R-1][1],-1]),s}function T(R,v){var E=R.length;if(E===0)return[];var w=R[0].length;if(w<1)return[];if(w===1)return c(E,R,v);for(var s=new Array(E),p=1,g=0;g<E;++g){for(var h=R[g],f=new Array(w+1),r=0,o=0;o<w;++o){var n=h[o];f[o]=n,r+=n*n}f[w]=r,s[g]=new l(f,g),p=Math.max(r,p)}M(s,y),E=s.length;for(var t=new Array(E+w+1),i=new Array(E+w+1),e=(w+1)*(w+1)*p,A=new Array(w+1),g=0;g<=w;++g)A[g]=0;A[w]=e,t[0]=A.slice(),i[0]=-1;for(var g=0;g<=w;++g){var f=A.slice();f[g]=1,t[g+1]=f,i[g+1]=-1}for(var g=0;g<E;++g){var b=s[g];t[g+w+1]=b.point,i[g+w+1]=b.index}var x=d(t,!1);if(v?x=x.filter(function(m){for(var S=0,_=0;_<=w;++_){var u=i[m[_]];if(u<0&&++S>=2)return!1;m[_]=u}return!0}):x=x.filter(function(m){for(var S=0;S<=w;++S){var _=i[m[S]];if(_<0)return!1;m[S]=_}return!0}),w&1)for(var g=0;g<x.length;++g){var b=x[g],f=b[0];b[0]=b[1],b[1]=f}return x}},2361:function(B){var L=!1;if(typeof Float64Array<"u"){var a=new Float64Array(1),d=new Uint32Array(a.buffer);if(a[0]=1,L=!0,d[1]===1072693248){let l=function(T,R){return d[0]=T,d[1]=R,a[0]},y=function(T){return a[0]=T,d[0]},c=function(T){return a[0]=T,d[1]};B.exports=function(R){return a[0]=R,[d[0],d[1]]},B.exports.pack=l,B.exports.lo=y,B.exports.hi=c}else if(d[0]===1072693248){let l=function(T,R){return d[1]=T,d[0]=R,a[0]},y=function(T){return a[0]=T,d[1]},c=function(T){return a[0]=T,d[0]};B.exports=function(R){return a[0]=R,[d[1],d[0]]},B.exports.pack=l,B.exports.lo=y,B.exports.hi=c}else L=!1}if(!L){let l=function(T,R){return M.writeUInt32LE(T,0,!0),M.writeUInt32LE(R,4,!0),M.readDoubleLE(0,!0)},y=function(T){return M.writeDoubleLE(T,0,!0),M.readUInt32LE(0,!0)},c=function(T){return M.writeDoubleLE(T,0,!0),M.readUInt32LE(4,!0)};var M=new Buffer(8);B.exports=function(R){return M.writeDoubleLE(R,0,!0),[M.readUInt32LE(0,!0),M.readUInt32LE(4,!0)]},B.exports.pack=l,B.exports.lo=y,B.exports.hi=c}B.exports.sign=function(l){return B.exports.hi(l)>>>31},B.exports.exponent=function(l){var y=B.exports.hi(l);return(y<<1>>>21)-1023},B.exports.fraction=function(l){var y=B.exports.lo(l),c=B.exports.hi(l),T=c&(1<<20)-1;return c&2146435072&&(T+=1048576),[y,T]},B.exports.denormalized=function(l){var y=B.exports.hi(l);return!(y&2146435072)}},1338:function(B){function L(M,l,y){var c=M[y]|0;if(c<=0)return[];var T=new Array(c),R;if(y===M.length-1)for(R=0;R<c;++R)T[R]=l;else for(R=0;R<c;++R)T[R]=L(M,l,y+1);return T}function a(M,l){var y,c;for(y=new Array(M),c=0;c<M;++c)y[c]=l;return y}function d(M,l){switch(typeof l>"u"&&(l=0),typeof M){case"number":if(M>0)return a(M|0,l);break;case"object":if(typeof M.length=="number")return L(M,l,0);break}return[]}B.exports=d},3134:function(B,L,a){B.exports=M;var d=a(1682);function M(l,y){var c=l.length;if(typeof y!="number"){y=0;for(var T=0;T<c;++T){var R=l[T];y=Math.max(y,R[0],R[1])}y=(y|0)+1}y=y|0;for(var v=new Array(y),T=0;T<y;++T)v[T]=[];for(var T=0;T<c;++T){var R=l[T];v[R[0]].push(R[1]),v[R[1]].push(R[0])}for(var E=0;E<y;++E)d(v[E],function(w,s){return w-s});return v}},5033:function(B){B.exports=L;function L(a,d,M){var l=d||0,y=M||1;return[[a[12]+a[0],a[13]+a[1],a[14]+a[2],a[15]+a[3]],[a[12]-a[0],a[13]-a[1],a[14]-a[2],a[15]-a[3]],[a[12]+a[4],a[13]+a[5],a[14]+a[6],a[15]+a[7]],[a[12]-a[4],a[13]-a[5],a[14]-a[6],a[15]-a[7]],[l*a[12]+a[8],l*a[13]+a[9],l*a[14]+a[10],l*a[15]+a[11]],[y*a[12]-a[8],y*a[13]-a[9],y*a[14]-a[10],y*a[15]-a[11]]]}},9215:function(B,L,a){B.exports=R;var d=a(4769),M=a(2478);function l(v,E,w){return Math.min(E,Math.max(v,w))}function y(v,E,w){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var s=0;s<this.dimension;++s)this.bounds[0][s]=-1/0,this.bounds[1][s]=1/0;this._state=v.slice().reverse(),this._velocity=E.slice().reverse(),this._time=[w],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var c=y.prototype;c.flush=function(v){var E=M.gt(this._time,v)-1;E<=0||(this._time.splice(0,E),this._state.splice(0,E*this.dimension),this._velocity.splice(0,E*this.dimension))},c.curve=function(v){var E=this._time,w=E.length,s=M.le(E,v),p=this._scratch[0],g=this._state,h=this._velocity,f=this.dimension,r=this.bounds;if(s<0)for(var o=f-1,n=0;n<f;++n,--o)p[n]=g[o];else if(s>=w-1)for(var o=g.length-1,t=v-E[w-1],n=0;n<f;++n,--o)p[n]=g[o]+t*h[o];else{for(var o=f*(s+1)-1,i=E[s],e=E[s+1],A=e-i||1,b=this._scratch[1],x=this._scratch[2],m=this._scratch[3],S=this._scratch[4],_=!0,n=0;n<f;++n,--o)b[n]=g[o],m[n]=h[o]*A,x[n]=g[o+f],S[n]=h[o+f]*A,_=_&&b[n]===x[n]&&m[n]===S[n]&&m[n]===0;if(_)for(var n=0;n<f;++n)p[n]=b[n];else d(b,m,x,S,(v-i)/A,p)}for(var u=r[0],I=r[1],n=0;n<f;++n)p[n]=l(u[n],I[n],p[n]);return p},c.dcurve=function(v){var E=this._time,w=E.length,s=M.le(E,v),p=this._scratch[0],g=this._state,h=this._velocity,f=this.dimension;if(s>=w-1){var r=g.length-1;v-E[w-1];for(var o=0;o<f;++o,--r)p[o]=h[r]}else{for(var r=f*(s+1)-1,n=E[s],t=E[s+1],i=t-n||1,e=this._scratch[1],A=this._scratch[2],b=this._scratch[3],x=this._scratch[4],m=!0,o=0;o<f;++o,--r)e[o]=g[r],b[o]=h[r]*i,A[o]=g[r+f],x[o]=h[r+f]*i,m=m&&e[o]===A[o]&&b[o]===x[o]&&b[o]===0;if(m)for(var o=0;o<f;++o)p[o]=0;else{d.derivative(e,b,A,x,(v-n)/i,p);for(var o=0;o<f;++o)p[o]/=i}}return p},c.lastT=function(){var v=this._time;return v[v.length-1]},c.stable=function(){for(var v=this._velocity,E=v.length,w=this.dimension-1;w>=0;--w)if(v[--E])return!1;return!0},c.jump=function(v){var E=this.lastT(),w=this.dimension;if(!(v<E||arguments.length!==w+1)){var s=this._state,p=this._velocity,g=s.length-this.dimension,h=this.bounds,f=h[0],r=h[1];this._time.push(E,v);for(var o=0;o<2;++o)for(var n=0;n<w;++n)s.push(s[g++]),p.push(0);this._time.push(v);for(var n=w;n>0;--n)s.push(l(f[n-1],r[n-1],arguments[n])),p.push(0)}},c.push=function(v){var E=this.lastT(),w=this.dimension;if(!(v<E||arguments.length!==w+1)){var s=this._state,p=this._velocity,g=s.length-this.dimension,h=v-E,f=this.bounds,r=f[0],o=f[1],n=h>1e-6?1/h:0;this._time.push(v);for(var t=w;t>0;--t){var i=l(r[t-1],o[t-1],arguments[t]);s.push(i),p.push((i-s[g++])*n)}}},c.set=function(v){var E=this.dimension;if(!(v<this.lastT()||arguments.length!==E+1)){var w=this._state,s=this._velocity,p=this.bounds,g=p[0],h=p[1];this._time.push(v);for(var f=E;f>0;--f)w.push(l(g[f-1],h[f-1],arguments[f])),s.push(0)}},c.move=function(v){var E=this.lastT(),w=this.dimension;if(!(v<=E||arguments.length!==w+1)){var s=this._state,p=this._velocity,g=s.length-this.dimension,h=this.bounds,f=h[0],r=h[1],o=v-E,n=o>1e-6?1/o:0;this._time.push(v);for(var t=w;t>0;--t){var i=arguments[t];s.push(l(f[t-1],r[t-1],s[g++]+i)),p.push(i*n)}}},c.idle=function(v){var E=this.lastT();if(!(v<E)){var w=this.dimension,s=this._state,p=this._velocity,g=s.length-w,h=this.bounds,f=h[0],r=h[1],o=v-E;this._time.push(v);for(var n=w-1;n>=0;--n)s.push(l(f[n],r[n],s[g]+o*p[g])),p.push(0),g+=1}};function T(v){for(var E=new Array(v),w=0;w<v;++w)E[w]=0;return E}function R(v,E,w){switch(arguments.length){case 0:return new y([0],[0],0);case 1:if(typeof v=="number"){var s=T(v);return new y(s,s,0)}else return new y(v,T(v.length),0);case 2:if(typeof E=="number"){var s=T(v.length);return new y(v,s,+E)}else w=0;case 3:if(v.length!==E.length)throw new Error("state and velocity lengths must match");return new y(v,E,w)}}},3840:function(B){B.exports=f;var L=0,a=1;function d(r,o,n,t,i,e){this._color=r,this.key=o,this.value=n,this.left=t,this.right=i,this._count=e}function M(r){return new d(r._color,r.key,r.value,r.left,r.right,r._count)}function l(r,o){return new d(r,o.key,o.value,o.left,o.right,o._count)}function y(r){r._count=1+(r.left?r.left._count:0)+(r.right?r.right._count:0)}function c(r,o){this._compare=r,this.root=o}var T=c.prototype;Object.defineProperty(T,"keys",{get:function(){var r=[];return this.forEach(function(o,n){r.push(o)}),r}}),Object.defineProperty(T,"values",{get:function(){var r=[];return this.forEach(function(o,n){r.push(n)}),r}}),Object.defineProperty(T,"length",{get:function(){return this.root?this.root._count:0}}),T.insert=function(r,o){for(var n=this._compare,t=this.root,i=[],e=[];t;){var A=n(r,t.key);i.push(t),e.push(A),A<=0?t=t.left:t=t.right}i.push(new d(L,r,o,null,null,1));for(var b=i.length-2;b>=0;--b){var t=i[b];e[b]<=0?i[b]=new d(t._color,t.key,t.value,i[b+1],t.right,t._count+1):i[b]=new d(t._color,t.key,t.value,t.left,i[b+1],t._count+1)}for(var b=i.length-1;b>1;--b){var x=i[b-1],t=i[b];if(x._color===a||t._color===a)break;var m=i[b-2];if(m.left===x)if(x.left===t){var S=m.right;if(S&&S._color===L)x._color=a,m.right=l(a,S),m._color=L,b-=1;else{if(m._color=L,m.left=x.right,x._color=a,x.right=m,i[b-2]=x,i[b-1]=t,y(m),y(x),b>=3){var _=i[b-3];_.left===m?_.left=x:_.right=x}break}}else{var S=m.right;if(S&&S._color===L)x._color=a,m.right=l(a,S),m._color=L,b-=1;else{if(x.right=t.left,m._color=L,m.left=t.right,t._color=a,t.left=x,t.right=m,i[b-2]=t,i[b-1]=x,y(m),y(x),y(t),b>=3){var _=i[b-3];_.left===m?_.left=t:_.right=t}break}}else if(x.right===t){var S=m.left;if(S&&S._color===L)x._color=a,m.left=l(a,S),m._color=L,b-=1;else{if(m._color=L,m.right=x.left,x._color=a,x.left=m,i[b-2]=x,i[b-1]=t,y(m),y(x),b>=3){var _=i[b-3];_.right===m?_.right=x:_.left=x}break}}else{var S=m.left;if(S&&S._color===L)x._color=a,m.left=l(a,S),m._color=L,b-=1;else{if(x.left=t.right,m._color=L,m.right=t.left,t._color=a,t.right=x,t.left=m,i[b-2]=t,i[b-1]=x,y(m),y(x),y(t),b>=3){var _=i[b-3];_.right===m?_.right=t:_.left=t}break}}}return i[0]._color=a,new c(n,i[0])};function R(r,o){if(o.left){var n=R(r,o.left);if(n)return n}var n=r(o.key,o.value);if(n)return n;if(o.right)return R(r,o.right)}function v(r,o,n,t){var i=o(r,t.key);if(i<=0){if(t.left){var e=v(r,o,n,t.left);if(e)return e}var e=n(t.key,t.value);if(e)return e}if(t.right)return v(r,o,n,t.right)}function E(r,o,n,t,i){var e=n(r,i.key),A=n(o,i.key),b;if(e<=0&&(i.left&&(b=E(r,o,n,t,i.left),b)||A>0&&(b=t(i.key,i.value),b)))return b;if(A>0&&i.right)return E(r,o,n,t,i.right)}T.forEach=function(o,n,t){if(this.root)switch(arguments.length){case 1:return R(o,this.root);case 2:return v(n,this._compare,o,this.root);case 3:return this._compare(n,t)>=0?void 0:E(n,t,this._compare,o,this.root)}},Object.defineProperty(T,"begin",{get:function(){for(var r=[],o=this.root;o;)r.push(o),o=o.left;return new w(this,r)}}),Object.defineProperty(T,"end",{get:function(){for(var r=[],o=this.root;o;)r.push(o),o=o.right;return new w(this,r)}}),T.at=function(r){if(r<0)return new w(this,[]);for(var o=this.root,n=[];;){if(n.push(o),o.left){if(r<o.left._count){o=o.left;continue}r-=o.left._count}if(!r)return new w(this,n);if(r-=1,o.right){if(r>=o.right._count)break;o=o.right}else break}return new w(this,[])},T.ge=function(r){for(var o=this._compare,n=this.root,t=[],i=0;n;){var e=o(r,n.key);t.push(n),e<=0&&(i=t.length),e<=0?n=n.left:n=n.right}return t.length=i,new w(this,t)},T.gt=function(r){for(var o=this._compare,n=this.root,t=[],i=0;n;){var e=o(r,n.key);t.push(n),e<0&&(i=t.length),e<0?n=n.left:n=n.right}return t.length=i,new w(this,t)},T.lt=function(r){for(var o=this._compare,n=this.root,t=[],i=0;n;){var e=o(r,n.key);t.push(n),e>0&&(i=t.length),e<=0?n=n.left:n=n.right}return t.length=i,new w(this,t)},T.le=function(r){for(var o=this._compare,n=this.root,t=[],i=0;n;){var e=o(r,n.key);t.push(n),e>=0&&(i=t.length),e<0?n=n.left:n=n.right}return t.length=i,new w(this,t)},T.find=function(r){for(var o=this._compare,n=this.root,t=[];n;){var i=o(r,n.key);if(t.push(n),i===0)return new w(this,t);i<=0?n=n.left:n=n.right}return new w(this,[])},T.remove=function(r){var o=this.find(r);return o?o.remove():this},T.get=function(r){for(var o=this._compare,n=this.root;n;){var t=o(r,n.key);if(t===0)return n.value;t<=0?n=n.left:n=n.right}};function w(r,o){this.tree=r,this._stack=o}var s=w.prototype;Object.defineProperty(s,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(s,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),s.clone=function(){return new w(this.tree,this._stack.slice())};function p(r,o){r.key=o.key,r.value=o.value,r.left=o.left,r.right=o.right,r._color=o._color,r._count=o._count}function g(r){for(var o,n,t,i,e=r.length-1;e>=0;--e){if(o=r[e],e===0){o._color=a;return}if(n=r[e-1],n.left===o){if(t=n.right,t.right&&t.right._color===L){if(t=n.right=M(t),i=t.right=M(t.right),n.right=t.left,t.left=n,t.right=i,t._color=n._color,o._color=a,n._color=a,i._color=a,y(n),y(t),e>1){var A=r[e-2];A.left===n?A.left=t:A.right=t}r[e-1]=t;return}else if(t.left&&t.left._color===L){if(t=n.right=M(t),i=t.left=M(t.left),n.right=i.left,t.left=i.right,i.left=n,i.right=t,i._color=n._color,n._color=a,t._color=a,o._color=a,y(n),y(t),y(i),e>1){var A=r[e-2];A.left===n?A.left=i:A.right=i}r[e-1]=i;return}if(t._color===a)if(n._color===L){n._color=a,n.right=l(L,t);return}else{n.right=l(L,t);continue}else{if(t=M(t),n.right=t.left,t.left=n,t._color=n._color,n._color=L,y(n),y(t),e>1){var A=r[e-2];A.left===n?A.left=t:A.right=t}r[e-1]=t,r[e]=n,e+1<r.length?r[e+1]=o:r.push(o),e=e+2}}else{if(t=n.left,t.left&&t.left._color===L){if(t=n.left=M(t),i=t.left=M(t.left),n.left=t.right,t.right=n,t.left=i,t._color=n._color,o._color=a,n._color=a,i._color=a,y(n),y(t),e>1){var A=r[e-2];A.right===n?A.right=t:A.left=t}r[e-1]=t;return}else if(t.right&&t.right._color===L){if(t=n.left=M(t),i=t.right=M(t.right),n.left=i.right,t.right=i.left,i.right=n,i.left=t,i._color=n._color,n._color=a,t._color=a,o._color=a,y(n),y(t),y(i),e>1){var A=r[e-2];A.right===n?A.right=i:A.left=i}r[e-1]=i;return}if(t._color===a)if(n._color===L){n._color=a,n.left=l(L,t);return}else{n.left=l(L,t);continue}else{if(t=M(t),n.left=t.right,t.right=n,t._color=n._color,n._color=L,y(n),y(t),e>1){var A=r[e-2];A.right===n?A.right=t:A.left=t}r[e-1]=t,r[e]=n,e+1<r.length?r[e+1]=o:r.push(o),e=e+2}}}}s.remove=function(){var r=this._stack;if(r.length===0)return this.tree;var o=new Array(r.length),n=r[r.length-1];o[o.length-1]=new d(n._color,n.key,n.value,n.left,n.right,n._count);for(var t=r.length-2;t>=0;--t){var n=r[t];n.left===r[t+1]?o[t]=new d(n._color,n.key,n.value,o[t+1],n.right,n._count):o[t]=new d(n._color,n.key,n.value,n.left,o[t+1],n._count)}if(n=o[o.length-1],n.left&&n.right){var i=o.length;for(n=n.left;n.right;)o.push(n),n=n.right;var e=o[i-1];o.push(new d(n._color,e.key,e.value,n.left,n.right,n._count)),o[i-1].key=n.key,o[i-1].value=n.value;for(var t=o.length-2;t>=i;--t)n=o[t],o[t]=new d(n._color,n.key,n.value,n.left,o[t+1],n._count);o[i-1].left=o[i]}if(n=o[o.length-1],n._color===L){var A=o[o.length-2];A.left===n?A.left=null:A.right===n&&(A.right=null),o.pop();for(var t=0;t<o.length;++t)o[t]._count--;return new c(this.tree._compare,o[0])}else if(n.left||n.right){n.left?p(n,n.left):n.right&&p(n,n.right),n._color=a;for(var t=0;t<o.length-1;++t)o[t]._count--;return new c(this.tree._compare,o[0])}else{if(o.length===1)return new c(this.tree._compare,null);for(var t=0;t<o.length;++t)o[t]._count--;var b=o[o.length-2];g(o),b.left===n?b.left=null:b.right=null}return new c(this.tree._compare,o[0])},Object.defineProperty(s,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(s,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(s,"index",{get:function(){var r=0,o=this._stack;if(o.length===0){var n=this.tree.root;return n?n._count:0}else o[o.length-1].left&&(r=o[o.length-1].left._count);for(var t=o.length-2;t>=0;--t)o[t+1]===o[t].right&&(++r,o[t].left&&(r+=o[t].left._count));return r},enumerable:!0}),s.next=function(){var r=this._stack;if(r.length!==0){var o=r[r.length-1];if(o.right)for(o=o.right;o;)r.push(o),o=o.left;else for(r.pop();r.length>0&&r[r.length-1].right===o;)o=r[r.length-1],r.pop()}},Object.defineProperty(s,"hasNext",{get:function(){var r=this._stack;if(r.length===0)return!1;if(r[r.length-1].right)return!0;for(var o=r.length-1;o>0;--o)if(r[o-1].left===r[o])return!0;return!1}}),s.update=function(r){var o=this._stack;if(o.length===0)throw new Error("Can't update empty node!");var n=new Array(o.length),t=o[o.length-1];n[n.length-1]=new d(t._color,t.key,r,t.left,t.right,t._count);for(var i=o.length-2;i>=0;--i)t=o[i],t.left===o[i+1]?n[i]=new d(t._color,t.key,t.value,n[i+1],t.right,t._count):n[i]=new d(t._color,t.key,t.value,t.left,n[i+1],t._count);return new c(this.tree._compare,n[0])},s.prev=function(){var r=this._stack;if(r.length!==0){var o=r[r.length-1];if(o.left)for(o=o.left;o;)r.push(o),o=o.right;else for(r.pop();r.length>0&&r[r.length-1].left===o;)o=r[r.length-1],r.pop()}},Object.defineProperty(s,"hasPrev",{get:function(){var r=this._stack;if(r.length===0)return!1;if(r[r.length-1].left)return!0;for(var o=r.length-1;o>0;--o)if(r[o-1].right===r[o])return!0;return!1}});function h(r,o){return r<o?-1:r>o?1:0}function f(r){return new c(r||h,null)}},3837:function(B,L,a){B.exports=b;var d=a(4935),M=a(501),l=a(5304),y=a(6429),c=a(6444),T=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),R=ArrayBuffer,v=DataView;function E(x){return R.isView(x)&&!(x instanceof v)}function w(x){return Array.isArray(x)||E(x)}function s(x,m){return x[0]=m[0],x[1]=m[1],x[2]=m[2],x}function p(x){this.gl=x,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=l(x)}var g=p.prototype;g.update=function(x){x=x||{};function m(z,Y,G){if(G in x){var X=x[G],K=this[G],W;(z?w(X)&&w(X[0]):w(X))?this[G]=W=[Y(X[0]),Y(X[1]),Y(X[2])]:this[G]=W=[Y(X),Y(X),Y(X)];for(var Z=0;Z<3;++Z)if(W[Z]!==K[Z])return!0}return!1}var S=m.bind(this,!1,Number),_=m.bind(this,!1,Boolean),u=m.bind(this,!1,String),I=m.bind(this,!0,function(z){if(w(z)){if(z.length===3)return[+z[0],+z[1],+z[2],1];if(z.length===4)return[+z[0],+z[1],+z[2],+z[3]]}return[0,0,0,1]}),F,P=!1,D=!1;if("bounds"in x)for(var V=x.bounds,H=0;H<2;++H)for(var O=0;O<3;++O)V[H][O]!==this.bounds[H][O]&&(D=!0),this.bounds[H][O]=V[H][O];if("ticks"in x){F=x.ticks,P=!0,this.autoTicks=!1;for(var H=0;H<3;++H)this.tickSpacing[H]=0}else S("tickSpacing")&&(this.autoTicks=!0,D=!0);if(this._firstInit&&("ticks"in x||"tickSpacing"in x||(this.autoTicks=!0),D=!0,P=!0,this._firstInit=!1),D&&this.autoTicks&&(F=c.create(this.bounds,this.tickSpacing),P=!0),P){for(var H=0;H<3;++H)F[H].sort(function(Y,G){return Y.x-G.x});c.equal(F,this.ticks)?P=!1:this.ticks=F}_("tickEnable"),u("tickFont")&&(P=!0),u("tickFontStyle")&&(P=!0),u("tickFontWeight")&&(P=!0),u("tickFontVariant")&&(P=!0),S("tickSize"),S("tickAngle"),S("tickPad"),I("tickColor");var C=u("labels");u("labelFont")&&(C=!0),u("labelFontStyle")&&(C=!0),u("labelFontWeight")&&(C=!0),u("labelFontVariant")&&(C=!0),_("labelEnable"),S("labelSize"),S("labelPad"),I("labelColor"),_("lineEnable"),_("lineMirror"),S("lineWidth"),I("lineColor"),_("lineTickEnable"),_("lineTickMirror"),S("lineTickLength"),S("lineTickWidth"),I("lineTickColor"),_("gridEnable"),S("gridWidth"),I("gridColor"),_("zeroEnable"),I("zeroLineColor"),S("zeroLineWidth"),_("backgroundEnable"),I("backgroundColor");var k=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],$=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(C||P)&&this._text.update(this.bounds,this.labels,k,this.ticks,$):this._text=d(this.gl,this.bounds,this.labels,k,this.ticks,$),this._lines&&P&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=M(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var f=[new h,new h,new h];function r(x,m,S,_,u){for(var I=x.primalOffset,F=x.primalMinor,P=x.mirrorOffset,D=x.mirrorMinor,V=_[m],H=0;H<3;++H)if(m!==H){var O=I,C=P,k=F,$=D;V&1<<H&&(O=P,C=I,k=D,$=F),O[H]=S[0][H],C[H]=S[1][H],u[H]>0?(k[H]=-1,$[H]=0):(k[H]=0,$[H]=1)}}var o=[0,0,0],n={model:T,view:T,projection:T,_ortho:!1};g.isOpaque=function(){return!0},g.isTransparent=function(){return!1},g.drawTransparent=function(x){};var t=0,i=[0,0,0],e=[0,0,0],A=[0,0,0];g.draw=function(x){x=x||n;for(var G=this.gl,m=x.model||T,S=x.view||T,_=x.projection||T,u=this.bounds,I=x._ortho||!1,F=y(m,S,_,u,I),P=F.cubeEdges,D=F.axis,V=S[12],H=S[13],O=S[14],C=S[15],k=I?2:1,$=k*this.pixelRatio*(_[3]*V+_[7]*H+_[11]*O+_[15]*C)/G.drawingBufferHeight,z=0;z<3;++z)this.lastCubeProps.cubeEdges[z]=P[z],this.lastCubeProps.axis[z]=D[z];for(var Y=f,z=0;z<3;++z)r(f[z],z,this.bounds,P,D);for(var G=this.gl,X=o,z=0;z<3;++z)this.backgroundEnable[z]?X[z]=D[z]:X[z]=0;this._background.draw(m,S,_,u,X,this.backgroundColor),this._lines.bind(m,S,_,this);for(var z=0;z<3;++z){var K=[0,0,0];D[z]>0?K[z]=u[1][z]:K[z]=u[0][z];for(var W=0;W<2;++W){var Z=(z+1+W)%3,J=(z+1+(W^1))%3;this.gridEnable[Z]&&this._lines.drawGrid(Z,J,this.bounds,K,this.gridColor[Z],this.gridWidth[Z]*this.pixelRatio)}for(var W=0;W<2;++W){var Z=(z+1+W)%3,J=(z+1+(W^1))%3;this.zeroEnable[J]&&Math.min(u[0][J],u[1][J])<=0&&Math.max(u[0][J],u[1][J])>=0&&this._lines.drawZero(Z,J,this.bounds,K,this.zeroLineColor[J],this.zeroLineWidth[J]*this.pixelRatio)}}for(var z=0;z<3;++z){this.lineEnable[z]&&this._lines.drawAxisLine(z,this.bounds,Y[z].primalOffset,this.lineColor[z],this.lineWidth[z]*this.pixelRatio),this.lineMirror[z]&&this._lines.drawAxisLine(z,this.bounds,Y[z].mirrorOffset,this.lineColor[z],this.lineWidth[z]*this.pixelRatio);for(var tt=s(i,Y[z].primalMinor),it=s(e,Y[z].mirrorMinor),et=this.lineTickLength,W=0;W<3;++W){var j=$/m[5*W];tt[W]*=et[W]*j,it[W]*=et[W]*j}this.lineTickEnable[z]&&this._lines.drawAxisTicks(z,Y[z].primalOffset,tt,this.lineTickColor[z],this.lineTickWidth[z]*this.pixelRatio),this.lineTickMirror[z]&&this._lines.drawAxisTicks(z,Y[z].mirrorOffset,it,this.lineTickColor[z],this.lineTickWidth[z]*this.pixelRatio)}this._lines.unbind(),this._text.bind(m,S,_,this.pixelRatio);var at,rt=.5,st,ot;function ft(bt){ot=[0,0,0],ot[bt]=1}function xt(bt,Tt,yt){var ut=(bt+1)%3,vt=(bt+2)%3,Mt=Tt[ut],_t=Tt[vt],Pt=yt[ut],Ct=yt[vt];if(Mt>0&&Ct>0){ft(ut);return}else if(Mt>0&&Ct<0){ft(ut);return}else if(Mt<0&&Ct>0){ft(ut);return}else if(Mt<0&&Ct<0){ft(ut);return}else if(_t>0&&Pt>0){ft(vt);return}else if(_t>0&&Pt<0){ft(vt);return}else if(_t<0&&Pt>0){ft(vt);return}else if(_t<0&&Pt<0){ft(vt);return}}for(var z=0;z<3;++z){for(var dt=Y[z].primalMinor,ht=Y[z].mirrorMinor,pt=s(A,Y[z].primalOffset),W=0;W<3;++W)this.lineTickEnable[z]&&(pt[W]+=$*dt[W]*Math.max(this.lineTickLength[W],0)/m[5*W]);var lt=[0,0,0];if(lt[z]=1,this.tickEnable[z]){this.tickAngle[z]===-3600?(this.tickAngle[z]=0,this.tickAlign[z]="auto"):this.tickAlign[z]=-1,st=1,at=[this.tickAlign[z],rt,st],at[0]==="auto"?at[0]=t:at[0]=parseInt(""+at[0]),ot=[0,0,0],xt(z,dt,ht);for(var W=0;W<3;++W)pt[W]+=$*dt[W]*this.tickPad[W]/m[5*W];this._text.drawTicks(z,this.tickSize[z],this.tickAngle[z],pt,this.tickColor[z],lt,ot,at)}if(this.labelEnable[z]){st=0,ot=[0,0,0],this.labels[z].length>4&&(ft(z),st=1),at=[this.labelAlign[z],rt,st],at[0]==="auto"?at[0]=t:at[0]=parseInt(""+at[0]);for(var W=0;W<3;++W)pt[W]+=$*dt[W]*this.labelPad[W]/m[5*W];pt[z]+=.5*(u[0][z]+u[1][z]),this._text.drawLabel(z,this.labelSize[z],this.labelAngle[z],pt,this.labelColor[z],[0,0,0],ot,at)}}this._text.unbind()},g.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function b(x,m){var S=new p(x);return S.update(m),S}},5304:function(B,L,a){B.exports=T;var d=a(2762),M=a(8116),l=a(1879).bg;function y(R,v,E,w){this.gl=R,this.buffer=v,this.vao=E,this.shader=w}var c=y.prototype;c.draw=function(R,v,E,w,s,p){for(var g=!1,h=0;h<3;++h)g=g||s[h];if(g){var f=this.gl;f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:R,view:v,projection:E,bounds:w,enable:s,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),f.disable(f.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function T(R){for(var v=[],E=[],w=0,s=0;s<3;++s)for(var p=(s+1)%3,g=(s+2)%3,h=[0,0,0],f=[0,0,0],r=-1;r<=1;r+=2){E.push(w,w+2,w+1,w+1,w+2,w+3),h[s]=r,f[s]=r;for(var o=-1;o<=1;o+=2){h[p]=o;for(var n=-1;n<=1;n+=2)h[g]=n,v.push(h[0],h[1],h[2],f[0],f[1],f[2]),w+=1}var t=p;p=g,g=t}var i=d(R,new Float32Array(v)),e=d(R,new Uint16Array(E),R.ELEMENT_ARRAY_BUFFER),A=M(R,[{buffer:i,type:R.FLOAT,size:3,offset:0,stride:24},{buffer:i,type:R.FLOAT,size:3,offset:12,stride:24}],e),b=l(R);return b.attributes.position.location=0,b.attributes.normal.location=1,new y(R,i,A,b)}},6429:function(B,L,a){B.exports=r;var d=a(8828),M=a(6760),l=a(5202),y=a(3250),c=new Array(16),T=new Array(8),R=new Array(8),v=new Array(3),E=[0,0,0];(function(){for(var o=0;o<8;++o)T[o]=[1,1,1,1],R[o]=[1,1,1]})();function w(o,n,t){for(var i=0;i<4;++i){o[i]=t[12+i];for(var e=0;e<3;++e)o[i]+=n[e]*t[4*e+i]}}var s=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(o){for(var n=0;n<s.length;++n)if(o=l.positive(o,s[n]),o.length<3)return 0;for(var t=o[0],i=t[0]/t[3],e=t[1]/t[3],A=0,n=1;n+1<o.length;++n){var b=o[n],x=o[n+1],m=b[0]/b[3],S=b[1]/b[3],_=x[0]/x[3],u=x[1]/x[3],I=m-i,F=S-e,P=_-i,D=u-e;A+=Math.abs(I*D-F*P)}return A}var g=[1,1,1],h=[0,0,0],f={cubeEdges:g,axis:h};function r(o,n,t,i,e){M(c,n,o),M(c,t,c);for(var A=0,b=0;b<2;++b){v[2]=i[b][2];for(var x=0;x<2;++x){v[1]=i[x][1];for(var m=0;m<2;++m)v[0]=i[m][0],w(T[A],v,c),A+=1}}for(var S=-1,b=0;b<8;++b){for(var _=T[b][3],u=0;u<3;++u)R[b][u]=T[b][u]/_;e&&(R[b][2]*=-1),_<0&&(S<0||R[b][2]<R[S][2])&&(S=b)}if(S<0){S=0;for(var I=0;I<3;++I){for(var F=(I+2)%3,P=(I+1)%3,D=-1,V=-1,H=0;H<2;++H){var O=H<<I,C=O+(H<<F)+(1-H<<P),k=O+(1-H<<F)+(H<<P);y(R[O],R[C],R[k],E)<0||(H?D=1:V=1)}if(D<0||V<0){V>D&&(S|=1<<I);continue}for(var H=0;H<2;++H){var O=H<<I,C=O+(H<<F)+(1-H<<P),k=O+(1-H<<F)+(H<<P),$=p([T[O],T[C],T[k],T[O+(1<<F)+(1<<P)]]);H?D=$:V=$}if(V>D){S|=1<<I;continue}}}for(var z=7^S,Y=-1,b=0;b<8;++b)b===S||b===z||(Y<0||R[Y][1]>R[b][1])&&(Y=b);for(var G=-1,b=0;b<3;++b){var X=Y^1<<b;if(!(X===S||X===z)){G<0&&(G=X);var P=R[X];P[0]<R[G][0]&&(G=X)}}for(var K=-1,b=0;b<3;++b){var X=Y^1<<b;if(!(X===S||X===z||X===G)){K<0&&(K=X);var P=R[X];P[0]>R[K][0]&&(K=X)}}var W=g;W[0]=W[1]=W[2]=0,W[d.log2(G^Y)]=Y&G,W[d.log2(Y^K)]=Y&K;var Z=K^7;Z===S||Z===z?(Z=G^7,W[d.log2(K^Z)]=Z&K):W[d.log2(G^Z)]=Z&G;for(var J=h,tt=S,I=0;I<3;++I)tt&1<<I?J[I]=-1:J[I]=1;return f}},501:function(B,L,a){B.exports=g;var d=a(2762),M=a(8116),l=a(1879).n,y=[0,0,0],c=[0,0,0],T=[0,0,0],R=[0,0,0],v=[1,1];function E(h){return h[0]=h[1]=h[2]=0,h}function w(h,f){return h[0]=f[0],h[1]=f[1],h[2]=f[2],h}function s(h,f,r,o,n,t,i,e){this.gl=h,this.vertBuffer=f,this.vao=r,this.shader=o,this.tickCount=n,this.tickOffset=t,this.gridCount=i,this.gridOffset=e}var p=s.prototype;p.bind=function(h,f,r){this.shader.bind(),this.shader.uniforms.model=h,this.shader.uniforms.view=f,this.shader.uniforms.projection=r,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=v,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(h,f,r,o,n){var t=E(c);this.shader.uniforms.majorAxis=c,t[h]=f[1][h]-f[0][h],this.shader.uniforms.minorAxis=t;var i=w(R,r);i[h]+=f[0][h],this.shader.uniforms.offset=i,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=o;var e=E(T);e[(h+2)%3]=1,this.shader.uniforms.screenAxis=e,this.vao.draw(this.gl.TRIANGLES,6);var e=E(T);e[(h+1)%3]=1,this.shader.uniforms.screenAxis=e,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(h,f,r,o,n){if(this.tickCount[h]){var t=E(y);t[h]=1,this.shader.uniforms.majorAxis=t,this.shader.uniforms.offset=f,this.shader.uniforms.minorAxis=r,this.shader.uniforms.color=o,this.shader.uniforms.lineWidth=n;var i=E(T);i[h]=1,this.shader.uniforms.screenAxis=i,this.vao.draw(this.gl.TRIANGLES,this.tickCount[h],this.tickOffset[h])}},p.drawGrid=function(h,f,r,o,n,t){if(this.gridCount[h]){var i=E(c);i[f]=r[1][f]-r[0][f],this.shader.uniforms.minorAxis=i;var e=w(R,o);e[f]+=r[0][f],this.shader.uniforms.offset=e;var A=E(y);A[h]=1,this.shader.uniforms.majorAxis=A;var b=E(T);b[h]=1,this.shader.uniforms.screenAxis=b,this.shader.uniforms.lineWidth=t,this.shader.uniforms.color=n,this.vao.draw(this.gl.TRIANGLES,this.gridCount[h],this.gridOffset[h])}},p.drawZero=function(h,f,r,o,n,t){var i=E(c);this.shader.uniforms.majorAxis=i,i[h]=r[1][h]-r[0][h],this.shader.uniforms.minorAxis=i;var e=w(R,o);e[h]+=r[0][h],this.shader.uniforms.offset=e;var A=E(T);A[f]=1,this.shader.uniforms.screenAxis=A,this.shader.uniforms.lineWidth=t,this.shader.uniforms.color=n,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function g(h,f,r){var o=[],n=[0,0,0],t=[0,0,0],i=[0,0,0],e=[0,0,0];o.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var A=0;A<3;++A){for(var m=o.length/3|0,b=0;b<r[A].length;++b){var x=+r[A][b].x;o.push(x,0,1,x,1,1,x,0,-1,x,0,-1,x,1,1,x,1,-1)}var _=o.length/3|0;n[A]=m,t[A]=_-m;for(var m=o.length/3|0,S=0;S<r[A].length;++S){var x=+r[A][S].x;o.push(x,0,1,x,1,1,x,0,-1,x,0,-1,x,1,1,x,1,-1)}var _=o.length/3|0;i[A]=m,e[A]=_-m}var u=d(h,new Float32Array(o)),I=M(h,[{buffer:u,type:h.FLOAT,size:3,stride:0,offset:0}]),F=l(h);return F.attributes.position.location=0,new s(h,u,I,F,t,n,e,i)}},1879:function(B,L,a){var d=a(3236),M=a(9405),l=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),y=d([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);L.n=function(E){return M(E,l,y,null,[{name:"position",type:"vec3"}])};var c=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),T=d([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);L.Q=function(E){return M(E,c,T,null,[{name:"position",type:"vec3"}])};var R=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),v=d([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);L.bg=function(E){return M(E,R,v,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(B,L,a){B.exports=p;var d=a(2762),M=a(8116),l=a(4359),y=a(1879).Q,c=window||process.global||{},T=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var R=3;function v(g,h,f,r){this.gl=g,this.shader=h,this.buffer=f,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var E=v.prototype,w=[0,0];E.bind=function(g,h,f,r){this.vao.bind(),this.shader.bind();var o=this.shader.uniforms;o.model=g,o.view=h,o.projection=f,o.pixelScale=r,w[0]=this.gl.drawingBufferWidth,w[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=w},E.unbind=function(){this.vao.unbind()},E.update=function(g,h,f,r,o){var n=[];function t(I,F,P,D,V,H){var O=[P.style,P.weight,P.variant,P.family].join("_"),C=T[O];C||(C=T[O]={});var k=C[F];k||(k=C[F]=s(F,{triangles:!0,font:P.family,fontStyle:P.style,fontWeight:P.weight,fontVariant:P.variant,textAlign:"center",textBaseline:"middle",lineSpacing:V,styletags:H}));for(var $=(D||12)/12,z=k.positions,Y=k.cells,G=0,X=Y.length;G<X;++G)for(var K=Y[G],W=2;W>=0;--W){var Z=z[K[W]];n.push($*Z[0],-$*Z[1],I)}}for(var i=[0,0,0],e=[0,0,0],A=[0,0,0],b=[0,0,0],x=1.25,m={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},S=0;S<3;++S){A[S]=n.length/R|0,t(.5*(g[0][S]+g[1][S]),h[S],f[S],12,x,m),b[S]=(n.length/R|0)-A[S],i[S]=n.length/R|0;for(var _=0;_<r[S].length;++_)if(r[S][_].text){var u={family:r[S][_].font||o[S].family,style:o[S].fontStyle||o[S].style,weight:o[S].fontWeight||o[S].weight,variant:o[S].fontVariant||o[S].variant};t(r[S][_].x,r[S][_].text,u,r[S][_].fontSize||12,x,m)}e[S]=(n.length/R|0)-i[S]}this.buffer.update(n),this.tickOffset=i,this.tickCount=e,this.labelOffset=A,this.labelCount=b},E.drawTicks=function(g,h,f,r,o,n,t,i){this.tickCount[g]&&(this.shader.uniforms.axis=n,this.shader.uniforms.color=o,this.shader.uniforms.angle=f,this.shader.uniforms.scale=h,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=t,this.shader.uniforms.alignOpt=i,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},E.drawLabel=function(g,h,f,r,o,n,t,i){this.labelCount[g]&&(this.shader.uniforms.axis=n,this.shader.uniforms.color=o,this.shader.uniforms.angle=f,this.shader.uniforms.scale=h,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=t,this.shader.uniforms.alignOpt=i,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function s(g,h){try{return l(g,h)}catch(f){return console.warn('error vectorizing text:"'+g+'" error:',f),{cells:[],positions:[]}}}function p(g,h,f,r,o,n){var t=d(g),i=M(g,[{buffer:t,size:3}]),e=y(g);e.attributes.position.location=0;var A=new v(g,e,t,i);return A.update(h,f,r,o,n),A}},6444:function(B,L){L.create=d,L.equal=M;function a(l,y){var c=l+"",T=c.indexOf("."),R=0;T>=0&&(R=c.length-T-1);var v=Math.pow(10,R),E=Math.round(l*y*v),w=E+"";if(w.indexOf("e")>=0)return w;var s=E/v,p=E%v;E<0?(s=-Math.ceil(s)|0,p=-p|0):(s=Math.floor(s)|0,p=p|0);var g=""+s;if(E<0&&(g="-"+g),R){for(var h=""+p;h.length<R;)h="0"+h;return g+"."+h}else return g}function d(l,y){for(var c=[],T=0;T<3;++T){var R=[];.5*(l[0][T]+l[1][T]);for(var v=0;v*y[T]<=l[1][T];++v)R.push({x:v*y[T],text:a(y[T],v)});for(var v=-1;v*y[T]>=l[0][T];--v)R.push({x:v*y[T],text:a(y[T],v)});c.push(R)}return c}function M(l,y){for(var c=0;c<3;++c){if(l[c].length!==y[c].length)return!1;for(var T=0;T<l[c].length;++T){var R=l[c][T],v=y[c][T];if(R.x!==v.x||R.text!==v.text||R.font!==v.font||R.fontColor!==v.fontColor||R.fontSize!==v.fontSize||R.dx!==v.dx||R.dy!==v.dy)return!1}}return!0}},5445:function(B,L,a){B.exports=f;var d=a(5033),M=a(5202),l=a(6429),y=a(6760),c=a(5665),T=a(5352),R=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),v=new Float32Array(16);function E(r,o,n){this.lo=r,this.hi=o,this.pixelsPerDataUnit=n}var w=[0,0,0,1],s=[0,0,0,1];function p(r,o,n,t,i){for(var e=0;e<3;++e){for(var A=w,b=s,x=0;x<3;++x)b[x]=A[x]=n[x];b[3]=A[3]=1,b[e]+=1,T(b,b,o),b[3]<0&&(r[e]=1/0),A[e]-=1,T(A,A,o),A[3]<0&&(r[e]=1/0);var m=(A[0]/A[3]-b[0]/b[3])*t,S=(A[1]/A[3]-b[1]/b[3])*i;r[e]=.25*Math.sqrt(m*m+S*S)}return r}var g=[new E(1/0,-1/0,1/0),new E(1/0,-1/0,1/0),new E(1/0,-1/0,1/0)],h=[0,0,0];function f(r,o,n,t,S){var e=o.model||R,A=o.view||R,b=o.projection||R,x=o._ortho||!1,m=r.bounds,S=S||l(e,A,b,m,x),_=S.axis;y(v,A,e),y(v,b,v);for(var u=g,I=0;I<3;++I)u[I].lo=1/0,u[I].hi=-1/0,u[I].pixelsPerDataUnit=1/0;var F=d(c(v,v));c(v,v);for(var P=0;P<3;++P){var D=(P+1)%3,V=(P+2)%3,H=h;t:for(var I=0;I<2;++I){var O=[];if(_[P]<0!=!!I){H[P]=m[I][P];for(var C=0;C<2;++C){H[D]=m[C^I][D];for(var k=0;k<2;++k)H[V]=m[k^C^I][V],O.push(H.slice())}for(var $=x?5:4,C=$;C===$;++C){if(O.length===0)continue t;O=M.positive(O,F[C])}for(var C=0;C<O.length;++C)for(var V=O[C],z=p(h,v,V,n,t),k=0;k<3;++k)u[k].lo=Math.min(u[k].lo,V[k]),u[k].hi=Math.max(u[k].hi,V[k]),k!==P&&(u[k].pixelsPerDataUnit=Math.min(u[k].pixelsPerDataUnit,Math.abs(z[k])))}}}return u}},2762:function(B,L,a){var d=a(1888),M=a(5298),l=a(9618),y=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(s,p,g,h,f){this.gl=s,this.type=p,this.handle=g,this.length=h,this.usage=f}var T=c.prototype;T.bind=function(){this.gl.bindBuffer(this.type,this.handle)},T.unbind=function(){this.gl.bindBuffer(this.type,null)},T.dispose=function(){this.gl.deleteBuffer(this.handle)};function R(s,p,g,h,f,r){var o=f.length*f.BYTES_PER_ELEMENT;if(r<0)return s.bufferData(p,f,h),o;if(o+r>g)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return s.bufferSubData(p,r,f),g}function v(s,p){for(var g=d.malloc(s.length,p),h=s.length,f=0;f<h;++f)g[f]=s[f];return g}function E(s,p){for(var g=1,h=p.length-1;h>=0;--h){if(p[h]!==g)return!1;g*=s[h]}return!0}T.update=function(s,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof s=="object"&&typeof s.shape<"u"){var g=s.dtype;if(y.indexOf(g)<0&&(g="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var h=gl.getExtension("OES_element_index_uint");h&&g!=="uint16"?g="uint32":g="uint16"}if(g===s.dtype&&E(s.shape,s.stride))s.offset===0&&s.data.length===s.shape[0]?this.length=R(this.gl,this.type,this.length,this.usage,s.data,p):this.length=R(this.gl,this.type,this.length,this.usage,s.data.subarray(s.offset,s.shape[0]),p);else{var f=d.malloc(s.size,g),r=l(f,s.shape);M.assign(r,s),p<0?this.length=R(this.gl,this.type,this.length,this.usage,f,p):this.length=R(this.gl,this.type,this.length,this.usage,f.subarray(0,s.size),p),d.free(f)}}else if(Array.isArray(s)){var o;this.type===this.gl.ELEMENT_ARRAY_BUFFER?o=v(s,"uint16"):o=v(s,"float32"),p<0?this.length=R(this.gl,this.type,this.length,this.usage,o,p):this.length=R(this.gl,this.type,this.length,this.usage,o.subarray(0,s.length),p),d.free(o)}else if(typeof s=="object"&&typeof s.length=="number")this.length=R(this.gl,this.type,this.length,this.usage,s,p);else if(typeof s=="number"||s===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");s=s|0,s<=0&&(s=1),this.gl.bufferData(this.type,s|0,this.usage),this.length=s}else throw new Error("gl-buffer: Invalid data type")};function w(s,p,g,h){if(g=g||s.ARRAY_BUFFER,h=h||s.DYNAMIC_DRAW,g!==s.ARRAY_BUFFER&&g!==s.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(h!==s.DYNAMIC_DRAW&&h!==s.STATIC_DRAW&&h!==s.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var f=s.createBuffer(),r=new c(s,g,f,0,h);return r.update(p),r}B.exports=w},6405:function(B,L,a){var d=a(2931);B.exports=function(l,y){var c=l.positions,T=l.vectors,R={positions:[],vertexIntensity:[],vertexIntensityBounds:l.vertexIntensityBounds,vectors:[],cells:[],coneOffset:l.coneOffset,colormap:l.colormap};if(l.positions.length===0)return y&&(y[0]=[0,0,0],y[1]=[0,0,0]),R;for(var v=0,E=1/0,w=-1/0,s=1/0,p=-1/0,g=1/0,h=-1/0,f=null,r=null,o=[],n=1/0,t=!1,i=l.coneSizemode==="raw",e=0;e<c.length;e++){var A=c[e];E=Math.min(A[0],E),w=Math.max(A[0],w),s=Math.min(A[1],s),p=Math.max(A[1],p),g=Math.min(A[2],g),h=Math.max(A[2],h);var b=T[e];if(d.length(b)>v&&(v=d.length(b)),e&&!i){var x=2*d.distance(f,A)/(d.length(r)+d.length(b));x?(n=Math.min(n,x),t=!1):t=!0}t||(f=A,r=b),o.push(b)}var m=[E,s,g],S=[w,p,h];y&&(y[0]=m,y[1]=S),v===0&&(v=1);var _=1/v;isFinite(n)||(n=1),R.vectorScale=n;var u=l.coneSize||(i?1:.5);l.absoluteConeSize&&(u=l.absoluteConeSize*_),R.coneScale=u;for(var e=0,I=0;e<c.length;e++)for(var A=c[e],F=A[0],P=A[1],D=A[2],V=o[e],H=d.length(V)*_,O=0,C=8;O<C;O++){R.positions.push([F,P,D,I++]),R.positions.push([F,P,D,I++]),R.positions.push([F,P,D,I++]),R.positions.push([F,P,D,I++]),R.positions.push([F,P,D,I++]),R.positions.push([F,P,D,I++]),R.vectors.push(V),R.vectors.push(V),R.vectors.push(V),R.vectors.push(V),R.vectors.push(V),R.vectors.push(V),R.vertexIntensity.push(H,H,H),R.vertexIntensity.push(H,H,H);var k=R.positions.length;R.cells.push([k-6,k-5,k-4],[k-3,k-2,k-1])}return R};var M=a(614);B.exports.createMesh=a(9060),B.exports.createConeMesh=function(l,y){return B.exports.createMesh(l,y,{shaders:M,traceType:"cone"})}},9060:function(B,L,a){var d=a(9405),M=a(2762),l=a(8116),y=a(7766),c=a(6760),T=a(7608),R=a(9618),v=a(6729),E=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(o,n,t,i,e,A,b,x,m,S,_){this.gl=o,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=n,this.dirty=!0,this.triShader=t,this.pickShader=i,this.trianglePositions=e,this.triangleVectors=A,this.triangleColors=x,this.triangleUVs=m,this.triangleIds=b,this.triangleVAO=S,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=_,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=E,this._view=E,this._projection=E,this._resolution=[1,1]}var s=w.prototype;s.isOpaque=function(){return this.opacity>=1},s.isTransparent=function(){return this.opacity<1},s.pickSlots=1,s.setPickBase=function(o){this.pickId=o};function p(o){for(var n=v({colormap:o,nshades:256,format:"rgba"}),t=new Uint8Array(256*4),i=0;i<256;++i){for(var e=n[i],A=0;A<3;++A)t[4*i+A]=e[A];t[4*i+3]=e[3]*255}return R(t,[256,256,4],[4,0,1])}function g(o){for(var n=o.length,t=new Array(n),i=0;i<n;++i)t[i]=o[i][2];return t}s.update=function(o){o=o||{};var n=this.gl;this.dirty=!0,"lightPosition"in o&&(this.lightPosition=o.lightPosition),"opacity"in o&&(this.opacity=o.opacity),"ambient"in o&&(this.ambientLight=o.ambient),"diffuse"in o&&(this.diffuseLight=o.diffuse),"specular"in o&&(this.specularLight=o.specular),"roughness"in o&&(this.roughness=o.roughness),"fresnel"in o&&(this.fresnel=o.fresnel),o.tubeScale!==void 0&&(this.tubeScale=o.tubeScale),o.vectorScale!==void 0&&(this.vectorScale=o.vectorScale),o.coneScale!==void 0&&(this.coneScale=o.coneScale),o.coneOffset!==void 0&&(this.coneOffset=o.coneOffset),o.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=n.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=n.LINEAR,this.texture.setPixels(p(o.colormap)),this.texture.generateMipmap());var t=o.cells,i=o.positions,e=o.vectors;if(!(!i||!t||!e)){var A=[],b=[],x=[],m=[],S=[];this.cells=t,this.positions=i,this.vectors=e;var _=o.meshColor||[1,1,1,1],u=o.vertexIntensity,I=1/0,F=-1/0;if(u)if(o.vertexIntensityBounds)I=+o.vertexIntensityBounds[0],F=+o.vertexIntensityBounds[1];else for(var P=0;P<u.length;++P){var D=u[P];I=Math.min(I,D),F=Math.max(F,D)}else for(var P=0;P<i.length;++P){var D=i[P][2];I=Math.min(I,D),F=Math.max(F,D)}u?this.intensity=u:this.intensity=g(i),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var P=0;P<i.length;++P)for(var V=i[P],H=0;H<3;++H)isNaN(V[H])||!isFinite(V[H])||(this.bounds[0][H]=Math.min(this.bounds[0][H],V[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],V[H]));var O=0;t:for(var P=0;P<t.length;++P){var C=t[P];switch(C.length){case 3:for(var H=0;H<3;++H)for(var k=C[H],V=i[k],$=0;$<3;++$)if(isNaN(V[$])||!isFinite(V[$]))continue t;for(var H=0;H<3;++H){var k=C[2-H],V=i[k];A.push(V[0],V[1],V[2],V[3]);var z=e[k];b.push(z[0],z[1],z[2],z[3]||0);var Y=_;Y.length===3?x.push(Y[0],Y[1],Y[2],1):x.push(Y[0],Y[1],Y[2],Y[3]);var G;u?G=[(u[k]-I)/(F-I),0]:G=[(V[2]-I)/(F-I),0],m.push(G[0],G[1]),S.push(P)}O+=1;break}}this.triangleCount=O,this.trianglePositions.update(A),this.triangleVectors.update(b),this.triangleColors.update(x),this.triangleUVs.update(m),this.triangleIds.update(new Uint32Array(S))}},s.drawTransparent=s.draw=function(o){o=o||{};for(var n=this.gl,t=o.model||E,i=o.view||E,e=o.projection||E,A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)A[0][b]=Math.max(A[0][b],this.clipBounds[0][b]),A[1][b]=Math.min(A[1][b],this.clipBounds[1][b]);var x={model:t,view:i,projection:e,inverseModel:E.slice(),clipBounds:A,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};x.inverseModel=T(x.inverseModel,x.model),n.disable(n.CULL_FACE),this.texture.bind(0);var m=new Array(16);c(m,x.view,x.model),c(m,x.projection,m),T(m,m);for(var b=0;b<3;++b)x.eyePosition[b]=m[12+b]/m[15];for(var S=m[15],b=0;b<3;++b)S+=this.lightPosition[b]*m[4*b+3];for(var b=0;b<3;++b){for(var _=m[12+b],u=0;u<3;++u)_+=m[4*u+b]*this.lightPosition[u];x.lightPosition[b]=_/S}if(this.triangleCount>0){var I=this.triShader;I.bind(),I.uniforms=x,this.triangleVAO.bind(),n.drawArrays(n.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},s.drawPick=function(o){o=o||{};for(var n=this.gl,t=o.model||E,i=o.view||E,e=o.projection||E,A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)A[0][b]=Math.max(A[0][b],this.clipBounds[0][b]),A[1][b]=Math.min(A[1][b],this.clipBounds[1][b]);this._model=[].slice.call(t),this._view=[].slice.call(i),this._projection=[].slice.call(e),this._resolution=[n.drawingBufferWidth,n.drawingBufferHeight];var x={model:t,view:i,projection:e,clipBounds:A,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},m=this.pickShader;m.bind(),m.uniforms=x,this.triangleCount>0&&(this.triangleVAO.bind(),n.drawArrays(n.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},s.pick=function(o){if(!o||o.id!==this.pickId)return null;var n=o.value[0]+256*o.value[1]+65536*o.value[2],t=this.cells[n],i=this.positions[t[1]].slice(0,3),e={position:i,dataCoordinate:i,index:Math.floor(t[1]/48)};return this.traceType==="cone"?e.index=Math.floor(t[1]/48):this.traceType==="streamtube"&&(e.intensity=this.intensity[t[1]],e.velocity=this.vectors[t[1]].slice(0,3),e.divergence=this.vectors[t[1]][3],e.index=n),e},s.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function h(o,n){var t=d(o,n.meshShader.vertex,n.meshShader.fragment,null,n.meshShader.attributes);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.vector.location=4,t}function f(o,n){var t=d(o,n.pickShader.vertex,n.pickShader.fragment,null,n.pickShader.attributes);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.vector.location=4,t}function r(o,n,t){var i=t.shaders;arguments.length===1&&(n=o,o=n.gl);var e=h(o,i),A=f(o,i),b=y(o,R(new Uint8Array([255,255,255,255]),[1,1,4]));b.generateMipmap(),b.minFilter=o.LINEAR_MIPMAP_LINEAR,b.magFilter=o.LINEAR;var x=M(o),m=M(o),S=M(o),_=M(o),u=M(o),I=l(o,[{buffer:x,type:o.FLOAT,size:4},{buffer:u,type:o.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:S,type:o.FLOAT,size:4},{buffer:_,type:o.FLOAT,size:2},{buffer:m,type:o.FLOAT,size:4}]),F=new w(o,b,e,A,x,m,u,S,_,I,t.traceType||"cone");return F.update(n),F}B.exports=r},614:function(B,L,a){var d=a(3236),M=d([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=d([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),y=d([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);L.meshShader={vertex:M,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},L.pickShader={vertex:y,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(B){B.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(B,L,a){var d=a(737);B.exports=function(l){return d[l]}},9165:function(B,L,a){B.exports=w;var d=a(2762),M=a(8116),l=a(3436),y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(s,p,g,h){this.gl=s,this.shader=h,this.buffer=p,this.vao=g,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var T=c.prototype;T.isOpaque=function(){return!this.hasAlpha},T.isTransparent=function(){return this.hasAlpha},T.drawTransparent=T.draw=function(s){var p=this.gl,g=this.shader.uniforms;this.shader.bind();var h=g.view=s.view||y,f=g.projection=s.projection||y;g.model=s.model||y,g.clipBounds=this.clipBounds,g.opacity=this.opacity;var r=h[12],o=h[13],n=h[14],t=h[15],i=s._ortho||!1,e=i?2:1,A=e*this.pixelRatio*(f[3]*r+f[7]*o+f[11]*n+f[15]*t)/p.drawingBufferHeight;this.vao.bind();for(var b=0;b<3;++b)p.lineWidth(this.lineWidth[b]*this.pixelRatio),g.capSize=this.capSize[b]*A,this.lineCount[b]&&p.drawArrays(p.LINES,this.lineOffset[b],this.lineCount[b]);this.vao.unbind()};function R(s,p){for(var g=0;g<3;++g)s[0][g]=Math.min(s[0][g],p[g]),s[1][g]=Math.max(s[1][g],p[g])}var v=function(){for(var s=new Array(3),p=0;p<3;++p){for(var g=[],h=1;h<=2;++h)for(var f=-1;f<=1;f+=2){var r=(h+p)%3,o=[0,0,0];o[r]=f,g.push(o)}s[p]=g}return s}();function E(s,p,g,h){for(var f=v[h],r=0;r<f.length;++r){var o=f[r];s.push(p[0],p[1],p[2],g[0],g[1],g[2],g[3],o[0],o[1],o[2])}return f.length}T.update=function(s){s=s||{},"lineWidth"in s&&(this.lineWidth=s.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in s&&(this.capSize=s.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=s.color||[[0,0,0],[0,0,0],[0,0,0]],g=s.position,h=s.error;if(Array.isArray(p[0])||(p=[p,p,p]),g&&h){var f=[],r=g.length,o=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var n=0;n<3;++n){this.lineOffset[n]=o;t:for(var t=0;t<r;++t){for(var i=g[t],e=0;e<3;++e)if(isNaN(i[e])||!isFinite(i[e]))continue t;var A=h[t],b=p[n];if(Array.isArray(b[0])&&(b=p[t]),b.length===3?b=[b[0],b[1],b[2],1]:b.length===4&&(b=[b[0],b[1],b[2],b[3]],!this.hasAlpha&&b[3]<1&&(this.hasAlpha=!0)),!(isNaN(A[0][n])||isNaN(A[1][n]))){if(A[0][n]<0){var x=i.slice();x[n]+=A[0][n],f.push(i[0],i[1],i[2],b[0],b[1],b[2],b[3],0,0,0,x[0],x[1],x[2],b[0],b[1],b[2],b[3],0,0,0),R(this.bounds,x),o+=2+E(f,x,b,n)}if(A[1][n]>0){var x=i.slice();x[n]+=A[1][n],f.push(i[0],i[1],i[2],b[0],b[1],b[2],b[3],0,0,0,x[0],x[1],x[2],b[0],b[1],b[2],b[3],0,0,0),R(this.bounds,x),o+=2+E(f,x,b,n)}}}this.lineCount[n]=o-this.lineOffset[n]}this.buffer.update(f)}},T.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function w(s){var p=s.gl,g=d(p),h=M(p,[{buffer:g,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:g,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:g,type:p.FLOAT,size:3,offset:28,stride:40}]),f=l(p);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.offset.location=2;var r=new c(p,g,h,f);return r.update(s),r}},3436:function(B,L,a){var d=a(3236),M=a(9405),l=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),y=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);B.exports=function(c){return M(c,l,y,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(B,L,a){var d=a(7766);B.exports=o;var M=null,l,y,c,T;function R(n){var t=n.getParameter(n.FRAMEBUFFER_BINDING),i=n.getParameter(n.RENDERBUFFER_BINDING),e=n.getParameter(n.TEXTURE_BINDING_2D);return[t,i,e]}function v(n,t){n.bindFramebuffer(n.FRAMEBUFFER,t[0]),n.bindRenderbuffer(n.RENDERBUFFER,t[1]),n.bindTexture(n.TEXTURE_2D,t[2])}function E(n,t){var i=n.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);M=new Array(i+1);for(var e=0;e<=i;++e){for(var A=new Array(i),b=0;b<e;++b)A[b]=n.COLOR_ATTACHMENT0+b;for(var b=e;b<i;++b)A[b]=n.NONE;M[e]=A}}function w(n){switch(n){case l:throw new Error("gl-fbo: Framebuffer unsupported");case y:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case T:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(n,t,i,e,A,b){if(!e)return null;var x=d(n,t,i,A,e);return x.magFilter=n.NEAREST,x.minFilter=n.NEAREST,x.mipSamples=1,x.bind(),n.framebufferTexture2D(n.FRAMEBUFFER,b,n.TEXTURE_2D,x.handle,0),x}function p(n,t,i,e,A){var b=n.createRenderbuffer();return n.bindRenderbuffer(n.RENDERBUFFER,b),n.renderbufferStorage(n.RENDERBUFFER,e,t,i),n.framebufferRenderbuffer(n.FRAMEBUFFER,A,n.RENDERBUFFER,b),b}function g(n){var t=R(n.gl),i=n.gl,e=n.handle=i.createFramebuffer(),A=n._shape[0],b=n._shape[1],x=n.color.length,m=n._ext,S=n._useStencil,_=n._useDepth,u=n._colorType;i.bindFramebuffer(i.FRAMEBUFFER,e);for(var I=0;I<x;++I)n.color[I]=s(i,A,b,u,i.RGBA,i.COLOR_ATTACHMENT0+I);x===0?(n._color_rb=p(i,A,b,i.RGBA4,i.COLOR_ATTACHMENT0),m&&m.drawBuffersWEBGL(M[0])):x>1&&m.drawBuffersWEBGL(M[x]);var F=i.getExtension("WEBGL_depth_texture");F?S?n.depth=s(i,A,b,F.UNSIGNED_INT_24_8_WEBGL,i.DEPTH_STENCIL,i.DEPTH_STENCIL_ATTACHMENT):_&&(n.depth=s(i,A,b,i.UNSIGNED_SHORT,i.DEPTH_COMPONENT,i.DEPTH_ATTACHMENT)):_&&S?n._depth_rb=p(i,A,b,i.DEPTH_STENCIL,i.DEPTH_STENCIL_ATTACHMENT):_?n._depth_rb=p(i,A,b,i.DEPTH_COMPONENT16,i.DEPTH_ATTACHMENT):S&&(n._depth_rb=p(i,A,b,i.STENCIL_INDEX,i.STENCIL_ATTACHMENT));var P=i.checkFramebufferStatus(i.FRAMEBUFFER);if(P!==i.FRAMEBUFFER_COMPLETE){n._destroyed=!0,i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(n.handle),n.handle=null,n.depth&&(n.depth.dispose(),n.depth=null),n._depth_rb&&(i.deleteRenderbuffer(n._depth_rb),n._depth_rb=null);for(var I=0;I<n.color.length;++I)n.color[I].dispose(),n.color[I]=null;n._color_rb&&(i.deleteRenderbuffer(n._color_rb),n._color_rb=null),v(i,t),w(P)}v(i,t)}function h(n,t,i,e,A,b,x,m){this.gl=n,this._shape=[t|0,i|0],this._destroyed=!1,this._ext=m,this.color=new Array(A);for(var S=0;S<A;++S)this.color[S]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=e,this._useDepth=b,this._useStencil=x;var _=this,u=[t|0,i|0];Object.defineProperties(u,{0:{get:function(){return _._shape[0]},set:function(I){return _.width=I}},1:{get:function(){return _._shape[1]},set:function(I){return _.height=I}}}),this._shapeVector=u,g(this)}var f=h.prototype;function r(n,t,i){if(n._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(n._shape[0]===t&&n._shape[1]===i)){var e=n.gl,A=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>A||i<0||i>A)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");n._shape[0]=t,n._shape[1]=i;for(var b=R(e),x=0;x<n.color.length;++x)n.color[x].shape=n._shape;n._color_rb&&(e.bindRenderbuffer(e.RENDERBUFFER,n._color_rb),e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n._shape[0],n._shape[1])),n.depth&&(n.depth.shape=n._shape),n._depth_rb&&(e.bindRenderbuffer(e.RENDERBUFFER,n._depth_rb),n._useDepth&&n._useStencil?e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n._shape[0],n._shape[1]):n._useDepth?e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n._shape[0],n._shape[1]):n._useStencil&&e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX,n._shape[0],n._shape[1])),e.bindFramebuffer(e.FRAMEBUFFER,n.handle);var m=e.checkFramebufferStatus(e.FRAMEBUFFER);m!==e.FRAMEBUFFER_COMPLETE&&(n.dispose(),v(e,b),w(m)),v(e,b)}}Object.defineProperties(f,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(n){if(Array.isArray(n)||(n=[n|0,n|0]),n.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var t=n[0]|0,i=n[1]|0;return r(this,t,i),[t,i]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(n){return n=n|0,r(this,n,this._shape[1]),n},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(n){return n=n|0,r(this,this._shape[0],n),n},enumerable:!1}}),f.bind=function(){if(!this._destroyed){var n=this.gl;n.bindFramebuffer(n.FRAMEBUFFER,this.handle),n.viewport(0,0,this._shape[0],this._shape[1])}},f.dispose=function(){if(!this._destroyed){this._destroyed=!0;var n=this.gl;n.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(n.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(n.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function o(n,t,i,e){l||(l=n.FRAMEBUFFER_UNSUPPORTED,y=n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,T=n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var A=n.getExtension("WEBGL_draw_buffers");if(!M&&A&&E(n,A),Array.isArray(t)&&(e=i,i=t[1]|0,t=t[0]|0),typeof t!="number")throw new Error("gl-fbo: Missing shape parameter");var b=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(t<0||t>b||i<0||i>b)throw new Error("gl-fbo: Parameters are too large for FBO");e=e||{};var x=1;if("color"in e){if(x=Math.max(e.color|0,0),x<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(x>1)if(A){if(x>n.getParameter(A.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+x+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var m=n.UNSIGNED_BYTE,S=n.getExtension("OES_texture_float");if(e.float&&x>0){if(!S)throw new Error("gl-fbo: Context does not support floating point textures");m=n.FLOAT}else e.preferFloat&&x>0&&S&&(m=n.FLOAT);var _=!0;"depth"in e&&(_=!!e.depth);var u=!1;return"stencil"in e&&(u=!!e.stencil),new h(n,t,i,m,x,_,u,A)}},2992:function(B,L,a){var d=a(3387).sprintf,M=a(5171),l=a(1848),y=a(1085);B.exports=c;function c(T,R,v){var E=l(R)||"of unknown name (see npm glsl-shader-name)",w="unknown type";v!==void 0&&(w=v===M.FRAGMENT_SHADER?"fragment":"vertex");for(var s=d(`Error compiling %s shader %s:
`,w,E),p=d("%s%s",s,T),g=T.split(`
`),h={},f=0;f<g.length;f++){var r=g[f];if(!(r===""||r==="\0")){var o=parseInt(r.split(":")[2]);if(isNaN(o))throw new Error(d("Could not parse error: %s",r));h[o]=r}}for(var n=y(R).split(`
`),f=0;f<n.length;f++)if(!(!h[f+3]&&!h[f+2]&&!h[f+1])){var t=n[f];if(s+=t+`
`,h[f+1]){var i=h[f+1];i=i.substr(i.split(":",3).join(":").length+1).trim(),s+=d(`^^^ %s

`,i)}}return{long:s.trim(),short:p.trim()}}},7319:function(B,L,a){var d=a(3236),M=a(9405),l=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),y=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=d([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),T=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];L.createShader=function(R){return M(R,l,y,null,T)},L.createPickShader=function(R){return M(R,l,c,null,T)}},5714:function(B,L,a){B.exports=n;var d=a(2762),M=a(8116),l=a(7766),y=new Uint8Array(4),c=new Float32Array(y.buffer);function T(t,i,e,A){return y[0]=A,y[1]=e,y[2]=i,y[3]=t,c[0]}var R=a(2478),v=a(9618),E=a(7319),w=E.createShader,s=E.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(t,i){for(var e=0,A=0;A<3;++A){var b=t[A]-i[A];e+=b*b}return Math.sqrt(e)}function h(t){for(var i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],e=0;e<3;++e)i[0][e]=Math.max(t[0][e],i[0][e]),i[1][e]=Math.min(t[1][e],i[1][e]);return i}function f(t,i,e,A){this.arcLength=t,this.position=i,this.index=e,this.dataCoordinate=A}function r(t,i,e,A,b,x){this.gl=t,this.shader=i,this.pickShader=e,this.buffer=A,this.vao=b,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=x,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var o=r.prototype;o.isTransparent=function(){return this.hasAlpha},o.isOpaque=function(){return!this.hasAlpha},o.pickSlots=1,o.setPickBase=function(t){this.pickId=t},o.drawTransparent=o.draw=function(t){if(this.vertexCount){var i=this.gl,e=this.shader,A=this.vao;e.bind(),e.uniforms={model:t.model||p,view:t.view||p,projection:t.projection||p,clipBounds:h(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[i.drawingBufferWidth,i.drawingBufferHeight],pixelRatio:this.pixelRatio},A.bind(),A.draw(i.TRIANGLE_STRIP,this.vertexCount),A.unbind()}},o.drawPick=function(t){if(this.vertexCount){var i=this.gl,e=this.pickShader,A=this.vao;e.bind(),e.uniforms={model:t.model||p,view:t.view||p,projection:t.projection||p,pickId:this.pickId,clipBounds:h(this.clipBounds),screenShape:[i.drawingBufferWidth,i.drawingBufferHeight],pixelRatio:this.pixelRatio},A.bind(),A.draw(i.TRIANGLE_STRIP,this.vertexCount),A.unbind()}},o.update=function(t){var i,e;this.dirty=!0;var A=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var b=[],x=[],m=[],S=0,_=0,u=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],I=t.position||t.positions;if(I){var F=t.color||t.colors||[0,0,0,1],P=t.lineWidth||1,D=!1;t:for(i=1;i<I.length;++i){var V=I[i-1],H=I[i];for(x.push(S),m.push(V.slice()),e=0;e<3;++e){if(isNaN(V[e])||isNaN(H[e])||!isFinite(V[e])||!isFinite(H[e])){if(!A&&b.length>0){for(var O=0;O<24;++O)b.push(b[b.length-12]);_+=2,D=!0}continue t}u[0][e]=Math.min(u[0][e],V[e],H[e]),u[1][e]=Math.max(u[1][e],V[e],H[e])}var C,k;Array.isArray(F[0])?(C=F.length>i-1?F[i-1]:F.length>0?F[F.length-1]:[0,0,0,1],k=F.length>i?F[i]:F.length>0?F[F.length-1]:[0,0,0,1]):C=k=F,C.length===3&&(C=[C[0],C[1],C[2],1]),k.length===3&&(k=[k[0],k[1],k[2],1]),!this.hasAlpha&&C[3]<1&&(this.hasAlpha=!0);var $;Array.isArray(P)?$=P.length>i-1?P[i-1]:P.length>0?P[P.length-1]:[0,0,0,1]:$=P;var z=S;if(S+=g(V,H),D){for(e=0;e<2;++e)b.push(V[0],V[1],V[2],H[0],H[1],H[2],z,$,C[0],C[1],C[2],C[3]);_+=2,D=!1}b.push(V[0],V[1],V[2],H[0],H[1],H[2],z,$,C[0],C[1],C[2],C[3],V[0],V[1],V[2],H[0],H[1],H[2],z,-$,C[0],C[1],C[2],C[3],H[0],H[1],H[2],V[0],V[1],V[2],S,-$,k[0],k[1],k[2],k[3],H[0],H[1],H[2],V[0],V[1],V[2],S,$,k[0],k[1],k[2],k[3]),_+=4}}if(this.buffer.update(b),x.push(S),m.push(I[I.length-1].slice()),this.bounds=u,this.vertexCount=_,this.points=m,this.arcLength=x,"dashes"in t){var Y=t.dashes,G=Y.slice();for(G.unshift(0),i=1;i<G.length;++i)G[i]=G[i-1]+G[i];var X=v(new Array(256*4),[256,1,4]);for(i=0;i<256;++i){for(e=0;e<4;++e)X.set(i,0,e,0);R.le(G,G[G.length-1]*i/255)&1?X.set(i,0,0,0):X.set(i,0,0,255)}this.texture.setPixels(X)}},o.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},o.pick=function(t){if(!t||t.id!==this.pickId)return null;var i=T(t.value[0],t.value[1],t.value[2],0),e=R.le(this.arcLength,i);if(e<0)return null;if(e===this.arcLength.length-1)return new f(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),e);for(var A=this.points[e],b=this.points[Math.min(e+1,this.points.length-1)],x=(i-this.arcLength[e])/(this.arcLength[e+1]-this.arcLength[e]),m=1-x,S=[0,0,0],_=0;_<3;++_)S[_]=m*A[_]+x*b[_];var u=Math.min(x<.5?e:e+1,this.points.length-1);return new f(i,S,u,this.points[u])};function n(t){var i=t.gl||t.scene&&t.scene.gl,e=w(i);e.attributes.position.location=0,e.attributes.nextPosition.location=1,e.attributes.arcLength.location=2,e.attributes.lineWidth.location=3,e.attributes.color.location=4;var A=s(i);A.attributes.position.location=0,A.attributes.nextPosition.location=1,A.attributes.arcLength.location=2,A.attributes.lineWidth.location=3,A.attributes.color.location=4;for(var b=d(i),x=M(i,[{buffer:b,size:3,offset:0,stride:48},{buffer:b,size:3,offset:12,stride:48},{buffer:b,size:1,offset:24,stride:48},{buffer:b,size:1,offset:28,stride:48},{buffer:b,size:4,offset:32,stride:48}]),m=v(new Array(256*4),[256,1,4]),S=0;S<1024;++S)m.data[S]=255;var _=l(i,m);_.wrap=i.REPEAT;var u=new r(i,e,A,b,x,_);return u.update(t),u}},1903:function(B){B.exports=L;function L(a){var d=new Float32Array(16);return d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[4]=a[4],d[5]=a[5],d[6]=a[6],d[7]=a[7],d[8]=a[8],d[9]=a[9],d[10]=a[10],d[11]=a[11],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15],d}},6864:function(B){B.exports=L;function L(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},9921:function(B){B.exports=L;function L(a){var d=a[0],M=a[1],l=a[2],y=a[3],c=a[4],T=a[5],R=a[6],v=a[7],E=a[8],w=a[9],s=a[10],p=a[11],g=a[12],h=a[13],f=a[14],r=a[15],o=d*T-M*c,n=d*R-l*c,t=d*v-y*c,i=M*R-l*T,e=M*v-y*T,A=l*v-y*R,b=E*h-w*g,x=E*f-s*g,m=E*r-p*g,S=w*f-s*h,_=w*r-p*h,u=s*r-p*f;return o*u-n*_+t*S+i*m-e*x+A*b}},7399:function(B){B.exports=L;function L(a,d){var M=d[0],l=d[1],y=d[2],c=d[3],T=M+M,R=l+l,v=y+y,E=M*T,w=l*T,s=l*R,p=y*T,g=y*R,h=y*v,f=c*T,r=c*R,o=c*v;return a[0]=1-s-h,a[1]=w+o,a[2]=p-r,a[3]=0,a[4]=w-o,a[5]=1-E-h,a[6]=g+f,a[7]=0,a[8]=p+r,a[9]=g-f,a[10]=1-E-s,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},6743:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=d[3],R=l+l,v=y+y,E=c+c,w=l*R,s=l*v,p=l*E,g=y*v,h=y*E,f=c*E,r=T*R,o=T*v,n=T*E;return a[0]=1-(g+f),a[1]=s+n,a[2]=p-o,a[3]=0,a[4]=s-n,a[5]=1-(w+f),a[6]=h+r,a[7]=0,a[8]=p+o,a[9]=h-r,a[10]=1-(w+g),a[11]=0,a[12]=M[0],a[13]=M[1],a[14]=M[2],a[15]=1,a}},7894:function(B){B.exports=L;function L(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},7608:function(B){B.exports=L;function L(a,d){var M=d[0],l=d[1],y=d[2],c=d[3],T=d[4],R=d[5],v=d[6],E=d[7],w=d[8],s=d[9],p=d[10],g=d[11],h=d[12],f=d[13],r=d[14],o=d[15],n=M*R-l*T,t=M*v-y*T,i=M*E-c*T,e=l*v-y*R,A=l*E-c*R,b=y*E-c*v,x=w*f-s*h,m=w*r-p*h,S=w*o-g*h,_=s*r-p*f,u=s*o-g*f,I=p*o-g*r,F=n*I-t*u+i*_+e*S-A*m+b*x;return F?(F=1/F,a[0]=(R*I-v*u+E*_)*F,a[1]=(y*u-l*I-c*_)*F,a[2]=(f*b-r*A+o*e)*F,a[3]=(p*A-s*b-g*e)*F,a[4]=(v*S-T*I-E*m)*F,a[5]=(M*I-y*S+c*m)*F,a[6]=(r*i-h*b-o*t)*F,a[7]=(w*b-p*i+g*t)*F,a[8]=(T*u-R*S+E*x)*F,a[9]=(l*S-M*u-c*x)*F,a[10]=(h*A-f*i+o*n)*F,a[11]=(s*i-w*A-g*n)*F,a[12]=(R*m-T*_-v*x)*F,a[13]=(M*_-l*m+y*x)*F,a[14]=(f*t-h*e-r*n)*F,a[15]=(w*e-s*t+p*n)*F,a):null}},6582:function(B,L,a){var d=a(7894);B.exports=M;function M(l,y,c,T){var R,v,E,w,s,p,g,h,f,r,o=y[0],n=y[1],t=y[2],i=T[0],e=T[1],A=T[2],b=c[0],x=c[1],m=c[2];return Math.abs(o-b)<1e-6&&Math.abs(n-x)<1e-6&&Math.abs(t-m)<1e-6?d(l):(g=o-b,h=n-x,f=t-m,r=1/Math.sqrt(g*g+h*h+f*f),g*=r,h*=r,f*=r,R=e*f-A*h,v=A*g-i*f,E=i*h-e*g,r=Math.sqrt(R*R+v*v+E*E),r?(r=1/r,R*=r,v*=r,E*=r):(R=0,v=0,E=0),w=h*E-f*v,s=f*R-g*E,p=g*v-h*R,r=Math.sqrt(w*w+s*s+p*p),r?(r=1/r,w*=r,s*=r,p*=r):(w=0,s=0,p=0),l[0]=R,l[1]=w,l[2]=g,l[3]=0,l[4]=v,l[5]=s,l[6]=h,l[7]=0,l[8]=E,l[9]=p,l[10]=f,l[11]=0,l[12]=-(R*o+v*n+E*t),l[13]=-(w*o+s*n+p*t),l[14]=-(g*o+h*n+f*t),l[15]=1,l)}},6760:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=d[3],R=d[4],v=d[5],E=d[6],w=d[7],s=d[8],p=d[9],g=d[10],h=d[11],f=d[12],r=d[13],o=d[14],n=d[15],t=M[0],i=M[1],e=M[2],A=M[3];return a[0]=t*l+i*R+e*s+A*f,a[1]=t*y+i*v+e*p+A*r,a[2]=t*c+i*E+e*g+A*o,a[3]=t*T+i*w+e*h+A*n,t=M[4],i=M[5],e=M[6],A=M[7],a[4]=t*l+i*R+e*s+A*f,a[5]=t*y+i*v+e*p+A*r,a[6]=t*c+i*E+e*g+A*o,a[7]=t*T+i*w+e*h+A*n,t=M[8],i=M[9],e=M[10],A=M[11],a[8]=t*l+i*R+e*s+A*f,a[9]=t*y+i*v+e*p+A*r,a[10]=t*c+i*E+e*g+A*o,a[11]=t*T+i*w+e*h+A*n,t=M[12],i=M[13],e=M[14],A=M[15],a[12]=t*l+i*R+e*s+A*f,a[13]=t*y+i*v+e*p+A*r,a[14]=t*c+i*E+e*g+A*o,a[15]=t*T+i*w+e*h+A*n,a}},4040:function(B){B.exports=L;function L(a,d,M,l,y,c,T){var R=1/(d-M),v=1/(l-y),E=1/(c-T);return a[0]=-2*R,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*v,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*E,a[11]=0,a[12]=(d+M)*R,a[13]=(y+l)*v,a[14]=(T+c)*E,a[15]=1,a}},4772:function(B){B.exports=L;function L(a,d,M,l,y){var c=1/Math.tan(d/2),T=1/(l-y);return a[0]=c/M,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(y+l)*T,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*y*l*T,a[15]=0,a}},6079:function(B){B.exports=L;function L(a,d,M,l){var y=l[0],c=l[1],T=l[2],R=Math.sqrt(y*y+c*c+T*T),v,E,w,s,p,g,h,f,r,o,n,t,i,e,A,b,x,m,S,_,u,I,F,P;return Math.abs(R)<1e-6?null:(R=1/R,y*=R,c*=R,T*=R,v=Math.sin(M),E=Math.cos(M),w=1-E,s=d[0],p=d[1],g=d[2],h=d[3],f=d[4],r=d[5],o=d[6],n=d[7],t=d[8],i=d[9],e=d[10],A=d[11],b=y*y*w+E,x=c*y*w+T*v,m=T*y*w-c*v,S=y*c*w-T*v,_=c*c*w+E,u=T*c*w+y*v,I=y*T*w+c*v,F=c*T*w-y*v,P=T*T*w+E,a[0]=s*b+f*x+t*m,a[1]=p*b+r*x+i*m,a[2]=g*b+o*x+e*m,a[3]=h*b+n*x+A*m,a[4]=s*S+f*_+t*u,a[5]=p*S+r*_+i*u,a[6]=g*S+o*_+e*u,a[7]=h*S+n*_+A*u,a[8]=s*I+f*F+t*P,a[9]=p*I+r*F+i*P,a[10]=g*I+o*F+e*P,a[11]=h*I+n*F+A*P,d!==a&&(a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]),a)}},5567:function(B){B.exports=L;function L(a,d,M){var l=Math.sin(M),y=Math.cos(M),c=d[4],T=d[5],R=d[6],v=d[7],E=d[8],w=d[9],s=d[10],p=d[11];return d!==a&&(a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]),a[4]=c*y+E*l,a[5]=T*y+w*l,a[6]=R*y+s*l,a[7]=v*y+p*l,a[8]=E*y-c*l,a[9]=w*y-T*l,a[10]=s*y-R*l,a[11]=p*y-v*l,a}},2408:function(B){B.exports=L;function L(a,d,M){var l=Math.sin(M),y=Math.cos(M),c=d[0],T=d[1],R=d[2],v=d[3],E=d[8],w=d[9],s=d[10],p=d[11];return d!==a&&(a[4]=d[4],a[5]=d[5],a[6]=d[6],a[7]=d[7],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]),a[0]=c*y-E*l,a[1]=T*y-w*l,a[2]=R*y-s*l,a[3]=v*y-p*l,a[8]=c*l+E*y,a[9]=T*l+w*y,a[10]=R*l+s*y,a[11]=v*l+p*y,a}},7089:function(B){B.exports=L;function L(a,d,M){var l=Math.sin(M),y=Math.cos(M),c=d[0],T=d[1],R=d[2],v=d[3],E=d[4],w=d[5],s=d[6],p=d[7];return d!==a&&(a[8]=d[8],a[9]=d[9],a[10]=d[10],a[11]=d[11],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15]),a[0]=c*y+E*l,a[1]=T*y+w*l,a[2]=R*y+s*l,a[3]=v*y+p*l,a[4]=E*y-c*l,a[5]=w*y-T*l,a[6]=s*y-R*l,a[7]=p*y-v*l,a}},2504:function(B){B.exports=L;function L(a,d,M){var l=M[0],y=M[1],c=M[2];return a[0]=d[0]*l,a[1]=d[1]*l,a[2]=d[2]*l,a[3]=d[3]*l,a[4]=d[4]*y,a[5]=d[5]*y,a[6]=d[6]*y,a[7]=d[7]*y,a[8]=d[8]*c,a[9]=d[9]*c,a[10]=d[10]*c,a[11]=d[11]*c,a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15],a}},7656:function(B){B.exports=L;function L(a,d,M){var l=M[0],y=M[1],c=M[2],T,R,v,E,w,s,p,g,h,f,r,o;return d===a?(a[12]=d[0]*l+d[4]*y+d[8]*c+d[12],a[13]=d[1]*l+d[5]*y+d[9]*c+d[13],a[14]=d[2]*l+d[6]*y+d[10]*c+d[14],a[15]=d[3]*l+d[7]*y+d[11]*c+d[15]):(T=d[0],R=d[1],v=d[2],E=d[3],w=d[4],s=d[5],p=d[6],g=d[7],h=d[8],f=d[9],r=d[10],o=d[11],a[0]=T,a[1]=R,a[2]=v,a[3]=E,a[4]=w,a[5]=s,a[6]=p,a[7]=g,a[8]=h,a[9]=f,a[10]=r,a[11]=o,a[12]=T*l+w*y+h*c+d[12],a[13]=R*l+s*y+f*c+d[13],a[14]=v*l+p*y+r*c+d[14],a[15]=E*l+g*y+o*c+d[15]),a}},5665:function(B){B.exports=L;function L(a,d){if(a===d){var M=d[1],l=d[2],y=d[3],c=d[6],T=d[7],R=d[11];a[1]=d[4],a[2]=d[8],a[3]=d[12],a[4]=M,a[6]=d[9],a[7]=d[13],a[8]=l,a[9]=c,a[11]=d[14],a[12]=y,a[13]=T,a[14]=R}else a[0]=d[0],a[1]=d[4],a[2]=d[8],a[3]=d[12],a[4]=d[1],a[5]=d[5],a[6]=d[9],a[7]=d[13],a[8]=d[2],a[9]=d[6],a[10]=d[10],a[11]=d[14],a[12]=d[3],a[13]=d[7],a[14]=d[11],a[15]=d[15];return a}},7626:function(B,L,a){var d=a(2642),M=a(9346);B.exports=R;function l(v,E){for(var w=[0,0,0,0],s=0;s<4;++s)for(var p=0;p<4;++p)w[p]+=v[4*s+p]*E[s];return w}function y(v,E,w,s,p){for(var g=l(s,l(w,l(E,[v[0],v[1],v[2],1]))),h=0;h<3;++h)g[h]/=g[3];return[.5*p[0]*(1+g[0]),.5*p[1]*(1-g[1])]}function c(v,E){if(v.length===2){for(var w=0,s=0,p=0;p<2;++p)w+=Math.pow(E[p]-v[0][p],2),s+=Math.pow(E[p]-v[1][p],2);return w=Math.sqrt(w),s=Math.sqrt(s),w+s<1e-6?[1,0]:[s/(w+s),w/(s+w)]}else if(v.length===3){var g=[0,0];return M(v[0],v[1],v[2],E,g),d(v,g)}return[]}function T(v,E){for(var w=[0,0,0],s=0;s<v.length;++s)for(var p=v[s],g=E[s],h=0;h<3;++h)w[h]+=g*p[h];return w}function R(v,E,w,s,p,g){if(v.length===1)return[0,v[0].slice()];for(var h=new Array(v.length),f=0;f<v.length;++f)h[f]=y(v[f],w,s,p,g);for(var r=0,o=1/0,f=0;f<h.length;++f){for(var n=0,t=0;t<2;++t)n+=Math.pow(h[f][t]-E[t],2);n<o&&(o=n,r=f)}for(var i=c(h,E),e=0,f=0;f<3;++f){if(i[f]<-.001||i[f]>1.0001)return null;e+=i[f]}return Math.abs(e-1)>.001?null:[r,T(v,i),i]}},840:function(B,L,a){var d=a(3236),M=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),l=d([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),y=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),T=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),R=d([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),v=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),E=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),w=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),s=d([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),p=d([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);L.meshShader={vertex:M,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},L.wireShader={vertex:y,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},L.pointShader={vertex:T,fragment:R,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},L.pickShader={vertex:v,fragment:E,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},L.pointPickShader={vertex:w,fragment:E,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},L.contourShader={vertex:s,fragment:p,attributes:[{name:"position",type:"vec3"}]}},7201:function(B,L,a){var d=1e-6,M=1e-6,l=a(9405),y=a(2762),c=a(8116),T=a(7766),R=a(8406),v=a(6760),E=a(7608),w=a(9618),s=a(6729),p=a(7765),g=a(1888),h=a(840),f=a(7626),r=h.meshShader,o=h.wireShader,n=h.pointShader,t=h.pickShader,i=h.pointPickShader,e=h.contourShader,A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function b(O,C,k,$,z,Y,G,X,K,W,Z,J,tt,it,et,j,at,rt,st,ot,ft,xt,dt,ht,pt,lt,bt){this.gl=O,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=C,this.dirty=!0,this.triShader=k,this.lineShader=$,this.pointShader=z,this.pickShader=Y,this.pointPickShader=G,this.contourShader=X,this.trianglePositions=K,this.triangleColors=Z,this.triangleNormals=tt,this.triangleUVs=J,this.triangleIds=W,this.triangleVAO=it,this.triangleCount=0,this.lineWidth=1,this.edgePositions=et,this.edgeColors=at,this.edgeUVs=rt,this.edgeIds=j,this.edgeVAO=st,this.edgeCount=0,this.pointPositions=ot,this.pointColors=xt,this.pointUVs=dt,this.pointSizes=ht,this.pointIds=ft,this.pointVAO=pt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=lt,this.contourVAO=bt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var x=b.prototype;x.isOpaque=function(){return!this.hasAlpha},x.isTransparent=function(){return this.hasAlpha},x.pickSlots=1,x.setPickBase=function(O){this.pickId=O};function m(O,C){if(!C||!C.length)return 1;for(var k=0;k<C.length;++k){if(C.length<2)return 1;if(C[k][0]===O)return C[k][1];if(C[k][0]>O&&k>0){var $=(C[k][0]-O)/(C[k][0]-C[k-1][0]);return C[k][1]*(1-$)+$*C[k-1][1]}}return 1}function S(O,C){for(var k=s({colormap:O,nshades:256,format:"rgba"}),$=new Uint8Array(256*4),z=0;z<256;++z){for(var Y=k[z],G=0;G<3;++G)$[4*z+G]=Y[G];C?$[4*z+3]=255*m(z/255,C):$[4*z+3]=255*Y[3]}return w($,[256,256,4],[4,0,1])}function _(O){for(var C=O.length,k=new Array(C),$=0;$<C;++$)k[$]=O[$][2];return k}x.highlight=function(O){if(!O||!this.contourEnable){this.contourCount=0;return}for(var C=p(this.cells,this.intensity,O.intensity),k=C.cells,$=C.vertexIds,z=C.vertexWeights,Y=k.length,G=g.mallocFloat32(6*Y),X=0,K=0;K<Y;++K)for(var W=k[K],Z=0;Z<2;++Z){var J=W[0];W.length===2&&(J=W[Z]);for(var tt=$[J][0],it=$[J][1],et=z[J],j=1-et,at=this.positions[tt],rt=this.positions[it],st=0;st<3;++st)G[X++]=et*at[st]+j*rt[st]}this.contourCount=X/3|0,this.contourPositions.update(G.subarray(0,X)),g.free(G)},x.update=function(O){O=O||{};var C=this.gl;this.dirty=!0,"contourEnable"in O&&(this.contourEnable=O.contourEnable),"contourColor"in O&&(this.contourColor=O.contourColor),"lineWidth"in O&&(this.lineWidth=O.lineWidth),"lightPosition"in O&&(this.lightPosition=O.lightPosition),this.hasAlpha=!1,"opacity"in O&&(this.opacity=O.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in O&&(this.opacityscale=O.opacityscale,this.hasAlpha=!0),"ambient"in O&&(this.ambientLight=O.ambient),"diffuse"in O&&(this.diffuseLight=O.diffuse),"specular"in O&&(this.specularLight=O.specular),"roughness"in O&&(this.roughness=O.roughness),"fresnel"in O&&(this.fresnel=O.fresnel),O.texture?(this.texture.dispose(),this.texture=T(C,O.texture)):O.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=C.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=C.LINEAR,this.texture.setPixels(S(O.colormap,this.opacityscale)),this.texture.generateMipmap());var k=O.cells,$=O.positions;if(!(!$||!k)){var z=[],Y=[],G=[],X=[],K=[],W=[],Z=[],J=[],tt=[],it=[],et=[],j=[],at=[],rt=[];this.cells=k,this.positions=$;var st=O.vertexNormals,ot=O.cellNormals,ft=O.vertexNormalsEpsilon===void 0?d:O.vertexNormalsEpsilon,xt=O.faceNormalsEpsilon===void 0?M:O.faceNormalsEpsilon;O.useFacetNormals&&!ot&&(ot=R.faceNormals(k,$,xt)),!ot&&!st&&(st=R.vertexNormals(k,$,ft));var dt=O.vertexColors,ht=O.cellColors,pt=O.meshColor||[1,1,1,1],lt=O.vertexUVs,bt=O.vertexIntensity,Tt=O.cellUVs,yt=O.cellIntensity,ut=1/0,vt=-1/0;if(!lt&&!Tt)if(bt)if(O.vertexIntensityBounds)ut=+O.vertexIntensityBounds[0],vt=+O.vertexIntensityBounds[1];else for(var Mt=0;Mt<bt.length;++Mt){var _t=bt[Mt];ut=Math.min(ut,_t),vt=Math.max(vt,_t)}else if(yt)if(O.cellIntensityBounds)ut=+O.cellIntensityBounds[0],vt=+O.cellIntensityBounds[1];else for(var Mt=0;Mt<yt.length;++Mt){var _t=yt[Mt];ut=Math.min(ut,_t),vt=Math.max(vt,_t)}else for(var Mt=0;Mt<$.length;++Mt){var _t=$[Mt][2];ut=Math.min(ut,_t),vt=Math.max(vt,_t)}bt?this.intensity=bt:yt?this.intensity=yt:this.intensity=_($),this.pickVertex=!(yt||ht);var Pt=O.pointSizes,Ct=O.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<$.length;++Mt)for(var At=$[Mt],Ot=0;Ot<3;++Ot)isNaN(At[Ot])||!isFinite(At[Ot])||(this.bounds[0][Ot]=Math.min(this.bounds[0][Ot],At[Ot]),this.bounds[1][Ot]=Math.max(this.bounds[1][Ot],At[Ot]));var Lt=0,St=0,Yt=0;t:for(var Mt=0;Mt<k.length;++Mt){var Q=k[Mt];switch(Q.length){case 1:for(var N=Q[0],At=$[N],Ot=0;Ot<3;++Ot)if(isNaN(At[Ot])||!isFinite(At[Ot]))continue t;it.push(At[0],At[1],At[2]);var U;dt?U=dt[N]:ht?U=ht[Mt]:U=pt,this.opacityscale&&bt?Y.push(U[0],U[1],U[2],this.opacity*m((bt[N]-ut)/(vt-ut),this.opacityscale)):U.length===3?et.push(U[0],U[1],U[2],this.opacity):(et.push(U[0],U[1],U[2],U[3]*this.opacity),U[3]<1&&(this.hasAlpha=!0));var q;lt?q=lt[N]:bt?q=[(bt[N]-ut)/(vt-ut),0]:Tt?q=Tt[Mt]:yt?q=[(yt[Mt]-ut)/(vt-ut),0]:q=[(At[2]-ut)/(vt-ut),0],j.push(q[0],q[1]),Pt?at.push(Pt[N]):at.push(Ct),rt.push(Mt),Yt+=1;break;case 2:for(var Ot=0;Ot<2;++Ot)for(var N=Q[Ot],At=$[N],nt=0;nt<3;++nt)if(isNaN(At[nt])||!isFinite(At[nt]))continue t;for(var Ot=0;Ot<2;++Ot){var N=Q[Ot],At=$[N];W.push(At[0],At[1],At[2]);var U;dt?U=dt[N]:ht?U=ht[Mt]:U=pt,this.opacityscale&&bt?Y.push(U[0],U[1],U[2],this.opacity*m((bt[N]-ut)/(vt-ut),this.opacityscale)):U.length===3?Z.push(U[0],U[1],U[2],this.opacity):(Z.push(U[0],U[1],U[2],U[3]*this.opacity),U[3]<1&&(this.hasAlpha=!0));var q;lt?q=lt[N]:bt?q=[(bt[N]-ut)/(vt-ut),0]:Tt?q=Tt[Mt]:yt?q=[(yt[Mt]-ut)/(vt-ut),0]:q=[(At[2]-ut)/(vt-ut),0],J.push(q[0],q[1]),tt.push(Mt)}St+=1;break;case 3:for(var Ot=0;Ot<3;++Ot)for(var N=Q[Ot],At=$[N],nt=0;nt<3;++nt)if(isNaN(At[nt])||!isFinite(At[nt]))continue t;for(var Ot=0;Ot<3;++Ot){var N=Q[2-Ot],At=$[N];z.push(At[0],At[1],At[2]);var U;dt?U=dt[N]:ht?U=ht[Mt]:U=pt,U?this.opacityscale&&bt?Y.push(U[0],U[1],U[2],this.opacity*m((bt[N]-ut)/(vt-ut),this.opacityscale)):U.length===3?Y.push(U[0],U[1],U[2],this.opacity):(Y.push(U[0],U[1],U[2],U[3]*this.opacity),U[3]<1&&(this.hasAlpha=!0)):Y.push(.5,.5,.5,1);var q;lt?q=lt[N]:bt?q=[(bt[N]-ut)/(vt-ut),0]:Tt?q=Tt[Mt]:yt?q=[(yt[Mt]-ut)/(vt-ut),0]:q=[(At[2]-ut)/(vt-ut),0],X.push(q[0],q[1]);var ct;st?ct=st[N]:ct=ot[Mt],G.push(ct[0],ct[1],ct[2]),K.push(Mt)}Lt+=1;break}}this.pointCount=Yt,this.edgeCount=St,this.triangleCount=Lt,this.pointPositions.update(it),this.pointColors.update(et),this.pointUVs.update(j),this.pointSizes.update(at),this.pointIds.update(new Uint32Array(rt)),this.edgePositions.update(W),this.edgeColors.update(Z),this.edgeUVs.update(J),this.edgeIds.update(new Uint32Array(tt)),this.trianglePositions.update(z),this.triangleColors.update(Y),this.triangleUVs.update(X),this.triangleNormals.update(G),this.triangleIds.update(new Uint32Array(K))}},x.drawTransparent=x.draw=function(O){O=O||{};for(var C=this.gl,k=O.model||A,$=O.view||A,z=O.projection||A,Y=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],G=0;G<3;++G)Y[0][G]=Math.max(Y[0][G],this.clipBounds[0][G]),Y[1][G]=Math.min(Y[1][G],this.clipBounds[1][G]);var X={model:k,view:$,projection:z,inverseModel:A.slice(),clipBounds:Y,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=E(X.inverseModel,X.model),C.disable(C.CULL_FACE),this.texture.bind(0);var K=new Array(16);v(K,X.view,X.model),v(K,X.projection,K),E(K,K);for(var G=0;G<3;++G)X.eyePosition[G]=K[12+G]/K[15];for(var W=K[15],G=0;G<3;++G)W+=this.lightPosition[G]*K[4*G+3];for(var G=0;G<3;++G){for(var Z=K[12+G],J=0;J<3;++J)Z+=K[4*J+G]*this.lightPosition[J];X.lightPosition[G]=Z/W}if(this.triangleCount>0){var tt=this.triShader;tt.bind(),tt.uniforms=X,this.triangleVAO.bind(),C.drawArrays(C.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var tt=this.lineShader;tt.bind(),tt.uniforms=X,this.edgeVAO.bind(),C.lineWidth(this.lineWidth*this.pixelRatio),C.drawArrays(C.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var tt=this.pointShader;tt.bind(),tt.uniforms=X,this.pointVAO.bind(),C.drawArrays(C.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var tt=this.contourShader;tt.bind(),tt.uniforms=X,this.contourVAO.bind(),C.drawArrays(C.LINES,0,this.contourCount),this.contourVAO.unbind()}},x.drawPick=function(O){O=O||{};for(var C=this.gl,k=O.model||A,$=O.view||A,z=O.projection||A,Y=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],G=0;G<3;++G)Y[0][G]=Math.max(Y[0][G],this.clipBounds[0][G]),Y[1][G]=Math.min(Y[1][G],this.clipBounds[1][G]);this._model=[].slice.call(k),this._view=[].slice.call($),this._projection=[].slice.call(z),this._resolution=[C.drawingBufferWidth,C.drawingBufferHeight];var X={model:k,view:$,projection:z,clipBounds:Y,pickId:this.pickId/255},K=this.pickShader;if(K.bind(),K.uniforms=X,this.triangleCount>0&&(this.triangleVAO.bind(),C.drawArrays(C.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),C.lineWidth(this.lineWidth*this.pixelRatio),C.drawArrays(C.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var K=this.pointPickShader;K.bind(),K.uniforms=X,this.pointVAO.bind(),C.drawArrays(C.POINTS,0,this.pointCount),this.pointVAO.unbind()}},x.pick=function(O){if(!O||O.id!==this.pickId)return null;for(var C=O.value[0]+256*O.value[1]+65536*O.value[2],k=this.cells[C],$=this.positions,z=new Array(k.length),Y=0;Y<k.length;++Y)z[Y]=$[k[Y]];var G=O.coord[0],X=O.coord[1];if(!this.pickVertex){var K=this.positions[k[0]],W=this.positions[k[1]],Z=this.positions[k[2]],J=[(K[0]+W[0]+Z[0])/3,(K[1]+W[1]+Z[1])/3,(K[2]+W[2]+Z[2])/3];return{_cellCenter:!0,position:[G,X],index:C,cell:k,cellId:C,intensity:this.intensity[C],dataCoordinate:J}}var tt=f(z,[G*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!tt)return null;for(var it=tt[2],et=0,Y=0;Y<k.length;++Y)et+=it[Y]*this.intensity[k[Y]];return{position:tt[1],index:k[tt[0]],cell:k,cellId:C,intensity:et,dataCoordinate:this.positions[k[tt[0]]]}},x.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function u(O){var C=l(O,r.vertex,r.fragment);return C.attributes.position.location=0,C.attributes.color.location=2,C.attributes.uv.location=3,C.attributes.normal.location=4,C}function I(O){var C=l(O,o.vertex,o.fragment);return C.attributes.position.location=0,C.attributes.color.location=2,C.attributes.uv.location=3,C}function F(O){var C=l(O,n.vertex,n.fragment);return C.attributes.position.location=0,C.attributes.color.location=2,C.attributes.uv.location=3,C.attributes.pointSize.location=4,C}function P(O){var C=l(O,t.vertex,t.fragment);return C.attributes.position.location=0,C.attributes.id.location=1,C}function D(O){var C=l(O,i.vertex,i.fragment);return C.attributes.position.location=0,C.attributes.id.location=1,C.attributes.pointSize.location=4,C}function V(O){var C=l(O,e.vertex,e.fragment);return C.attributes.position.location=0,C}function H(O,C){arguments.length===1&&(C=O,O=C.gl);var k=O.getExtension("OES_standard_derivatives")||O.getExtension("MOZ_OES_standard_derivatives")||O.getExtension("WEBKIT_OES_standard_derivatives");if(!k)throw new Error("derivatives not supported");var $=u(O),z=I(O),Y=F(O),G=P(O),X=D(O),K=V(O),W=T(O,w(new Uint8Array([255,255,255,255]),[1,1,4]));W.generateMipmap(),W.minFilter=O.LINEAR_MIPMAP_LINEAR,W.magFilter=O.LINEAR;var Z=y(O),J=y(O),tt=y(O),it=y(O),et=y(O),j=c(O,[{buffer:Z,type:O.FLOAT,size:3},{buffer:et,type:O.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:J,type:O.FLOAT,size:4},{buffer:tt,type:O.FLOAT,size:2},{buffer:it,type:O.FLOAT,size:3}]),at=y(O),rt=y(O),st=y(O),ot=y(O),ft=c(O,[{buffer:at,type:O.FLOAT,size:3},{buffer:ot,type:O.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:rt,type:O.FLOAT,size:4},{buffer:st,type:O.FLOAT,size:2}]),xt=y(O),dt=y(O),ht=y(O),pt=y(O),lt=y(O),bt=c(O,[{buffer:xt,type:O.FLOAT,size:3},{buffer:lt,type:O.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:dt,type:O.FLOAT,size:4},{buffer:ht,type:O.FLOAT,size:2},{buffer:pt,type:O.FLOAT,size:1}]),Tt=y(O),yt=c(O,[{buffer:Tt,type:O.FLOAT,size:3}]),ut=new b(O,W,$,z,Y,G,X,K,Z,et,J,tt,it,j,at,ot,rt,st,ft,xt,lt,dt,ht,pt,bt,Tt,yt);return ut.update(C),ut}B.exports=H},4437:function(B,L,a){B.exports=R;var d=a(3025),M=a(6296),l=a(351),y=a(8512),c=a(24),T=a(7520);function R(v,E){v=v||document.body,E=E||{};var w=[.01,1/0];"distanceLimits"in E&&(w[0]=E.distanceLimits[0],w[1]=E.distanceLimits[1]),"zoomMin"in E&&(w[0]=E.zoomMin),"zoomMax"in E&&(w[1]=E.zoomMax);var s=M({center:E.center||[0,0,0],up:E.up||[0,1,0],eye:E.eye||[0,0,10],mode:E.mode||"orbit",distanceLimits:w}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0,h=v.clientWidth,f=v.clientHeight,r={keyBindingMode:"rotate",enableWheel:!0,view:s,element:v,delay:E.delay||16,rotateSpeed:E.rotateSpeed||1,zoomSpeed:E.zoomSpeed||1,translateSpeed:E.translateSpeed||1,flipX:!!E.flipX,flipY:!!E.flipY,modes:s.modes,_ortho:E._ortho||E.projection&&E.projection.type==="orthographic"||!1,tick:function(){var o=d(),n=this.delay,t=o-2*n;s.idle(o-n),s.recalcMatrix(t),s.flush(o-(100+n*2));for(var i=!0,e=s.computedMatrix,A=0;A<16;++A)i=i&&p[A]===e[A],p[A]=e[A];var b=v.clientWidth===h&&v.clientHeight===f;return h=v.clientWidth,f=v.clientHeight,i?!b:(g=Math.exp(s.computedRadius[0]),!0)},lookAt:function(o,n,t){s.lookAt(s.lastT(),o,n,t)},rotate:function(o,n,t){s.rotate(s.lastT(),o,n,t)},pan:function(o,n,t){s.pan(s.lastT(),o,n,t)},translate:function(o,n,t){s.translate(s.lastT(),o,n,t)}};return Object.defineProperties(r,{matrix:{get:function(){return s.computedMatrix},set:function(o){return s.setMatrix(s.lastT(),o),s.computedMatrix},enumerable:!0},mode:{get:function(){return s.getMode()},set:function(o){var n=s.computedUp.slice(),t=s.computedEye.slice(),i=s.computedCenter.slice();if(s.setMode(o),o==="turntable"){var e=d();s._active.lookAt(e,t,i,n),s._active.lookAt(e+500,t,i,[0,0,1]),s._active.flush(e)}return s.getMode()},enumerable:!0},center:{get:function(){return s.computedCenter},set:function(o){return s.lookAt(s.lastT(),null,o),s.computedCenter},enumerable:!0},eye:{get:function(){return s.computedEye},set:function(o){return s.lookAt(s.lastT(),o),s.computedEye},enumerable:!0},up:{get:function(){return s.computedUp},set:function(o){return s.lookAt(s.lastT(),null,null,o),s.computedUp},enumerable:!0},distance:{get:function(){return g},set:function(o){return s.setDistance(s.lastT(),o),o},enumerable:!0},distanceLimits:{get:function(){return s.getDistanceLimits(w)},set:function(o){return s.setDistanceLimits(o),o},enumerable:!0}}),v.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),r._lastX=-1,r._lastY=-1,r._lastMods={shift:!1,control:!1,alt:!1,meta:!1},r.enableMouseListeners=function(){r.mouseListener=l(v,o),v.addEventListener("touchstart",function(n){var t=c(n.changedTouches[0],v);o(0,t[0],t[1],r._lastMods),o(1,t[0],t[1],r._lastMods)},T?{passive:!0}:!1),v.addEventListener("touchmove",function(n){var t=c(n.changedTouches[0],v);o(1,t[0],t[1],r._lastMods),n.preventDefault()},T?{passive:!1}:!1),v.addEventListener("touchend",function(n){o(0,r._lastX,r._lastY,r._lastMods)},T?{passive:!0}:!1);function o(n,t,i,e){var A=r.keyBindingMode;if(A!==!1){var b=A==="rotate",x=A==="pan",m=A==="zoom",S=!!e.control,_=!!e.alt,u=!!e.shift,I=!!(n&1),F=!!(n&2),P=!!(n&4),D=1/v.clientHeight,V=D*(t-r._lastX),H=D*(i-r._lastY),O=r.flipX?1:-1,C=r.flipY?1:-1,k=Math.PI*r.rotateSpeed,$=d();if(r._lastX!==-1&&r._lastY!==-1&&((b&&I&&!S&&!_&&!u||I&&!S&&!_&&u)&&s.rotate($,O*k*V,-C*k*H,0),(x&&I&&!S&&!_&&!u||F||I&&S&&!_&&!u)&&s.pan($,-r.translateSpeed*V*g,r.translateSpeed*H*g,0),m&&I&&!S&&!_&&!u||P||I&&!S&&_&&!u)){var z=-r.zoomSpeed*H/window.innerHeight*($-s.lastT())*100;s.pan($,0,0,g*(Math.exp(z)-1))}return r._lastX=t,r._lastY=i,r._lastMods=e,!0}}r.wheelListener=y(v,function(n,t){if(r.keyBindingMode!==!1&&r.enableWheel){var i=r.flipX?1:-1,e=r.flipY?1:-1,A=d();if(Math.abs(n)>Math.abs(t))s.rotate(A,0,0,-n*i*Math.PI*r.rotateSpeed/window.innerWidth);else if(!r._ortho){var b=-r.zoomSpeed*e*t/window.innerHeight*(A-s.lastT())/20;s.pan(A,0,0,g*(Math.exp(b)-1))}}},!0)},r.enableMouseListeners(),r}},799:function(B,L,a){var d=a(3236),M=a(9405),l=d([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),y=d([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);B.exports=function(c){return M(c,l,y,null,[{name:"position",type:"vec2"}])}},4100:function(B,L,a){var d=a(4437),M=a(3837),l=a(5445),y=a(4449),c=a(3589),T=a(2260),R=a(7169),v=a(351),E=a(4772),w=a(4040),s=a(799),p=a(9216)({tablet:!0,featureDetect:!0});B.exports={createScene:o,createCamera:d};function g(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function h(t,i){var e=null;try{e=t.getContext("webgl",i),e||(e=t.getContext("experimental-webgl",i))}catch{return null}return e}function f(t){var i=Math.round(Math.log(Math.abs(t))/Math.log(10));if(i<0){var e=Math.round(Math.pow(10,-i));return Math.ceil(t*e)/e}else if(i>0){var e=Math.round(Math.pow(10,i));return Math.ceil(t/e)*e}return Math.ceil(t)}function r(t){return typeof t=="boolean"?t:!0}function o(t){t=t||{},t.camera=t.camera||{};var i=t.canvas;if(!i)if(i=document.createElement("canvas"),t.container){var e=t.container;e.appendChild(i)}else document.body.appendChild(i);var A=t.gl;if(A||(t.glOptions&&(p=!!t.glOptions.preserveDrawingBuffer),A=h(i,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!A)throw new Error("webgl not supported");var b=t.bounds||[[-10,-10,-10],[10,10,10]],x=new g,m=T(A,A.drawingBufferWidth,A.drawingBufferHeight,{preferFloat:!p}),S=s(A),_=t.cameraObject&&t.cameraObject._ortho===!0||t.camera.projection&&t.camera.projection.type==="orthographic"||!1,u={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:_},I=t.axes||{},F=M(A,I);F.enable=!I.disable;var P=t.spikes||{},D=y(A,P),V=[],H=[],O=[],C=[],k=!0,G=!0,$=new Array(16),z=new Array(16),Y={view:null,projection:$,model:z,_ortho:!1},G=!0,X=[A.drawingBufferWidth,A.drawingBufferHeight],K=t.cameraObject||d(i,u),W={gl:A,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:i,selection:x,camera:K,axes:F,axesPixels:null,spikes:D,bounds:b,objects:V,shape:X,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:r(t.autoResize),autoBounds:r(t.autoBounds),autoScale:!!t.autoScale,autoCenter:r(t.autoCenter),clipToBounds:r(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:Y,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ot){this.aspect[0]=ot.x,this.aspect[1]=ot.y,this.aspect[2]=ot.z,G=!0},setBounds:function(ot,ft){this.bounds[0][ot]=ft.min,this.bounds[1][ot]=ft.max},setClearColor:function(ot){this.clearColor=ot},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},Z=[A.drawingBufferWidth/W.pixelRatio|0,A.drawingBufferHeight/W.pixelRatio|0];function J(){if(!W._stopped&&W.autoResize){var ot=i.parentNode,ft=1,xt=1;ot&&ot!==document.body?(ft=ot.clientWidth,xt=ot.clientHeight):(ft=window.innerWidth,xt=window.innerHeight);var dt=Math.ceil(ft*W.pixelRatio)|0,ht=Math.ceil(xt*W.pixelRatio)|0;if(dt!==i.width||ht!==i.height){i.width=dt,i.height=ht;var pt=i.style;pt.position=pt.position||"absolute",pt.left="0px",pt.top="0px",pt.width=ft+"px",pt.height=xt+"px",k=!0}}}W.autoResize&&J(),window.addEventListener("resize",J);function tt(){for(var ot=V.length,ft=C.length,xt=0;xt<ft;++xt)O[xt]=0;t:for(var xt=0;xt<ot;++xt){var dt=V[xt],ht=dt.pickSlots;if(!ht){H[xt]=-1;continue}for(var pt=0;pt<ft;++pt)if(O[pt]+ht<255){H[xt]=pt,dt.setPickBase(O[pt]+1),O[pt]+=ht;continue t}var lt=c(A,X);H[xt]=ft,C.push(lt),O.push(ht),dt.setPickBase(1),ft+=1}for(;ft>0&&O[ft-1]===0;)O.pop(),C.pop().dispose()}W.update=function(ot){W._stopped||(k=!0,G=!0)},W.add=function(ot){W._stopped||(ot.axes=F,V.push(ot),H.push(-1),k=!0,G=!0,tt())},W.remove=function(ot){if(!W._stopped){var ft=V.indexOf(ot);ft<0||(V.splice(ft,1),H.pop(),k=!0,G=!0,tt())}},W.dispose=function(){if(!W._stopped&&(W._stopped=!0,window.removeEventListener("resize",J),i.removeEventListener("webglcontextlost",it),W.mouseListener.enabled=!1,!W.contextLost)){F.dispose(),D.dispose();for(var ot=0;ot<V.length;++ot)V[ot].dispose();m.dispose();for(var ot=0;ot<C.length;++ot)C[ot].dispose();S.dispose(),A=null,F=null,D=null,V=[]}},W._mouseRotating=!1,W._prevButtons=0,W.enableMouseListeners=function(){W.mouseListener=v(i,function(ot,ft,xt){if(!W._stopped){var dt=C.length,ht=V.length,pt=x.object;x.distance=1/0,x.mouse[0]=ft,x.mouse[1]=xt,x.object=null,x.screen=null,x.dataCoordinate=x.dataPosition=null;var lt=!1;if(ot&&W._prevButtons)W._mouseRotating=!0;else{W._mouseRotating&&(G=!0),W._mouseRotating=!1;for(var bt=0;bt<dt;++bt){var Tt=C[bt].query(ft,Z[1]-xt-1,W.pickRadius);if(Tt){if(Tt.distance>x.distance)continue;for(var yt=0;yt<ht;++yt){var ut=V[yt];if(H[yt]===bt){var vt=ut.pick(Tt);vt&&(x.buttons=ot,x.screen=Tt.coord,x.distance=Tt.distance,x.object=ut,x.index=vt.distance,x.dataPosition=vt.position,x.dataCoordinate=vt.dataCoordinate,x.data=vt,lt=!0)}}}}}pt&&pt!==x.object&&(pt.highlight&&pt.highlight(null),k=!0),x.object&&(x.object.highlight&&x.object.highlight(x.data),k=!0),lt=lt||x.object!==pt,lt&&W.onselect&&W.onselect(x),ot&1&&!(W._prevButtons&1)&&W.onclick&&W.onclick(x),W._prevButtons=ot}})};function it(){if(W.contextLost)return!0;A.isContextLost()&&(W.contextLost=!0,W.mouseListener.enabled=!1,W.selection.object=null,W.oncontextloss&&W.oncontextloss())}i.addEventListener("webglcontextlost",it);function et(){if(!it()){A.colorMask(!0,!0,!0,!0),A.depthMask(!0),A.disable(A.BLEND),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL);for(var ot=V.length,ft=C.length,xt=0;xt<ft;++xt){var dt=C[xt];dt.shape=Z,dt.begin();for(var ht=0;ht<ot;++ht)if(H[ht]===xt){var pt=V[ht];pt.drawPick&&(pt.pixelRatio=1,pt.drawPick(Y))}dt.end()}}}var j=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],at=[j[0].slice(),j[1].slice()];function rt(){if(!it()){J();var ot=W.camera.tick();Y.view=W.camera.matrix,k=k||ot,G=G||ot,F.pixelRatio=W.pixelRatio,D.pixelRatio=W.pixelRatio;var ft=V.length,xt=j[0],dt=j[1];xt[0]=xt[1]=xt[2]=1/0,dt[0]=dt[1]=dt[2]=-1/0;for(var ht=0;ht<ft;++ht){var pt=V[ht];pt.pixelRatio=W.pixelRatio,pt.axes=W.axes,k=k||!!pt.dirty,G=G||!!pt.dirty;var lt=pt.bounds;if(lt)for(var bt=lt[0],Tt=lt[1],yt=0;yt<3;++yt)xt[yt]=Math.min(xt[yt],bt[yt]),dt[yt]=Math.max(dt[yt],Tt[yt])}var ut=W.bounds;if(W.autoBounds)for(var yt=0;yt<3;++yt){if(dt[yt]<xt[yt])xt[yt]=-1,dt[yt]=1;else{xt[yt]===dt[yt]&&(xt[yt]-=1,dt[yt]+=1);var vt=.05*(dt[yt]-xt[yt]);xt[yt]=xt[yt]-vt,dt[yt]=dt[yt]+vt}ut[0][yt]=xt[yt],ut[1][yt]=dt[yt]}for(var Mt=!1,yt=0;yt<3;++yt)Mt=Mt||at[0][yt]!==ut[0][yt]||at[1][yt]!==ut[1][yt],at[0][yt]=ut[0][yt],at[1][yt]=ut[1][yt];if(G=G||Mt,k=k||Mt,!!k){if(Mt){for(var _t=[0,0,0],ht=0;ht<3;++ht)_t[ht]=f((ut[1][ht]-ut[0][ht])/10);F.autoTicks?F.update({bounds:ut,tickSpacing:_t}):F.update({bounds:ut})}var Pt=A.drawingBufferWidth,Ct=A.drawingBufferHeight;X[0]=Pt,X[1]=Ct,Z[0]=Math.max(Pt/W.pixelRatio,1)|0,Z[1]=Math.max(Ct/W.pixelRatio,1)|0,n(W,_);for(var ht=0;ht<ft;++ht){var pt=V[ht];pt.axesBounds=ut,W.clipToBounds&&(pt.clipBounds=ut)}x.object&&(W.snapToData?D.position=x.dataCoordinate:D.position=x.dataPosition,D.bounds=ut),G&&(G=!1,et()),W.axesPixels=l(W.axes,Y,Pt,Ct),W.onrender&&W.onrender(),A.bindFramebuffer(A.FRAMEBUFFER,null),A.viewport(0,0,Pt,Ct),W.clearRGBA(),A.depthMask(!0),A.colorMask(!0,!0,!0,!0),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL),A.disable(A.BLEND),A.disable(A.CULL_FACE);var At=!1;F.enable&&(At=At||F.isTransparent(),F.draw(Y)),D.axes=F,x.object&&D.draw(Y),A.disable(A.CULL_FACE);for(var ht=0;ht<ft;++ht){var pt=V[ht];pt.axes=F,pt.pixelRatio=W.pixelRatio,pt.isOpaque&&pt.isOpaque()&&pt.draw(Y),pt.isTransparent&&pt.isTransparent()&&(At=!0)}if(At){m.shape=X,m.bind(),A.clear(A.DEPTH_BUFFER_BIT),A.colorMask(!1,!1,!1,!1),A.depthMask(!0),A.depthFunc(A.LESS),F.enable&&F.isTransparent()&&F.drawTransparent(Y);for(var ht=0;ht<ft;++ht){var pt=V[ht];pt.isOpaque&&pt.isOpaque()&&pt.draw(Y)}A.enable(A.BLEND),A.blendEquation(A.FUNC_ADD),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.colorMask(!0,!0,!0,!0),A.depthMask(!1),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),F.isTransparent()&&F.drawTransparent(Y);for(var ht=0;ht<ft;++ht){var pt=V[ht];pt.isTransparent&&pt.isTransparent()&&pt.drawTransparent(Y)}A.bindFramebuffer(A.FRAMEBUFFER,null),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.disable(A.DEPTH_TEST),S.bind(),m.color[0].bind(0),S.uniforms.accumBuffer=0,R(A),A.disable(A.BLEND)}k=!1;for(var ht=0;ht<ft;++ht)V[ht].dirty=!1}}}function st(){W._stopped||W.contextLost||(rt(),requestAnimationFrame(st))}return W.enableMouseListeners(),st(),W.redraw=function(){W._stopped||(k=!0,rt())},W}function n(t,i){var e=t.bounds,A=t.cameraParams,b=A.projection,x=A.model,m=t.gl.drawingBufferWidth,S=t.gl.drawingBufferHeight,_=t.zNear,u=t.zFar,I=t.fovy,F=m/S;i?(w(b,-F,F,-1,1,_,u),A._ortho=!0):(E(b,I,F,_,u),A._ortho=!1);for(var P=0;P<16;++P)x[P]=0;x[15]=1;for(var D=0,P=0;P<3;++P)D=Math.max(D,e[1][P]-e[0][P]);for(var P=0;P<3;++P)t.autoScale?x[5*P]=t.aspect[P]/(e[1][P]-e[0][P]):x[5*P]=1/D,t.autoCenter&&(x[12+P]=-x[5*P]*.5*(e[0][P]+e[1][P]))}},783:function(B){B.exports=L;function L(a,d,M,l){var y=d[0],c=d[1],T=d[2],R=d[3],v=M[0],E=M[1],w=M[2],s=M[3],p,g,h,f,r;return g=y*v+c*E+T*w+R*s,g<0&&(g=-g,v=-v,E=-E,w=-w,s=-s),1-g>1e-6?(p=Math.acos(g),h=Math.sin(p),f=Math.sin((1-l)*p)/h,r=Math.sin(l*p)/h):(f=1-l,r=l),a[0]=f*y+r*v,a[1]=f*c+r*E,a[2]=f*T+r*w,a[3]=f*R+r*s,a}},5964:function(B){B.exports=function(L){return!L&&L!==0?"":L.toString()}},9366:function(B,L,a){var d=a(4359);B.exports=l;var M={};function l(y,c,T){var R=[c.style,c.weight,c.variant,c.family].join("_"),v=M[R];if(v||(v=M[R]={}),y in v)return v[y];var E={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c.family,fontStyle:c.style,fontWeight:c.weight,fontVariant:c.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};E.triangles=!0;var w=d(y,E);E.triangles=!1;var s=d(y,E),p,g;if(T&&T!==1){for(p=0;p<w.positions.length;++p)for(g=0;g<w.positions[p].length;++g)w.positions[p][g]/=T;for(p=0;p<s.positions.length;++p)for(g=0;g<s.positions[p].length;++g)s.positions[p][g]/=T}var h=[[1/0,1/0],[-1/0,-1/0]],f=s.positions.length;for(p=0;p<f;++p){var r=s.positions[p];for(g=0;g<2;++g)h[0][g]=Math.min(h[0][g],r[g]),h[1][g]=Math.max(h[1][g],r[g])}return v[y]=[w,s,h]}},1283:function(B,L,a){var d=a(9405),M=a(3236),l=M([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),y=M([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=M([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),T=M([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),R=M([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),v=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],E={vertex:l,fragment:T,attributes:v},w={vertex:y,fragment:T,attributes:v},s={vertex:c,fragment:T,attributes:v},p={vertex:l,fragment:R,attributes:v},g={vertex:y,fragment:R,attributes:v},h={vertex:c,fragment:R,attributes:v};function f(r,o){var n=d(r,o),t=n.attributes;return t.position.location=0,t.color.location=1,t.glyph.location=2,t.id.location=3,n}L.createPerspective=function(r){return f(r,E)},L.createOrtho=function(r){return f(r,w)},L.createProject=function(r){return f(r,s)},L.createPickPerspective=function(r){return f(r,p)},L.createPickOrtho=function(r){return f(r,g)},L.createPickProject=function(r){return f(r,h)}},8418:function(B,L,a){var d=a(5219),M=a(2762),l=a(8116),y=a(1888),c=a(6760),T=a(1283),R=a(9366),v=a(5964),E=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],w=ArrayBuffer,s=DataView;function p(z){return w.isView(z)&&!(z instanceof s)}function g(z){return Array.isArray(z)||p(z)}B.exports=$;function h(z,Y){var G=z[0],X=z[1],K=z[2],W=z[3];return z[0]=Y[0]*G+Y[4]*X+Y[8]*K+Y[12]*W,z[1]=Y[1]*G+Y[5]*X+Y[9]*K+Y[13]*W,z[2]=Y[2]*G+Y[6]*X+Y[10]*K+Y[14]*W,z[3]=Y[3]*G+Y[7]*X+Y[11]*K+Y[15]*W,z}function f(z,Y,G,X){return h(X,X),h(X,X),h(X,X)}function r(z,Y){this.index=z,this.dataCoordinate=this.position=Y}function o(z){return z===!0||z>1?1:z}function n(z,Y,G,X,K,W,Z,J,tt,it,et,j){this.gl=z,this.pixelRatio=1,this.shader=Y,this.orthoShader=G,this.projectShader=X,this.pointBuffer=K,this.colorBuffer=W,this.glyphBuffer=Z,this.idBuffer=J,this.vao=tt,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=it,this.pickOrthoShader=et,this.pickProjectShader=j,this.points=[],this._selectResult=new r(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var t=n.prototype;t.pickSlots=1,t.setPickBase=function(z){this.pickId=z},t.isTransparent=function(){if(this.hasAlpha)return!0;for(var z=0;z<3;++z)if(this.axesProject[z]&&this.projectHasAlpha)return!0;return!1},t.isOpaque=function(){if(!this.hasAlpha)return!0;for(var z=0;z<3;++z)if(this.axesProject[z]&&!this.projectHasAlpha)return!0;return!1};var i=[0,0],e=[0,0,0],A=[0,0,0],b=[0,0,0,1],x=[0,0,0,1],m=E.slice(),S=[0,0,0],_=[[0,0,0],[0,0,0]];function u(z){return z[0]=z[1]=z[2]=0,z}function I(z,Y){return z[0]=Y[0],z[1]=Y[1],z[2]=Y[2],z[3]=1,z}function F(z,Y,G,X){return z[0]=Y[0],z[1]=Y[1],z[2]=Y[2],z[G]=X,z}function P(z){for(var Y=_,G=0;G<2;++G)for(var X=0;X<3;++X)Y[G][X]=Math.max(Math.min(z[G][X],1e8),-1e8);return Y}function D(z,Y,G,X){var K=Y.axesProject,W=Y.gl,Z=z.uniforms,J=G.model||E,tt=G.view||E,it=G.projection||E,et=Y.axesBounds,j=P(Y.clipBounds),at;Y.axes&&Y.axes.lastCubeProps?at=Y.axes.lastCubeProps.axis:at=[1,1,1],i[0]=2/W.drawingBufferWidth,i[1]=2/W.drawingBufferHeight,z.bind(),Z.view=tt,Z.projection=it,Z.screenSize=i,Z.highlightId=Y.highlightId,Z.highlightScale=Y.highlightScale,Z.clipBounds=j,Z.pickGroup=Y.pickId/255,Z.pixelRatio=X;for(var rt=0;rt<3;++rt)if(K[rt]){Z.scale=Y.projectScale[rt],Z.opacity=Y.projectOpacity[rt];for(var st=m,ot=0;ot<16;++ot)st[ot]=0;for(var ot=0;ot<4;++ot)st[5*ot]=1;st[5*rt]=0,at[rt]<0?st[12+rt]=et[0][rt]:st[12+rt]=et[1][rt],c(st,J,st),Z.model=st;var ft=(rt+1)%3,xt=(rt+2)%3,dt=u(e),ht=u(A);dt[ft]=1,ht[xt]=1;var pt=f(it,tt,J,I(b,dt)),lt=f(it,tt,J,I(x,ht));if(Math.abs(pt[1])>Math.abs(lt[1])){var bt=pt;pt=lt,lt=bt,bt=dt,dt=ht,ht=bt;var Tt=ft;ft=xt,xt=Tt}pt[0]<0&&(dt[ft]=-1),lt[1]>0&&(ht[xt]=-1);for(var yt=0,ut=0,ot=0;ot<4;++ot)yt+=Math.pow(J[4*ft+ot],2),ut+=Math.pow(J[4*xt+ot],2);dt[ft]/=Math.sqrt(yt),ht[xt]/=Math.sqrt(ut),Z.axes[0]=dt,Z.axes[1]=ht,Z.fragClipBounds[0]=F(S,j[0],rt,-1e8),Z.fragClipBounds[1]=F(S,j[1],rt,1e8),Y.vao.bind(),Y.vao.draw(W.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(W.lineWidth(Y.lineWidth*X),Y.vao.draw(W.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var V=[-1e8,-1e8,-1e8],H=[1e8,1e8,1e8],O=[V,H];function C(z,Y,G,X,K,W,Z){var J=G.gl;if((W===G.projectHasAlpha||Z)&&D(Y,G,X,K),W===G.hasAlpha||Z){z.bind();var tt=z.uniforms;tt.model=X.model||E,tt.view=X.view||E,tt.projection=X.projection||E,i[0]=2/J.drawingBufferWidth,i[1]=2/J.drawingBufferHeight,tt.screenSize=i,tt.highlightId=G.highlightId,tt.highlightScale=G.highlightScale,tt.fragClipBounds=O,tt.clipBounds=G.axes.bounds,tt.opacity=G.opacity,tt.pickGroup=G.pickId/255,tt.pixelRatio=K,G.vao.bind(),G.vao.draw(J.TRIANGLES,G.vertexCount),G.lineWidth>0&&(J.lineWidth(G.lineWidth*K),G.vao.draw(J.LINES,G.lineVertexCount,G.vertexCount)),G.vao.unbind()}}t.draw=function(z){var Y=this.useOrtho?this.orthoShader:this.shader;C(Y,this.projectShader,this,z,this.pixelRatio,!1,!1)},t.drawTransparent=function(z){var Y=this.useOrtho?this.orthoShader:this.shader;C(Y,this.projectShader,this,z,this.pixelRatio,!0,!1)},t.drawPick=function(z){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;C(Y,this.pickProjectShader,this,z,1,!0,!0)},t.pick=function(z){if(!z||z.id!==this.pickId)return null;var Y=z.value[2]+(z.value[1]<<8)+(z.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var G=this.points[Y],X=this._selectResult;X.index=Y;for(var K=0;K<3;++K)X.position[K]=X.dataCoordinate[K]=G[K];return X},t.highlight=function(z){if(!z)this.highlightId=[1,1,1,1];else{var Y=z.index,G=Y&255,X=Y>>8&255,K=Y>>16&255;this.highlightId=[G/255,X/255,K/255,0]}};function k(z,Y,G,X){var K;g(z)?Y<z.length?K=z[Y]:K=void 0:K=z,K=v(K);var W=!0;d(K)&&(K="",W=!1),G||(G={});var Z=G.family;g(Z)&&(Z=Z[Y]),Z||(Z="normal");var J=G.weight;g(J)&&(J=J[Y]),J||(J="normal");var tt=G.style;g(tt)&&(tt=tt[Y]),tt||(tt="normal");var it=G.variant;g(it)&&(it=it[Y]),it||(it="normal");var et=R(K,{family:Z,weight:J,style:tt,variant:it},X),et=R(K,G,X);return{mesh:et[0],lines:et[1],bounds:et[2],visible:W}}t.update=function(z){if(z=z||{},"perspective"in z&&(this.useOrtho=!z.perspective),"orthographic"in z&&(this.useOrtho=!!z.orthographic),"lineWidth"in z&&(this.lineWidth=z.lineWidth),"project"in z)if(g(z.project))this.axesProject=z.project;else{var Y=!!z.project;this.axesProject=[Y,Y,Y]}if("projectScale"in z)if(g(z.projectScale))this.projectScale=z.projectScale.slice();else{var G=+z.projectScale;this.projectScale=[G,G,G]}if(this.projectHasAlpha=!1,"projectOpacity"in z){if(g(z.projectOpacity))this.projectOpacity=z.projectOpacity.slice();else{var G=+z.projectOpacity;this.projectOpacity=[G,G,G]}for(var X=0;X<3;++X)this.projectOpacity[X]=o(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in z&&(this.opacity=o(z.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var K=z.position,W={family:z.font||"normal",style:z.fontStyle||"normal",weight:z.fontWeight||"normal",variant:z.fontVariant||"normal"},Z=z.alignment||[0,0],J,tt;if(Z.length===2)J=Z[0],tt=Z[1];else{J=[],tt=[];for(var X=0;X<Z.length;++X)J[X]=Z[X][0],tt[X]=Z[X][1]}var it=[1/0,1/0,1/0],et=[-1/0,-1/0,-1/0],j=z.glyph,at=z.color,rt=z.size,st=z.angle,ot=z.lineColor,ft=-1,xt=0,dt=0,ht=0;if(K.length){ht=K.length;t:for(var X=0;X<ht;++X){for(var pt=K[X],lt=0;lt<3;++lt)if(isNaN(pt[lt])||!isFinite(pt[lt]))continue t;var bt=k(j,X,W,this.pixelRatio),Tt=bt.mesh,yt=bt.lines,ut=bt.bounds;xt+=Tt.cells.length*3,dt+=yt.edges.length*2}}var vt=xt+dt,Mt=y.mallocFloat(3*vt),_t=y.mallocFloat(4*vt),Pt=y.mallocFloat(2*vt),Ct=y.mallocUint32(vt);if(vt>0){var At=0,Ot=xt,Lt=[0,0,0,1],St=[0,0,0,1],Yt=g(at)&&g(at[0]),Q=g(ot)&&g(ot[0]);t:for(var X=0;X<ht;++X){ft+=1;for(var pt=K[X],lt=0;lt<3;++lt){if(isNaN(pt[lt])||!isFinite(pt[lt]))continue t;et[lt]=Math.max(et[lt],pt[lt]),it[lt]=Math.min(it[lt],pt[lt])}var bt=k(j,X,W,this.pixelRatio),Tt=bt.mesh,yt=bt.lines,ut=bt.bounds,N=bt.visible;if(!N)Lt=[1,1,1,0];else if(g(at)){var U;if(Yt?X<at.length?U=at[X]:U=[0,0,0,0]:U=at,U.length===3){for(var lt=0;lt<3;++lt)Lt[lt]=U[lt];Lt[3]=1}else if(U.length===4){for(var lt=0;lt<4;++lt)Lt[lt]=U[lt];!this.hasAlpha&&U[3]<1&&(this.hasAlpha=!0)}}else Lt[0]=Lt[1]=Lt[2]=0,Lt[3]=1;if(!N)St=[1,1,1,0];else if(g(ot)){var U;if(Q?X<ot.length?U=ot[X]:U=[0,0,0,0]:U=ot,U.length===3){for(var lt=0;lt<3;++lt)St[lt]=U[lt];St[lt]=1}else if(U.length===4){for(var lt=0;lt<4;++lt)St[lt]=U[lt];!this.hasAlpha&&U[3]<1&&(this.hasAlpha=!0)}}else St[0]=St[1]=St[2]=0,St[3]=1;var q=.5;N?g(rt)?X<rt.length?q=+rt[X]:q=12:rt?q=+rt:this.useOrtho&&(q=12):q=0;var nt=0;g(st)?X<st.length?nt=+st[X]:nt=0:st&&(nt=+st);for(var ct=Math.cos(nt),gt=Math.sin(nt),pt=K[X],lt=0;lt<3;++lt)et[lt]=Math.max(et[lt],pt[lt]),it[lt]=Math.min(it[lt],pt[lt]);var mt=J,kt=tt,mt=0;g(J)?X<J.length?mt=J[X]:mt=0:J&&(mt=J);var kt=0;g(tt)?X<tt.length?kt=tt[X]:kt=0:tt&&(kt=tt),mt*=mt>0?1-ut[0][0]:mt<0?1+ut[1][0]:1,kt*=kt>0?1-ut[0][1]:kt<0?1+ut[1][1]:1;for(var It=[mt,kt],Kt=Tt.cells||[],Ut=Tt.positions||[],lt=0;lt<Kt.length;++lt)for(var Bt=Kt[lt],Dt=0;Dt<3;++Dt){for(var Nt=0;Nt<3;++Nt)Mt[3*At+Nt]=pt[Nt];for(var Nt=0;Nt<4;++Nt)_t[4*At+Nt]=Lt[Nt];Ct[At]=ft;var zt=Ut[Bt[Dt]];Pt[2*At]=q*(ct*zt[0]-gt*zt[1]+It[0]),Pt[2*At+1]=q*(gt*zt[0]+ct*zt[1]+It[1]),At+=1}for(var Kt=yt.edges,Ut=yt.positions,lt=0;lt<Kt.length;++lt)for(var Bt=Kt[lt],Dt=0;Dt<2;++Dt){for(var Nt=0;Nt<3;++Nt)Mt[3*Ot+Nt]=pt[Nt];for(var Nt=0;Nt<4;++Nt)_t[4*Ot+Nt]=St[Nt];Ct[Ot]=ft;var zt=Ut[Bt[Dt]];Pt[2*Ot]=q*(ct*zt[0]-gt*zt[1]+It[0]),Pt[2*Ot+1]=q*(gt*zt[0]+ct*zt[1]+It[1]),Ot+=1}}}this.bounds=[it,et],this.points=K,this.pointCount=K.length,this.vertexCount=xt,this.lineVertexCount=dt,this.pointBuffer.update(Mt),this.colorBuffer.update(_t),this.glyphBuffer.update(Pt),this.idBuffer.update(Ct),y.free(Mt),y.free(_t),y.free(Pt),y.free(Ct)},t.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function $(z){var Y=z.gl,G=T.createPerspective(Y),X=T.createOrtho(Y),K=T.createProject(Y),W=T.createPickPerspective(Y),Z=T.createPickOrtho(Y),J=T.createPickProject(Y),tt=M(Y),it=M(Y),et=M(Y),j=M(Y),at=l(Y,[{buffer:tt,size:3,type:Y.FLOAT},{buffer:it,size:4,type:Y.FLOAT},{buffer:et,size:2,type:Y.FLOAT},{buffer:j,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),rt=new n(Y,G,X,K,tt,it,et,j,at,W,Z,J);return rt.update(z),rt}},3589:function(B,L,a){B.exports=E;var d=a(2260),M=a(1888),l=a(9618),y=a(8828).nextPow2,c=function(w,s,p){for(var g=1e8,h=-1,f=-1,r=w.shape[0],o=w.shape[1],n=0;n<r;n++)for(var t=0;t<o;t++){var i=w.get(n,t,0),e=w.get(n,t,1),A=w.get(n,t,2),b=w.get(n,t,3);if(i<255||e<255||A<255||b<255){var x=s-n,m=p-t,S=x*x+m*m;S<g&&(g=S,h=n,f=t)}}return[h,f,g]};function T(w,s,p,g,h){this.coord=[w,s],this.id=p,this.value=g,this.distance=h}function R(w,s,p){this.gl=w,this.fbo=s,this.buffer=p,this._readTimeout=null;var g=this;this._readCallback=function(){g.gl&&(s.bind(),w.readPixels(0,0,s.shape[0],s.shape[1],w.RGBA,w.UNSIGNED_BYTE,g.buffer),g._readTimeout=null)}}var v=R.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(w){if(this.gl){this.fbo.shape=w;var s=this.fbo.shape[0],p=this.fbo.shape[1];if(p*s*4>this.buffer.length){M.free(this.buffer);for(var g=this.buffer=M.mallocUint8(y(p*s*4)),h=0;h<p*s*4;++h)g[h]=255}return w}}}),v.begin=function(){var w=this.gl;this.shape,w&&(this.fbo.bind(),w.clearColor(1,1,1,1),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT))},v.end=function(){var w=this.gl;w&&(w.bindFramebuffer(w.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(w,s,p){if(!this.gl)return null;var g=this.fbo.shape.slice();w=w|0,s=s|0,typeof p!="number"&&(p=1);var h=Math.min(Math.max(w-p,0),g[0])|0,f=Math.min(Math.max(w+p,0),g[0])|0,r=Math.min(Math.max(s-p,0),g[1])|0,o=Math.min(Math.max(s+p,0),g[1])|0;if(f<=h||o<=r)return null;var n=[f-h,o-r],t=l(this.buffer,[n[0],n[1],4],[4,g[0]*4,1],4*(h+g[0]*r)),i=c(t.hi(n[0],n[1],1),p,p),e=i[0],A=i[1];if(e<0||Math.pow(this.radius,2)<i[2])return null;var b=t.get(e,A,0),x=t.get(e,A,1),m=t.get(e,A,2),S=t.get(e,A,3);return new T(e+h|0,A+r|0,b,[x,m,S],Math.sqrt(i[2]))},v.dispose=function(){this.gl&&(this.fbo.dispose(),M.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function E(w,s){var p=s[0],g=s[1],h={},f=d(w,p,g,h),r=M.mallocUint8(p*g*4);return new R(w,f,r)}},9405:function(B,L,a){var d=a(3327),M=a(8731),l=a(216),y=a(5091),c=a(2145),T=a(8866);function R(s){this.gl=s,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var v=R.prototype;v.bind=function(){this.program||this._relink();var s,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),g=this.gl.lastAttribCount;if(p>g)for(s=g;s<p;s++)this.gl.enableVertexAttribArray(s);else if(g>p)for(s=p;s<g;s++)this.gl.disableVertexAttribArray(s);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},v.dispose=function(){for(var s=this.gl.lastAttribCount,p=0;p<s;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function E(s,p){return s.name<p.name?-1:1}v.update=function(s,p,g,h){if(!p||arguments.length===1){var f=s;s=f.vertex,p=f.fragment,g=f.uniforms,h=f.attributes}var r=this,o=r.gl,n=r._vref;r._vref=y.shader(o,o.VERTEX_SHADER,s),n&&n.dispose(),r.vertShader=r._vref.shader;var t=this._fref;if(r._fref=y.shader(o,o.FRAGMENT_SHADER,p),t&&t.dispose(),r.fragShader=r._fref.shader,!g||!h){var i=o.createProgram();if(o.attachShader(i,r.fragShader),o.attachShader(i,r.vertShader),o.linkProgram(i),!o.getProgramParameter(i,o.LINK_STATUS)){var e=o.getProgramInfoLog(i);throw new T(e,"Error linking program:"+e)}g=g||c.uniforms(o,i),h=h||c.attributes(o,i),o.deleteProgram(i)}h=h.slice(),h.sort(E);var A=[],b=[],x=[],m;for(m=0;m<h.length;++m){var S=h[m];if(S.type.indexOf("mat")>=0){for(var _=S.type.charAt(S.type.length-1)|0,u=new Array(_),I=0;I<_;++I)u[I]=x.length,b.push(S.name+"["+I+"]"),typeof S.location=="number"?x.push(S.location+I):Array.isArray(S.location)&&S.location.length===_&&typeof S.location[I]=="number"?x.push(S.location[I]|0):x.push(-1);A.push({name:S.name,type:S.type,locations:u})}else A.push({name:S.name,type:S.type,locations:[x.length]}),b.push(S.name),typeof S.location=="number"?x.push(S.location|0):x.push(-1)}var F=0;for(m=0;m<x.length;++m)if(x[m]<0){for(;x.indexOf(F)>=0;)F+=1;x[m]=F}var P=new Array(g.length);function D(){r.program=y.program(o,r._vref,r._fref,b,x);for(var V=0;V<g.length;++V)P[V]=o.getUniformLocation(r.program,g[V].name)}D(),r._relink=D,r.types={uniforms:l(g),attributes:l(h)},r.attributes=M(o,r,A,x),Object.defineProperty(r,"uniforms",d(o,r,g,P))};function w(s,p,g,h,f){var r=new R(s);return r.update(p,g,h,f),r}B.exports=w},8866:function(B){function L(a,d,M){this.shortMessage=d||"",this.longMessage=M||"",this.rawError=a||"",this.message="gl-shader: "+(d||a||"")+(M?`
`+M:""),this.stack=new Error().stack}L.prototype=new Error,L.prototype.name="GLError",L.prototype.constructor=L,B.exports=L},8731:function(B,L,a){B.exports=R;var d=a(8866);function M(v,E,w,s,p,g){this._gl=v,this._wrapper=E,this._index=w,this._locations=s,this._dimension=p,this._constFunc=g}var l=M.prototype;l.pointer=function(E,w,s,p){var g=this,h=g._gl,f=g._locations[g._index];h.vertexAttribPointer(f,g._dimension,E||h.FLOAT,!!w,s||0,p||0),h.enableVertexAttribArray(f)},l.set=function(v,E,w,s){return this._constFunc(this._locations[this._index],v,E,w,s)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=v|0,this._wrapper.program=null),v|0}});var y=[function(v,E,w){return w.length===void 0?v.vertexAttrib1f(E,w):v.vertexAttrib1fv(E,w)},function(v,E,w,s){return w.length===void 0?v.vertexAttrib2f(E,w,s):v.vertexAttrib2fv(E,w)},function(v,E,w,s,p){return w.length===void 0?v.vertexAttrib3f(E,w,s,p):v.vertexAttrib3fv(E,w)},function(v,E,w,s,p,g){return w.length===void 0?v.vertexAttrib4f(E,w,s,p,g):v.vertexAttrib4fv(E,w)}];function c(v,E,w,s,p,g,h){var f=y[p],r=new M(v,E,w,s,p,f);Object.defineProperty(g,h,{set:function(o){return v.disableVertexAttribArray(s[w]),f(v,s[w],o),o},get:function(){return r},enumerable:!0})}function T(v,E,w,s,p,g,h){for(var f=new Array(p),r=new Array(p),o=0;o<p;++o)c(v,E,w[o],s,p,f,o),r[o]=f[o];Object.defineProperty(f,"location",{set:function(i){if(Array.isArray(i))for(var e=0;e<p;++e)r[e].location=i[e];else for(var e=0;e<p;++e)r[e].location=i+e;return i},get:function(){for(var i=new Array(p),e=0;e<p;++e)i[e]=s[w[e]];return i},enumerable:!0}),f.pointer=function(i,e,A,b){i=i||v.FLOAT,e=!!e,A=A||p*p,b=b||0;for(var x=0;x<p;++x){var m=s[w[x]];v.vertexAttribPointer(m,p,i,e,A,b+x*p),v.enableVertexAttribArray(m)}};var n=new Array(p),t=v["vertexAttrib"+p+"fv"];Object.defineProperty(g,h,{set:function(i){for(var e=0;e<p;++e){var A=s[w[e]];if(v.disableVertexAttribArray(A),Array.isArray(i[0]))t.call(v,A,i[e]);else{for(var b=0;b<p;++b)n[b]=i[p*e+b];t.call(v,A,n)}}return i},get:function(){return f},enumerable:!0})}function R(v,E,w,s){for(var p={},g=0,h=w.length;g<h;++g){var f=w[g],r=f.name,o=f.type,n=f.locations;switch(o){case"bool":case"int":case"float":c(v,E,n[0],s,1,p,r);break;default:if(o.indexOf("vec")>=0){var t=o.charCodeAt(o.length-1)-48;if(t<2||t>4)throw new d("","Invalid data type for attribute "+r+": "+o);c(v,E,n[0],s,t,p,r)}else if(o.indexOf("mat")>=0){var t=o.charCodeAt(o.length-1)-48;if(t<2||t>4)throw new d("","Invalid data type for attribute "+r+": "+o);T(v,E,n,s,t,p,r)}else throw new d("","Unknown data type for attribute "+r+": "+o);break}}return p}},3327:function(B,L,a){var d=a(216),M=a(8866);B.exports=c;function l(T){return function(){return T}}function y(T,R){for(var v=new Array(T),E=0;E<T;++E)v[E]=R;return v}function c(T,R,v,E){function w(o){return function(n,t,i){return n.getUniform(t.program,i[o])}}function s(o){return function(t){for(var i=p("",o),e=0;e<i.length;++e){var A=i[e],b=A[0],x=A[1];if(E[x]){var m=t;if(typeof b=="string"&&(b.indexOf(".")===0||b.indexOf("[")===0)){var S=b;if(b.indexOf(".")===0&&(S=b.slice(1)),S.indexOf("]")===S.length-1){var _=S.indexOf("["),u=S.slice(0,_),I=S.slice(_+1,S.length-1);m=u?t[u][I]:t[I]}else m=t[S]}var F=v[x].type,P;switch(F){case"bool":case"int":case"sampler2D":case"samplerCube":T.uniform1i(E[x],m);break;case"float":T.uniform1f(E[x],m);break;default:var D=F.indexOf("vec");if(0<=D&&D<=1&&F.length===4+D){if(P=F.charCodeAt(F.length-1)-48,P<2||P>4)throw new M("","Invalid data type");switch(F.charAt(0)){case"b":case"i":T["uniform"+P+"iv"](E[x],m);break;case"v":T["uniform"+P+"fv"](E[x],m);break;default:throw new M("","Unrecognized data type for vector "+name+": "+F)}}else if(F.indexOf("mat")===0&&F.length===4){if(P=F.charCodeAt(F.length-1)-48,P<2||P>4)throw new M("","Invalid uniform dimension type for matrix "+name+": "+F);T["uniformMatrix"+P+"fv"](E[x],!1,m);break}else throw new M("","Unknown uniform data type for "+name+": "+F)}}}}}function p(o,n){if(typeof n!="object")return[[o,n]];var t=[];for(var i in n){var e=n[i],A=o;parseInt(i)+""===i?A+="["+i+"]":A+="."+i,typeof e=="object"?t.push.apply(t,p(A,e)):t.push([A,e])}return t}function g(o){switch(o){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var n=o.indexOf("vec");if(0<=n&&n<=1&&o.length===4+n){var t=o.charCodeAt(o.length-1)-48;if(t<2||t>4)throw new M("","Invalid data type");return o.charAt(0)==="b"?y(t,!1):y(t,0)}else if(o.indexOf("mat")===0&&o.length===4){var t=o.charCodeAt(o.length-1)-48;if(t<2||t>4)throw new M("","Invalid uniform dimension type for matrix "+name+": "+o);return y(t*t,0)}else throw new M("","Unknown uniform data type for "+name+": "+o)}}function h(o,n,t){if(typeof t=="object"){var i=f(t);Object.defineProperty(o,n,{get:l(i),set:s(t),enumerable:!0,configurable:!1})}else E[t]?Object.defineProperty(o,n,{get:w(t),set:s(t),enumerable:!0,configurable:!1}):o[n]=g(v[t].type)}function f(o){var n;if(Array.isArray(o)){n=new Array(o.length);for(var t=0;t<o.length;++t)h(n,t,o[t])}else{n={};for(var i in o)h(n,i,o[i])}return n}var r=d(v,!0);return{get:l(f(r)),set:s(r),enumerable:!0,configurable:!0}}},216:function(B){B.exports=L;function L(a,d){for(var M={},l=0;l<a.length;++l)for(var y=a[l].name,c=y.split("."),T=M,R=0;R<c.length;++R){var v=c[R].split("[");if(v.length>1){v[0]in T||(T[v[0]]=[]),T=T[v[0]];for(var E=1;E<v.length;++E){var w=parseInt(v[E]);E<v.length-1||R<c.length-1?(w in T||(E<v.length-1?T[w]=[]:T[w]={}),T=T[w]):d?T[w]=l:T[w]=a[l].type}}else R<c.length-1?(v[0]in T||(T[v[0]]={}),T=T[v[0]]):d?T[v[0]]=l:T[v[0]]=a[l].type}return M}},2145:function(B,L){L.uniforms=l,L.attributes=y;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},d=null;function M(c,T){if(!d){var R=Object.keys(a);d={};for(var v=0;v<R.length;++v){var E=R[v];d[c[E]]=a[E]}}return d[T]}function l(c,T){for(var R=c.getProgramParameter(T,c.ACTIVE_UNIFORMS),v=[],E=0;E<R;++E){var w=c.getActiveUniform(T,E);if(w){var s=M(c,w.type);if(w.size>1)for(var p=0;p<w.size;++p)v.push({name:w.name.replace("[0]","["+p+"]"),type:s});else v.push({name:w.name,type:s})}}return v}function y(c,T){for(var R=c.getProgramParameter(T,c.ACTIVE_ATTRIBUTES),v=[],E=0;E<R;++E){var w=c.getActiveAttrib(T,E);w&&v.push({name:w.name,type:M(c,w.type)})}return v}},5091:function(B,L,a){L.shader=p,L.program=g;var d=a(8866),M=a(2992),l=typeof WeakMap>"u"?a(606):WeakMap,y=new l,c=0;function T(h,f,r,o,n,t,i){this.id=h,this.src=f,this.type=r,this.shader=o,this.count=t,this.programs=[],this.cache=i}T.prototype.dispose=function(){if(--this.count===0){for(var h=this.cache,f=h.gl,r=this.programs,o=0,n=r.length;o<n;++o){var t=h.programs[r[o]];t&&(delete h.programs[o],f.deleteProgram(t))}f.deleteShader(this.shader),delete h.shaders[this.type===f.FRAGMENT_SHADER|0][this.src]}};function R(h){this.gl=h,this.shaders=[{},{}],this.programs={}}var v=R.prototype;function E(h,f,r){var o=h.createShader(f);if(h.shaderSource(o,r),h.compileShader(o),!h.getShaderParameter(o,h.COMPILE_STATUS)){var n=h.getShaderInfoLog(o);try{var t=M(n,r,f)}catch(i){throw console.warn("Failed to format compiler error: "+i),new d(n,`Error compiling shader:
`+n)}throw new d(n,t.short,t.long)}return o}v.getShaderReference=function(h,f){var r=this.gl,o=this.shaders[h===r.FRAGMENT_SHADER|0],n=o[f];if(!n||!r.isShader(n.shader)){var t=E(r,h,f);n=o[f]=new T(c++,f,h,t,[],1,this)}else n.count+=1;return n};function w(h,f,r,o,n){var t=h.createProgram();h.attachShader(t,f),h.attachShader(t,r);for(var i=0;i<o.length;++i)h.bindAttribLocation(t,n[i],o[i]);if(h.linkProgram(t),!h.getProgramParameter(t,h.LINK_STATUS)){var e=h.getProgramInfoLog(t);throw new d(e,"Error linking program: "+e)}return t}v.getProgram=function(h,f,r,o){var n=[h.id,f.id,r.join(":"),o.join(":")].join("@"),t=this.programs[n];return(!t||!this.gl.isProgram(t))&&(this.programs[n]=t=w(this.gl,h.shader,f.shader,r,o),h.programs.push(n),f.programs.push(n)),t};function s(h){var f=y.get(h);return f||(f=new R(h),y.set(h,f)),f}function p(h,f,r){return s(h).getShaderReference(f,r)}function g(h,f,r,o,n){return s(h).getProgram(f,r,o,n)}},1493:function(B,L,a){var d=a(3236),M=a(9405),l=d([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),y=d([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);B.exports=function(c){return M(c,l,y,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(B,L,a){var d=a(2762),M=a(8116),l=a(1493);B.exports=w;var y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(s,p,g,h){this.gl=s,this.buffer=p,this.vao=g,this.shader=h,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var T=c.prototype,R=[0,0,0],v=[0,0,0],E=[0,0];T.isTransparent=function(){return!1},T.drawTransparent=function(s){},T.draw=function(s){var p=this.gl,g=this.vao,h=this.shader;g.bind(),h.bind();var f=s.model||y,r=s.view||y,o=s.projection||y,n;this.axes&&(n=this.axes.lastCubeProps.axis);for(var t=R,i=v,e=0;e<3;++e)n&&n[e]<0?(t[e]=this.bounds[0][e],i[e]=this.bounds[1][e]):(t[e]=this.bounds[1][e],i[e]=this.bounds[0][e]);E[0]=p.drawingBufferWidth,E[1]=p.drawingBufferHeight,h.uniforms.model=f,h.uniforms.view=r,h.uniforms.projection=o,h.uniforms.coordinates=[this.position,t,i],h.uniforms.colors=this.colors,h.uniforms.screenShape=E;for(var e=0;e<3;++e)h.uniforms.lineWidth=this.lineWidth[e]*this.pixelRatio,this.enabled[e]&&(g.draw(p.TRIANGLES,6,6*e),this.drawSides[e]&&g.draw(p.TRIANGLES,12,18+12*e));g.unbind()},T.update=function(s){s&&("bounds"in s&&(this.bounds=s.bounds),"position"in s&&(this.position=s.position),"lineWidth"in s&&(this.lineWidth=s.lineWidth),"colors"in s&&(this.colors=s.colors),"enabled"in s&&(this.enabled=s.enabled),"drawSides"in s&&(this.drawSides=s.drawSides))},T.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function w(s,p){var g=[];function h(t,i,e,A,b,x){var m=[t,i,e,0,0,0,1];m[A+3]=1,m[A]=b,g.push.apply(g,m),m[6]=-1,g.push.apply(g,m),m[A]=x,g.push.apply(g,m),g.push.apply(g,m),m[6]=1,g.push.apply(g,m),m[A]=b,g.push.apply(g,m)}h(0,0,0,0,0,1),h(0,0,0,1,0,1),h(0,0,0,2,0,1),h(1,0,0,1,-1,1),h(1,0,0,2,-1,1),h(0,1,0,0,-1,1),h(0,1,0,2,-1,1),h(0,0,1,0,-1,1),h(0,0,1,1,-1,1);var f=d(s,g),r=M(s,[{type:s.FLOAT,buffer:f,size:3,offset:0,stride:28},{type:s.FLOAT,buffer:f,size:3,offset:12,stride:28},{type:s.FLOAT,buffer:f,size:1,offset:24,stride:28}]),o=l(s);o.attributes.position.location=0,o.attributes.color.location=1,o.attributes.weight.location=2;var n=new c(s,f,r,o);return n.update(p),n}},6740:function(B,L,a){var d=a(3236),M=d([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=d([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),y=d([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=d([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);L.meshShader={vertex:M,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},L.pickShader={vertex:y,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(B,L,a){var d=a(2931),M=a(9970),l=["xyz","xzy","yxz","yzx","zxy","zyx"],y=function(g,h,f,r){for(var o=g.points,n=g.velocities,t=g.divergences,i=[],e=[],A=[],b=[],x=[],m=[],S=0,_=0,u=M.create(),I=M.create(),F=8,P=0;P<o.length;P++){var D=o[P],V=n[P],H=t[P];h===0&&(H=f*.05),_=d.length(V)/r,u=M.create(),d.copy(u,V),u[3]=H;for(var O=0;O<F;O++)x[O]=[D[0],D[1],D[2],O];if(b.length>0)for(var O=0;O<F;O++){var C=(O+1)%F;i.push(b[O],x[O],x[C],x[C],b[C],b[O]),A.push(I,u,u,u,I,I),m.push(S,_,_,_,S,S);var k=i.length;e.push([k-6,k-5,k-4],[k-3,k-2,k-1])}var $=b;b=x,x=$;var z=I;I=u,u=z;var Y=S;S=_,_=Y}return{positions:i,cells:e,vectors:A,vertexIntensity:m}},c=function(g,h,f,r){for(var o=0,n=0;n<g.length;n++)for(var t=g[n].velocities,i=0;i<t.length;i++)o=Math.max(o,d.length(t[i]));for(var e=g.map(function(P){return y(P,f,r,o)}),A=[],b=[],x=[],m=[],n=0;n<e.length;n++){var S=e[n],_=A.length;A=A.concat(S.positions),x=x.concat(S.vectors),m=m.concat(S.vertexIntensity);for(var i=0;i<S.cells.length;i++){var u=S.cells[i],I=[];b.push(I);for(var F=0;F<u.length;F++)I.push(u[F]+_)}}return{positions:A,cells:b,vectors:x,vertexIntensity:m,colormap:h}},T=function(g,h){var f=g.length,r;for(r=0;r<f;r++){var o=g[r];if(o===h)return r;if(o>h)return r-1}return r},R=function(g,h,f){return g<h?h:g>f?f:g},v=function(g,h,f){var r=h.vectors,o=h.meshgrid,n=g[0],t=g[1],i=g[2],e=o[0].length,A=o[1].length,b=o[2].length,x=T(o[0],n),m=T(o[1],t),S=T(o[2],i),_=x+1,u=m+1,I=S+1;if(x=R(x,0,e-1),_=R(_,0,e-1),m=R(m,0,A-1),u=R(u,0,A-1),S=R(S,0,b-1),I=R(I,0,b-1),x<0||m<0||S<0||_>e-1||u>A-1||I>b-1)return d.create();var F=o[0][x],P=o[0][_],D=o[1][m],V=o[1][u],H=o[2][S],O=o[2][I],C=(n-F)/(P-F),k=(t-D)/(V-D),$=(i-H)/(O-H);isFinite(C)||(C=.5),isFinite(k)||(k=.5),isFinite($)||($=.5);var z,Y,G,X,K,W;switch(f.reversedX&&(x=e-1-x,_=e-1-_),f.reversedY&&(m=A-1-m,u=A-1-u),f.reversedZ&&(S=b-1-S,I=b-1-I),f.filled){case 5:K=S,W=I,G=m*b,X=u*b,z=x*b*A,Y=_*b*A;break;case 4:K=S,W=I,z=x*b,Y=_*b,G=m*b*e,X=u*b*e;break;case 3:G=m,X=u,K=S*A,W=I*A,z=x*A*b,Y=_*A*b;break;case 2:G=m,X=u,z=x*A,Y=_*A,K=S*A*e,W=I*A*e;break;case 1:z=x,Y=_,K=S*e,W=I*e,G=m*e*b,X=u*e*b;break;default:z=x,Y=_,G=m*e,X=u*e,K=S*e*A,W=I*e*A;break}var Z=r[z+G+K],J=r[z+G+W],tt=r[z+X+K],it=r[z+X+W],et=r[Y+G+K],j=r[Y+G+W],at=r[Y+X+K],rt=r[Y+X+W],st=d.create(),ot=d.create(),ft=d.create(),xt=d.create();d.lerp(st,Z,et,C),d.lerp(ot,J,j,C),d.lerp(ft,tt,at,C),d.lerp(xt,it,rt,C);var dt=d.create(),ht=d.create();d.lerp(dt,st,ft,k),d.lerp(ht,ot,xt,k);var pt=d.create();return d.lerp(pt,dt,ht,$),pt},E=function(g){var h=1/0;g.sort(function(n,t){return n-t});for(var f=g.length,r=1;r<f;r++){var o=Math.abs(g[r]-g[r-1]);o<h&&(h=o)}return h},w=function(g){for(var h=[],f=[],r=[],o={},n={},t={},i=g.length,e=0;e<i;e++){var A=g[e],b=A[0],x=A[1],m=A[2];o[b]||(h.push(b),o[b]=!0),n[x]||(f.push(x),n[x]=!0),t[m]||(r.push(m),t[m]=!0)}var S=E(h),_=E(f),u=E(r),I=Math.min(S,_,u);return isFinite(I)?I:1};B.exports=function(g,h){var f=g.startingPositions,r=g.maxLength||1e3,o=g.tubeSize||1,n=g.absoluteTubeSize,t=g.gridFill||"+x+y+z",i={};t.indexOf("-x")!==-1&&(i.reversedX=!0),t.indexOf("-y")!==-1&&(i.reversedY=!0),t.indexOf("-z")!==-1&&(i.reversedZ=!0),i.filled=l.indexOf(t.replace(/-/g,"").replace(/\+/g,""));var e=g.getVelocity||function(j){return v(j,g,i)},A=g.getDivergence||function(j,at){var rt=d.create(),st=1e-4;d.add(rt,j,[st,0,0]);var ot=e(rt);d.subtract(ot,ot,at),d.scale(ot,ot,1/st),d.add(rt,j,[0,st,0]);var ft=e(rt);d.subtract(ft,ft,at),d.scale(ft,ft,1/st),d.add(rt,j,[0,0,st]);var xt=e(rt);return d.subtract(xt,xt,at),d.scale(xt,xt,1/st),d.add(rt,ot,ft),d.add(rt,rt,xt),rt},b=[],x=h[0][0],m=h[0][1],S=h[0][2],_=h[1][0],u=h[1][1],I=h[1][2],F=function(j){var at=j[0],rt=j[1],st=j[2];return!(at<x||at>_||rt<m||rt>u||st<S||st>I)},P=d.distance(h[0],h[1]),D=10*P/r,V=D*D,H=1,O=0,C=f.length;C>1&&(H=w(f));for(var k=0;k<C;k++){var $=d.create();d.copy($,f[k]);var z=[$],Y=[],G=e($),X=$;Y.push(G);var K=[],W=A($,G),Z=d.length(W);isFinite(Z)&&Z>O&&(O=Z),K.push(Z),b.push({points:z,velocities:Y,divergences:K});for(var J=0;J<r*100&&z.length<r&&F($);){J++;var tt=d.clone(G),it=d.squaredLength(tt);if(it===0)break;if(it>V&&d.scale(tt,tt,D/Math.sqrt(it)),d.add(tt,tt,$),G=e(tt),d.squaredDistance(X,tt)-V>-1e-4*V){z.push(tt),X=tt,Y.push(G);var W=A(tt,G),Z=d.length(W);isFinite(Z)&&Z>O&&(O=Z),K.push(Z)}$=tt}}var et=c(b,g.colormap,O,H);return n?et.tubeScale=n:(O===0&&(O=1),et.tubeScale=o*.5*H/O),et};var s=a(6740),p=a(6405).createMesh;B.exports.createTubeMesh=function(g,h){return p(g,h,{shaders:s,traceType:"streamtube"})}},990:function(B,L,a){var d=a(9405),M=a(3236),l=M([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),y=M([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=M([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),T=M([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);L.createShader=function(R){var v=d(R,l,y,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},L.createPickShader=function(R){var v=d(R,l,T,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},L.createContourShader=function(R){var v=d(R,c,y,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v},L.createPickContourShader=function(R){var v=d(R,c,T,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v}},9499:function(B,L,a){B.exports=Y;var d=a(8828),M=a(2762),l=a(8116),y=a(7766),c=a(1888),T=a(6729),R=a(5298),v=a(9994),E=a(9618),w=a(3711),s=a(6760),p=a(7608),g=a(2478),h=a(6199),f=a(990),r=f.createShader,o=f.createContourShader,n=f.createPickShader,t=f.createPickContourShader,i=40,e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],b=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var G=0;G<3;++G){var X=b[G],K=(G+1)%3,W=(G+2)%3;X[K+0]=1,X[W+3]=1,X[G+6]=1}})();function x(G,X,K,W,Z){this.position=G,this.index=X,this.uv=K,this.level=W,this.dataCoordinate=Z}var m=256;function S(G,X,K,W,Z,J,tt,it,et,j,at,rt,st,ot,ft){this.gl=G,this.shape=X,this.bounds=K,this.objectOffset=ft,this.intensityBounds=[],this._shader=W,this._pickShader=Z,this._coordinateBuffer=J,this._vao=tt,this._colorMap=it,this._contourShader=et,this._contourPickShader=j,this._contourBuffer=at,this._contourVAO=rt,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new x([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=st,this._dynamicVAO=ot,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[E(c.mallocFloat(1024),[0,0]),E(c.mallocFloat(1024),[0,0]),E(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var _=S.prototype;_.genColormap=function(G,X){var K=!1,W=v([T({colormap:G,nshades:m,format:"rgba"}).map(function(Z,J){var tt=X?u(J/255,X):Z[3];return tt<1&&(K=!0),[Z[0],Z[1],Z[2],255*tt]})]);return R.divseq(W,255),this.hasAlphaScale=K,W},_.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},_.isOpaque=function(){return!this.isTransparent()},_.pickSlots=1,_.setPickBase=function(G){this.pickId=G};function u(G,X){if(!X||!X.length)return 1;for(var K=0;K<X.length;++K){if(X.length<2)return 1;if(X[K][0]===G)return X[K][1];if(X[K][0]>G&&K>0){var W=(X[K][0]-G)/(X[K][0]-X[K-1][0]);return X[K][1]*(1-W)+W*X[K-1][1]}}return 1}var I=[0,0,0],F={showSurface:!1,showContour:!1,projections:[e.slice(),e.slice(),e.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function P(G,X){var K,W,Z,J=X.axes&&X.axes.lastCubeProps.axis||I,tt=X.showSurface,it=X.showContour;for(K=0;K<3;++K)for(tt=tt||X.surfaceProject[K],W=0;W<3;++W)it=it||X.contourProject[K][W];for(K=0;K<3;++K){var et=F.projections[K];for(W=0;W<16;++W)et[W]=0;for(W=0;W<4;++W)et[5*W]=1;et[5*K]=0,et[12+K]=X.axesBounds[+(J[K]>0)][K],s(et,G.model,et);var j=F.clipBounds[K];for(Z=0;Z<2;++Z)for(W=0;W<3;++W)j[Z][W]=G.clipBounds[Z][W];j[0][K]=-1e8,j[1][K]=1e8}return F.showSurface=tt,F.showContour=it,F}var D={model:e,view:e,projection:e,inverseModel:e.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},V=e.slice(),H=[1,0,0,0,1,0,0,0,1];function O(G,X){G=G||{};var K=this.gl;K.disable(K.CULL_FACE),this._colorMap.bind(0);var W=D;W.model=G.model||e,W.view=G.view||e,W.projection=G.projection||e,W.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],W.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],W.objectOffset=this.objectOffset,W.contourColor=this.contourColor[0],W.inverseModel=p(W.inverseModel,W.model);for(var Z=0;Z<2;++Z)for(var J=W.clipBounds[Z],tt=0;tt<3;++tt)J[tt]=Math.min(Math.max(this.clipBounds[Z][tt],-1e8),1e8);W.kambient=this.ambientLight,W.kdiffuse=this.diffuseLight,W.kspecular=this.specularLight,W.roughness=this.roughness,W.fresnel=this.fresnel,W.opacity=this.opacity,W.height=0,W.permutation=H,W.vertexColor=this.vertexColor;var it=V;for(s(it,W.view,W.model),s(it,W.projection,it),p(it,it),Z=0;Z<3;++Z)W.eyePosition[Z]=it[12+Z]/it[15];var et=it[15];for(Z=0;Z<3;++Z)et+=this.lightPosition[Z]*it[4*Z+3];for(Z=0;Z<3;++Z){var j=it[12+Z];for(tt=0;tt<3;++tt)j+=it[4*tt+Z]*this.lightPosition[tt];W.lightPosition[Z]=j/et}var at=P(W,this);if(at.showSurface){for(this._shader.bind(),this._shader.uniforms=W,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(K.TRIANGLES,this._vertexCount),Z=0;Z<3;++Z)!this.surfaceProject[Z]||!this.vertexCount||(this._shader.uniforms.model=at.projections[Z],this._shader.uniforms.clipBounds=at.clipBounds[Z],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(at.showContour){var rt=this._contourShader;W.kambient=1,W.kdiffuse=0,W.kspecular=0,W.opacity=1,rt.bind(),rt.uniforms=W;var st=this._contourVAO;for(st.bind(),Z=0;Z<3;++Z)for(rt.uniforms.permutation=b[Z],K.lineWidth(this.contourWidth[Z]*this.pixelRatio),tt=0;tt<this.contourLevels[Z].length;++tt)tt===this.highlightLevel[Z]?(rt.uniforms.contourColor=this.highlightColor[Z],rt.uniforms.contourTint=this.highlightTint[Z]):(tt===0||tt-1===this.highlightLevel[Z])&&(rt.uniforms.contourColor=this.contourColor[Z],rt.uniforms.contourTint=this.contourTint[Z]),this._contourCounts[Z][tt]&&(rt.uniforms.height=this.contourLevels[Z][tt],st.draw(K.LINES,this._contourCounts[Z][tt],this._contourOffsets[Z][tt]));for(Z=0;Z<3;++Z)for(rt.uniforms.model=at.projections[Z],rt.uniforms.clipBounds=at.clipBounds[Z],tt=0;tt<3;++tt)if(this.contourProject[Z][tt]){rt.uniforms.permutation=b[tt],K.lineWidth(this.contourWidth[tt]*this.pixelRatio);for(var ot=0;ot<this.contourLevels[tt].length;++ot)ot===this.highlightLevel[tt]?(rt.uniforms.contourColor=this.highlightColor[tt],rt.uniforms.contourTint=this.highlightTint[tt]):(ot===0||ot-1===this.highlightLevel[tt])&&(rt.uniforms.contourColor=this.contourColor[tt],rt.uniforms.contourTint=this.contourTint[tt]),this._contourCounts[tt][ot]&&(rt.uniforms.height=this.contourLevels[tt][ot],st.draw(K.LINES,this._contourCounts[tt][ot],this._contourOffsets[tt][ot]))}for(st.unbind(),st=this._dynamicVAO,st.bind(),Z=0;Z<3;++Z)if(this._dynamicCounts[Z]!==0)for(rt.uniforms.model=W.model,rt.uniforms.clipBounds=W.clipBounds,rt.uniforms.permutation=b[Z],K.lineWidth(this.dynamicWidth[Z]*this.pixelRatio),rt.uniforms.contourColor=this.dynamicColor[Z],rt.uniforms.contourTint=this.dynamicTint[Z],rt.uniforms.height=this.dynamicLevel[Z],st.draw(K.LINES,this._dynamicCounts[Z],this._dynamicOffsets[Z]),tt=0;tt<3;++tt)this.contourProject[tt][Z]&&(rt.uniforms.model=at.projections[tt],rt.uniforms.clipBounds=at.clipBounds[tt],st.draw(K.LINES,this._dynamicCounts[Z],this._dynamicOffsets[Z]));st.unbind()}}_.draw=function(G){return O.call(this,G,!1)},_.drawTransparent=function(G){return O.call(this,G,!0)};var C={model:e,view:e,projection:e,inverseModel:e,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};_.drawPick=function(G){G=G||{};var X=this.gl;X.disable(X.CULL_FACE);var K=C;K.model=G.model||e,K.view=G.view||e,K.projection=G.projection||e,K.shape=this._field[2].shape,K.pickId=this.pickId/255,K.lowerBound=this.bounds[0],K.upperBound=this.bounds[1],K.objectOffset=this.objectOffset,K.permutation=H;for(var W=0;W<2;++W)for(var Z=K.clipBounds[W],J=0;J<3;++J)Z[J]=Math.min(Math.max(this.clipBounds[W][J],-1e8),1e8);var tt=P(K,this);if(tt.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=K,this._vao.bind(),this._vao.draw(X.TRIANGLES,this._vertexCount),W=0;W<3;++W)this.surfaceProject[W]&&(this._pickShader.uniforms.model=tt.projections[W],this._pickShader.uniforms.clipBounds=tt.clipBounds[W],this._vao.draw(X.TRIANGLES,this._vertexCount));this._vao.unbind()}if(tt.showContour){var it=this._contourPickShader;it.bind(),it.uniforms=K;var et=this._contourVAO;for(et.bind(),J=0;J<3;++J)for(X.lineWidth(this.contourWidth[J]*this.pixelRatio),it.uniforms.permutation=b[J],W=0;W<this.contourLevels[J].length;++W)this._contourCounts[J][W]&&(it.uniforms.height=this.contourLevels[J][W],et.draw(X.LINES,this._contourCounts[J][W],this._contourOffsets[J][W]));for(W=0;W<3;++W)for(it.uniforms.model=tt.projections[W],it.uniforms.clipBounds=tt.clipBounds[W],J=0;J<3;++J)if(this.contourProject[W][J]){it.uniforms.permutation=b[J],X.lineWidth(this.contourWidth[J]*this.pixelRatio);for(var j=0;j<this.contourLevels[J].length;++j)this._contourCounts[J][j]&&(it.uniforms.height=this.contourLevels[J][j],et.draw(X.LINES,this._contourCounts[J][j],this._contourOffsets[J][j]))}et.unbind()}},_.pick=function(G){if(!G||G.id!==this.pickId)return null;var X=this._field[2].shape,K=this._pickResult,W=X[0]*(G.value[0]+(G.value[2]>>4)/16)/255,Z=Math.floor(W),J=W-Z,tt=X[1]*(G.value[1]+(G.value[2]&15)/16)/255,it=Math.floor(tt),et=tt-it;Z+=1,it+=1;var j=K.position;j[0]=j[1]=j[2]=0;for(var at=0;at<2;++at)for(var rt=at?J:1-J,st=0;st<2;++st)for(var ot=st?et:1-et,ft=Z+at,xt=it+st,dt=rt*ot,ht=0;ht<3;++ht)j[ht]+=this._field[ht].get(ft,xt)*dt;for(var pt=this._pickResult.level,lt=0;lt<3;++lt)if(pt[lt]=g.le(this.contourLevels[lt],j[lt]),pt[lt]<0)this.contourLevels[lt].length>0&&(pt[lt]=0);else if(pt[lt]<this.contourLevels[lt].length-1){var bt=this.contourLevels[lt][pt[lt]],Tt=this.contourLevels[lt][pt[lt]+1];Math.abs(bt-j[lt])>Math.abs(Tt-j[lt])&&(pt[lt]+=1)}for(K.index[0]=J<.5?Z:Z+1,K.index[1]=et<.5?it:it+1,K.uv[0]=W/X[0],K.uv[1]=tt/X[1],ht=0;ht<3;++ht)K.dataCoordinate[ht]=this._field[ht].get(K.index[0],K.index[1]);return K},_.padField=function(G,X){var K=X.shape.slice(),W=G.shape.slice();R.assign(G.lo(1,1).hi(K[0],K[1]),X),R.assign(G.lo(1).hi(K[0],1),X.hi(K[0],1)),R.assign(G.lo(1,W[1]-1).hi(K[0],1),X.lo(0,K[1]-1).hi(K[0],1)),R.assign(G.lo(0,1).hi(1,K[1]),X.hi(1)),R.assign(G.lo(W[0]-1,1).hi(1,K[1]),X.lo(K[0]-1)),G.set(0,0,X.get(0,0)),G.set(0,W[1]-1,X.get(0,K[1]-1)),G.set(W[0]-1,0,X.get(K[0]-1,0)),G.set(W[0]-1,W[1]-1,X.get(K[0]-1,K[1]-1))};function k(G,X){return Array.isArray(G)?[X(G[0]),X(G[1]),X(G[2])]:[X(G),X(G),X(G)]}function $(G){return Array.isArray(G)?G.length===3?[G[0],G[1],G[2],1]:[G[0],G[1],G[2],G[3]]:[0,0,0,1]}function z(G){if(Array.isArray(G)){if(Array.isArray(G))return[$(G[0]),$(G[1]),$(G[2])];var X=$(G);return[X.slice(),X.slice(),X.slice()]}}_.update=function(G){G=G||{},this.objectOffset=G.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in G&&(this.contourWidth=k(G.contourWidth,Number)),"showContour"in G&&(this.showContour=k(G.showContour,Boolean)),"showSurface"in G&&(this.showSurface=!!G.showSurface),"contourTint"in G&&(this.contourTint=k(G.contourTint,Boolean)),"contourColor"in G&&(this.contourColor=z(G.contourColor)),"contourProject"in G&&(this.contourProject=k(G.contourProject,function(qt){return k(qt,Boolean)})),"surfaceProject"in G&&(this.surfaceProject=G.surfaceProject),"dynamicColor"in G&&(this.dynamicColor=z(G.dynamicColor)),"dynamicTint"in G&&(this.dynamicTint=k(G.dynamicTint,Number)),"dynamicWidth"in G&&(this.dynamicWidth=k(G.dynamicWidth,Number)),"opacity"in G&&(this.opacity=G.opacity),"opacityscale"in G&&(this.opacityscale=G.opacityscale),"colorBounds"in G&&(this.colorBounds=G.colorBounds),"vertexColor"in G&&(this.vertexColor=G.vertexColor?1:0),"colormap"in G&&this._colorMap.setPixels(this.genColormap(G.colormap,this.opacityscale));var X=G.field||G.coords&&G.coords[2]||null,K=!1;if(X||(this._field[2].shape[0]||this._field[2].shape[2]?X=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):X=this._field[2].hi(0,0)),"field"in G||"coords"in G){var W=(X.shape[0]+2)*(X.shape[1]+2);W>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(d.nextPow2(W))),this._field[2]=E(this._field[2].data,[X.shape[0]+2,X.shape[1]+2]),this.padField(this._field[2],X),this.shape=X.shape.slice();for(var Z=this.shape,J=0;J<2;++J)this._field[2].size>this._field[J].data.length&&(c.freeFloat(this._field[J].data),this._field[J].data=c.mallocFloat(this._field[2].size)),this._field[J]=E(this._field[J].data,[Z[0]+2,Z[1]+2]);if(G.coords){var tt=G.coords;if(!Array.isArray(tt)||tt.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(J=0;J<2;++J){var it=tt[J];for(st=0;st<2;++st)if(it.shape[st]!==Z[st])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[J],it)}}else if(G.ticks){var et=G.ticks;if(!Array.isArray(et)||et.length!==2)throw new Error("gl-surface: invalid ticks");for(J=0;J<2;++J){var j=et[J];if((Array.isArray(j)||j.length)&&(j=E(j)),j.shape[0]!==Z[J])throw new Error("gl-surface: invalid tick length");var at=E(j.data,Z);at.stride[J]=j.stride[0],at.stride[J^1]=0,this.padField(this._field[J],at)}}else{for(J=0;J<2;++J){var rt=[0,0];rt[J]=1,this._field[J]=E(this._field[J].data,[Z[0]+2,Z[1]+2],rt,0)}this._field[0].set(0,0,0);for(var st=0;st<Z[0];++st)this._field[0].set(st+1,0,st);for(this._field[0].set(Z[0]+1,0,Z[0]-1),this._field[1].set(0,0,0),st=0;st<Z[1];++st)this._field[1].set(0,st+1,st);this._field[1].set(0,Z[1]+1,Z[1]-1)}var ot=this._field,ft=E(c.mallocFloat(ot[2].size*3*2),[3,Z[0]+2,Z[1]+2,2]);for(J=0;J<3;++J)h(ft.pick(J),ot[J],"mirror");var xt=E(c.mallocFloat(ot[2].size*3),[Z[0]+2,Z[1]+2,3]);for(J=0;J<Z[0]+2;++J)for(st=0;st<Z[1]+2;++st){var dt=ft.get(0,J,st,0),ht=ft.get(0,J,st,1),pt=ft.get(1,J,st,0),lt=ft.get(1,J,st,1),bt=ft.get(2,J,st,0),Tt=ft.get(2,J,st,1),yt=pt*Tt-lt*bt,ut=bt*ht-Tt*dt,vt=dt*lt-ht*pt,Mt=Math.sqrt(yt*yt+ut*ut+vt*vt);Mt<1e-8?(Mt=Math.max(Math.abs(yt),Math.abs(ut),Math.abs(vt)),Mt<1e-8?(vt=1,ut=yt=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),xt.set(J,st,0,yt*Mt),xt.set(J,st,1,ut*Mt),xt.set(J,st,2,vt*Mt)}c.free(ft.data);var _t=[1/0,1/0,1/0],Pt=[-1/0,-1/0,-1/0],Ct=1/0,At=-1/0,Ot=(Z[0]-1)*(Z[1]-1)*6,Lt=c.mallocFloat(d.nextPow2(10*Ot)),St=0,Yt=0;for(J=0;J<Z[0]-1;++J)t:for(st=0;st<Z[1]-1;++st){for(var Q=0;Q<2;++Q)for(var N=0;N<2;++N)for(var U=0;U<3;++U){var q=this._field[U].get(1+J+Q,1+st+N);if(isNaN(q)||!isFinite(q))continue t}for(U=0;U<6;++U){var nt=J+A[U][0],ct=st+A[U][1],gt=this._field[0].get(nt+1,ct+1),mt=this._field[1].get(nt+1,ct+1);q=this._field[2].get(nt+1,ct+1),yt=xt.get(nt+1,ct+1,0),ut=xt.get(nt+1,ct+1,1),vt=xt.get(nt+1,ct+1,2),G.intensity&&(kt=G.intensity.get(nt,ct));var kt=G.intensity?G.intensity.get(nt,ct):q+this.objectOffset[2];Lt[St++]=nt,Lt[St++]=ct,Lt[St++]=gt,Lt[St++]=mt,Lt[St++]=q,Lt[St++]=0,Lt[St++]=kt,Lt[St++]=yt,Lt[St++]=ut,Lt[St++]=vt,_t[0]=Math.min(_t[0],gt+this.objectOffset[0]),_t[1]=Math.min(_t[1],mt+this.objectOffset[1]),_t[2]=Math.min(_t[2],q+this.objectOffset[2]),Ct=Math.min(Ct,kt),Pt[0]=Math.max(Pt[0],gt+this.objectOffset[0]),Pt[1]=Math.max(Pt[1],mt+this.objectOffset[1]),Pt[2]=Math.max(Pt[2],q+this.objectOffset[2]),At=Math.max(At,kt),Yt+=1}}for(G.intensityBounds&&(Ct=+G.intensityBounds[0],At=+G.intensityBounds[1]),J=6;J<St;J+=10)Lt[J]=(Lt[J]-Ct)/(At-Ct);this._vertexCount=Yt,this._coordinateBuffer.update(Lt.subarray(0,St)),c.freeFloat(Lt),c.free(xt.data),this.bounds=[_t,Pt],this.intensity=G.intensity||this._field[2],(this.intensityBounds[0]!==Ct||this.intensityBounds[1]!==At)&&(K=!0),this.intensityBounds=[Ct,At]}if("levels"in G){var It=G.levels;for(Array.isArray(It[0])?It=It.slice():It=[[],[],It],J=0;J<3;++J)It[J]=It[J].slice(),It[J].sort(function(qt,fe){return qt-fe});for(J=0;J<3;++J)for(st=0;st<It[J].length;++st)It[J][st]-=this.objectOffset[J];t:for(J=0;J<3;++J){if(It[J].length!==this.contourLevels[J].length){K=!0;break}for(st=0;st<It[J].length;++st)if(It[J][st]!==this.contourLevels[J][st]){K=!0;break t}}this.contourLevels=It}if(K){ot=this._field,Z=this.shape;for(var Bt=[],Dt=0;Dt<3;++Dt){var Nt=this.contourLevels[Dt],zt=[],Kt=[],Ut=[0,0,0];for(J=0;J<Nt.length;++J){var Ht=w(this._field[Dt],Nt[J]);zt.push(Bt.length/5|0),Yt=0;t:for(st=0;st<Ht.cells.length;++st){var he=Ht.cells[st];for(U=0;U<2;++U){var Vt=Ht.positions[he[U]],Gt=Vt[0],ne=Math.floor(Gt)|0,Wt=Gt-ne,Xt=Vt[1],jt=Math.floor(Xt)|0,te=Xt-jt,ee=!1;e:for(var Qt=0;Qt<3;++Qt){Ut[Qt]=0;var ie=(Dt+Qt+1)%3;for(Q=0;Q<2;++Q){var ae=Q?Wt:1-Wt;for(nt=Math.min(Math.max(ne+Q,0),Z[0])|0,N=0;N<2;++N){var oe=N?te:1-te;if(ct=Math.min(Math.max(jt+N,0),Z[1])|0,Qt<2?q=this._field[ie].get(nt,ct):q=(this.intensity.get(nt,ct)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(q)||isNaN(q)){ee=!0;break e}var se=ae*oe;Ut[Qt]+=se*q}}}if(!ee)Bt.push(Ut[0],Ut[1],Vt[0],Vt[1],Ut[2]),Yt+=1;else{if(U>0){for(var re=0;re<5;++re)Bt.pop();Yt-=1}continue t}}}Kt.push(Yt)}this._contourOffsets[Dt]=zt,this._contourCounts[Dt]=Kt}var Jt=c.mallocFloat(Bt.length);for(J=0;J<Bt.length;++J)Jt[J]=Bt[J];this._contourBuffer.update(Jt),c.freeFloat(Jt)}},_.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var G=0;G<3;++G)c.freeFloat(this._field[G].data)},_.highlight=function(G){var X;if(!G){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(X=0;X<3;++X)this.enableHighlight[X]?this.highlightLevel[X]=G.level[X]:this.highlightLevel[X]=-1;var K;for(this.snapToData?K=G.dataCoordinate:K=G.position,X=0;X<3;++X)K[X]-=this.objectOffset[X];if(!((!this.enableDynamic[0]||K[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||K[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||K[2]===this.dynamicLevel[2]))){for(var W=0,Z=this.shape,J=c.mallocFloat(12*Z[0]*Z[1]),tt=0;tt<3;++tt){if(!this.enableDynamic[tt]){this.dynamicLevel[tt]=NaN,this._dynamicCounts[tt]=0;continue}this.dynamicLevel[tt]=K[tt];var it=(tt+1)%3,et=(tt+2)%3,j=this._field[tt],at=this._field[it],rt=this._field[et],st=w(j,K[tt]),ot=st.cells,ft=st.positions;for(this._dynamicOffsets[tt]=W,X=0;X<ot.length;++X)for(var xt=ot[X],dt=0;dt<2;++dt){var ht=ft[xt[dt]],pt=+ht[0],lt=pt|0,bt=Math.min(lt+1,Z[0])|0,Tt=pt-lt,yt=1-Tt,ut=+ht[1],vt=ut|0,Mt=Math.min(vt+1,Z[1])|0,_t=ut-vt,Pt=1-_t,Ct=yt*Pt,At=yt*_t,Ot=Tt*Pt,Lt=Tt*_t,St=Ct*at.get(lt,vt)+At*at.get(lt,Mt)+Ot*at.get(bt,vt)+Lt*at.get(bt,Mt),Yt=Ct*rt.get(lt,vt)+At*rt.get(lt,Mt)+Ot*rt.get(bt,vt)+Lt*rt.get(bt,Mt);if(isNaN(St)||isNaN(Yt)){dt&&(W-=1);break}J[2*W+0]=St,J[2*W+1]=Yt,W+=1}this._dynamicCounts[tt]=W-this._dynamicOffsets[tt]}this._dynamicBuffer.update(J.subarray(0,2*W)),c.freeFloat(J)}};function Y(G){var X=G.gl,K=r(X),W=n(X),Z=o(X),J=t(X),tt=M(X),it=l(X,[{buffer:tt,size:4,stride:i,offset:0},{buffer:tt,size:3,stride:i,offset:16},{buffer:tt,size:3,stride:i,offset:28}]),et=M(X),j=l(X,[{buffer:et,size:4,stride:20,offset:0},{buffer:et,size:1,stride:20,offset:16}]),at=M(X),rt=l(X,[{buffer:at,size:2,type:X.FLOAT}]),st=y(X,1,m,X.RGBA,X.UNSIGNED_BYTE);st.minFilter=X.LINEAR,st.magFilter=X.LINEAR;var ot=new S(X,[0,0],[[0,0,0],[0,0,0]],K,W,tt,it,st,Z,J,et,j,at,rt,[0,0,0]),ft={levels:[[],[],[]]};for(var xt in G)ft[xt]=G[xt];return ft.colormap=ft.colormap||"jet",ot.update(ft),ot}},7766:function(B,L,a){var d=a(9618),M=a(5298),l=a(1888);B.exports=t;var y=null,c=null,T=null;function R(i){y=[i.LINEAR,i.NEAREST_MIPMAP_LINEAR,i.LINEAR_MIPMAP_NEAREST,i.LINEAR_MIPMAP_NEAREST],c=[i.NEAREST,i.LINEAR,i.NEAREST_MIPMAP_NEAREST,i.NEAREST_MIPMAP_LINEAR,i.LINEAR_MIPMAP_NEAREST,i.LINEAR_MIPMAP_LINEAR],T=[i.REPEAT,i.CLAMP_TO_EDGE,i.MIRRORED_REPEAT]}function v(i){return typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement||typeof ImageData<"u"&&i instanceof ImageData}var E=function(i,e){M.muls(i,e,255)};function w(i,e,A){var b=i.gl,x=b.getParameter(b.MAX_TEXTURE_SIZE);if(e<0||e>x||A<0||A>x)throw new Error("gl-texture2d: Invalid texture size");return i._shape=[e,A],i.bind(),b.texImage2D(b.TEXTURE_2D,0,i.format,e,A,0,i.format,i.type,null),i._mipLevels=[0],i}function s(i,e,A,b,x,m){this.gl=i,this.handle=e,this.format=x,this.type=m,this._shape=[A,b],this._mipLevels=[0],this._magFilter=i.NEAREST,this._minFilter=i.NEAREST,this._wrapS=i.CLAMP_TO_EDGE,this._wrapT=i.CLAMP_TO_EDGE,this._anisoSamples=1;var S=this,_=[this._wrapS,this._wrapT];Object.defineProperties(_,[{get:function(){return S._wrapS},set:function(I){return S.wrapS=I}},{get:function(){return S._wrapT},set:function(I){return S.wrapT=I}}]),this._wrapVector=_;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return S._shape[0]},set:function(I){return S.width=I}},{get:function(){return S._shape[1]},set:function(I){return S.height=I}}]),this._shapeVector=u}var p=s.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(i){this.bind();var e=this.gl;if(this.type===e.FLOAT&&y.indexOf(i)>=0&&(e.getExtension("OES_texture_float_linear")||(i=e.NEAREST)),c.indexOf(i)<0)throw new Error("gl-texture2d: Unknown filter mode "+i);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i),this._minFilter=i}},magFilter:{get:function(){return this._magFilter},set:function(i){this.bind();var e=this.gl;if(this.type===e.FLOAT&&y.indexOf(i)>=0&&(e.getExtension("OES_texture_float_linear")||(i=e.NEAREST)),c.indexOf(i)<0)throw new Error("gl-texture2d: Unknown filter mode "+i);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),this._magFilter=i}},mipSamples:{get:function(){return this._anisoSamples},set:function(i){var e=this._anisoSamples;if(this._anisoSamples=Math.max(i,1)|0,e!==this._anisoSamples){var A=this.gl.getExtension("EXT_texture_filter_anisotropic");A&&this.gl.texParameterf(this.gl.TEXTURE_2D,A.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(i){if(this.bind(),T.indexOf(i)<0)throw new Error("gl-texture2d: Unknown wrap mode "+i);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,i),this._wrapS=i}},wrapT:{get:function(){return this._wrapT},set:function(i){if(this.bind(),T.indexOf(i)<0)throw new Error("gl-texture2d: Unknown wrap mode "+i);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,i),this._wrapT=i}},wrap:{get:function(){return this._wrapVector},set:function(i){if(Array.isArray(i)||(i=[i,i]),i.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(T.indexOf(i[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+i);this._wrapS=i[0],this._wrapT=i[1];var A=this.gl;return this.bind(),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,this._wrapS),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,this._wrapT),i}},shape:{get:function(){return this._shapeVector},set:function(i){if(!Array.isArray(i))i=[i|0,i|0];else if(i.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return w(this,i[0]|0,i[1]|0),[i[0]|0,i[1]|0]}},width:{get:function(){return this._shape[0]},set:function(i){return i=i|0,w(this,i,this._shape[1]),i}},height:{get:function(){return this._shape[1]},set:function(i){return i=i|0,w(this,this._shape[0],i),i}}}),p.bind=function(i){var e=this.gl;return i!==void 0&&e.activeTexture(e.TEXTURE0+(i|0)),e.bindTexture(e.TEXTURE_2D,this.handle),i!==void 0?i|0:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var i=Math.min(this._shape[0],this._shape[1]),e=0;i>0;++e,i>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},p.setPixels=function(i,e,A,b){var x=this.gl;this.bind(),Array.isArray(e)?(b=A,A=e[1]|0,e=e[0]|0):(e=e||0,A=A||0),b=b||0;var m=v(i)?i:i.raw;if(m){var S=this._mipLevels.indexOf(b)<0;S?(x.texImage2D(x.TEXTURE_2D,0,this.format,this.format,this.type,m),this._mipLevels.push(b)):x.texSubImage2D(x.TEXTURE_2D,b,e,A,this.format,this.type,m)}else if(i.shape&&i.stride&&i.data){if(i.shape.length<2||e+i.shape[1]>this._shape[1]>>>b||A+i.shape[0]>this._shape[0]>>>b||e<0||A<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");h(x,e,A,b,this.format,this.type,this._mipLevels,i)}else throw new Error("gl-texture2d: Unsupported data type")};function g(i,e){return i.length===3?e[2]===1&&e[1]===i[0]*i[2]&&e[0]===i[2]:e[0]===1&&e[1]===i[0]}function h(i,e,A,b,x,m,S,_){var u=_.dtype,I=_.shape.slice();if(I.length<2||I.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var F=0,P=0,D=g(I,_.stride.slice());if(u==="float32"?F=i.FLOAT:u==="float64"?(F=i.FLOAT,D=!1,u="float32"):u==="uint8"?F=i.UNSIGNED_BYTE:(F=i.UNSIGNED_BYTE,D=!1,u="uint8"),I.length===2)P=i.LUMINANCE,I=[I[0],I[1],1],_=d(_.data,I,[_.stride[0],_.stride[1],1],_.offset);else if(I.length===3){if(I[2]===1)P=i.ALPHA;else if(I[2]===2)P=i.LUMINANCE_ALPHA;else if(I[2]===3)P=i.RGB;else if(I[2]===4)P=i.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");I[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((P===i.LUMINANCE||P===i.ALPHA)&&(x===i.LUMINANCE||x===i.ALPHA)&&(P=x),P!==x)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var V=_.size,H=S.indexOf(b)<0;if(H&&S.push(b),F===m&&D)_.offset===0&&_.data.length===V?H?i.texImage2D(i.TEXTURE_2D,b,x,I[0],I[1],0,x,m,_.data):i.texSubImage2D(i.TEXTURE_2D,b,e,A,I[0],I[1],x,m,_.data):H?i.texImage2D(i.TEXTURE_2D,b,x,I[0],I[1],0,x,m,_.data.subarray(_.offset,_.offset+V)):i.texSubImage2D(i.TEXTURE_2D,b,e,A,I[0],I[1],x,m,_.data.subarray(_.offset,_.offset+V));else{var O;m===i.FLOAT?O=l.mallocFloat32(V):O=l.mallocUint8(V);var C=d(O,I,[I[2],I[2]*I[0],1]);F===i.FLOAT&&m===i.UNSIGNED_BYTE?E(C,_):M.assign(C,_),H?i.texImage2D(i.TEXTURE_2D,b,x,I[0],I[1],0,x,m,O.subarray(0,V)):i.texSubImage2D(i.TEXTURE_2D,b,e,A,I[0],I[1],x,m,O.subarray(0,V)),m===i.FLOAT?l.freeFloat32(O):l.freeUint8(O)}}function f(i){var e=i.createTexture();return i.bindTexture(i.TEXTURE_2D,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),e}function r(i,e,A,b,x){var m=i.getParameter(i.MAX_TEXTURE_SIZE);if(e<0||e>m||A<0||A>m)throw new Error("gl-texture2d: Invalid texture shape");if(x===i.FLOAT&&!i.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var S=f(i);return i.texImage2D(i.TEXTURE_2D,0,b,e,A,0,b,x,null),new s(i,S,e,A,b,x)}function o(i,e,A,b,x,m){var S=f(i);return i.texImage2D(i.TEXTURE_2D,0,x,x,m,e),new s(i,S,A,b,x,m)}function n(i,e){var A=e.dtype,b=e.shape.slice(),x=i.getParameter(i.MAX_TEXTURE_SIZE);if(b[0]<0||b[0]>x||b[1]<0||b[1]>x)throw new Error("gl-texture2d: Invalid texture size");var m=g(b,e.stride.slice()),S=0;A==="float32"?S=i.FLOAT:A==="float64"?(S=i.FLOAT,m=!1,A="float32"):A==="uint8"?S=i.UNSIGNED_BYTE:(S=i.UNSIGNED_BYTE,m=!1,A="uint8");var _=0;if(b.length===2)_=i.LUMINANCE,b=[b[0],b[1],1],e=d(e.data,b,[e.stride[0],e.stride[1],1],e.offset);else if(b.length===3)if(b[2]===1)_=i.ALPHA;else if(b[2]===2)_=i.LUMINANCE_ALPHA;else if(b[2]===3)_=i.RGB;else if(b[2]===4)_=i.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");S===i.FLOAT&&!i.getExtension("OES_texture_float")&&(S=i.UNSIGNED_BYTE,m=!1);var u,I,F=e.size;if(m)e.offset===0&&e.data.length===F?u=e.data:u=e.data.subarray(e.offset,e.offset+F);else{var P=[b[2],b[2]*b[0],1];I=l.malloc(F,A);var D=d(I,b,P,0);(A==="float32"||A==="float64")&&S===i.UNSIGNED_BYTE?E(D,e):M.assign(D,e),u=I.subarray(0,F)}var V=f(i);return i.texImage2D(i.TEXTURE_2D,0,_,b[0],b[1],0,_,S,u),m||l.free(I),new s(i,V,b[0],b[1],_,S)}function t(i){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(y||R(i),typeof arguments[1]=="number")return r(i,arguments[1],arguments[2],arguments[3]||i.RGBA,arguments[4]||i.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return r(i,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||i.RGBA,arguments[3]||i.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var e=arguments[1],A=v(e)?e:e.raw;if(A)return o(i,A,e.width|0,e.height|0,arguments[2]||i.RGBA,arguments[3]||i.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return n(i,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(B){function L(a,d,M){d?d.bind():a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);var l=a.getParameter(a.MAX_VERTEX_ATTRIBS)|0;if(M){if(M.length>l)throw new Error("gl-vao: Too many vertex attributes");for(var y=0;y<M.length;++y){var c=M[y];if(c.buffer){var T=c.buffer,R=c.size||4,v=c.type||a.FLOAT,E=!!c.normalized,w=c.stride||0,s=c.offset||0;T.bind(),a.enableVertexAttribArray(y),a.vertexAttribPointer(y,R,v,E,w,s)}else{if(typeof c=="number")a.vertexAttrib1f(y,c);else if(c.length===1)a.vertexAttrib1f(y,c[0]);else if(c.length===2)a.vertexAttrib2f(y,c[0],c[1]);else if(c.length===3)a.vertexAttrib3f(y,c[0],c[1],c[2]);else if(c.length===4)a.vertexAttrib4f(y,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");a.disableVertexAttribArray(y)}}for(;y<l;++y)a.disableVertexAttribArray(y)}else{a.bindBuffer(a.ARRAY_BUFFER,null);for(var y=0;y<l;++y)a.disableVertexAttribArray(y)}}B.exports=L},870:function(B,L,a){var d=a(1433);function M(y){this.gl=y,this._elements=null,this._attributes=null,this._elementsType=y.UNSIGNED_SHORT}M.prototype.bind=function(){d(this.gl,this._elements,this._attributes)},M.prototype.update=function(y,c,T){this._elements=c,this._attributes=y,this._elementsType=T||this.gl.UNSIGNED_SHORT},M.prototype.dispose=function(){},M.prototype.unbind=function(){},M.prototype.draw=function(y,c,T){T=T||0;var R=this.gl;this._elements?R.drawElements(y,c,this._elementsType,T):R.drawArrays(y,T,c)};function l(y){return new M(y)}B.exports=l},7518:function(B,L,a){var d=a(1433);function M(c,T,R,v,E,w){this.location=c,this.dimension=T,this.a=R,this.b=v,this.c=E,this.d=w}M.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function l(c,T,R){this.gl=c,this._ext=T,this.handle=R,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}l.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},l.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},l.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},l.prototype.update=function(c,T,R){if(this.bind(),d(this.gl,T,c),this.unbind(),this._attribs.length=0,c)for(var v=0;v<c.length;++v){var E=c[v];typeof E=="number"?this._attribs.push(new M(v,1,E)):Array.isArray(E)&&this._attribs.push(new M(v,E.length,E[0],E[1],E[2],E[3]))}this._useElements=!!T,this._elementsType=R||this.gl.UNSIGNED_SHORT},l.prototype.draw=function(c,T,R){R=R||0;var v=this.gl;this._useElements?v.drawElements(c,T,this._elementsType,R):v.drawArrays(c,R,T)};function y(c,T){return new l(c,T,T.createVertexArrayOES())}B.exports=y},8116:function(B,L,a){var d=a(7518),M=a(870);function l(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function y(c,T,R,v){var E=c.createVertexArray?new l(c):c.getExtension("OES_vertex_array_object"),w;return E?w=d(c,E):w=M(c),w.update(T,R,v),w}B.exports=y},5632:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]+M[0],a[1]=d[1]+M[1],a[2]=d[2]+M[2],a}},8192:function(B,L,a){B.exports=y;var d=a(2825),M=a(3536),l=a(244);function y(c,T){var R=d(c[0],c[1],c[2]),v=d(T[0],T[1],T[2]);M(R,R),M(v,v);var E=l(R,v);return E>1?0:Math.acos(E)}},9226:function(B){B.exports=L;function L(a,d){return a[0]=Math.ceil(d[0]),a[1]=Math.ceil(d[1]),a[2]=Math.ceil(d[2]),a}},3126:function(B){B.exports=L;function L(a){var d=new Float32Array(3);return d[0]=a[0],d[1]=a[1],d[2]=a[2],d}},3990:function(B){B.exports=L;function L(a,d){return a[0]=d[0],a[1]=d[1],a[2]=d[2],a}},1091:function(B){B.exports=L;function L(){var a=new Float32Array(3);return a[0]=0,a[1]=0,a[2]=0,a}},5911:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=M[0],R=M[1],v=M[2];return a[0]=y*v-c*R,a[1]=c*T-l*v,a[2]=l*R-y*T,a}},5455:function(B,L,a){B.exports=a(7056)},7056:function(B){B.exports=L;function L(a,d){var M=d[0]-a[0],l=d[1]-a[1],y=d[2]-a[2];return Math.sqrt(M*M+l*l+y*y)}},4008:function(B,L,a){B.exports=a(6690)},6690:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]/M[0],a[1]=d[1]/M[1],a[2]=d[2]/M[2],a}},244:function(B){B.exports=L;function L(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]}},2613:function(B){B.exports=1e-6},9922:function(B,L,a){B.exports=M;var d=a(2613);function M(l,y){var c=l[0],T=l[1],R=l[2],v=y[0],E=y[1],w=y[2];return Math.abs(c-v)<=d*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(T-E)<=d*Math.max(1,Math.abs(T),Math.abs(E))&&Math.abs(R-w)<=d*Math.max(1,Math.abs(R),Math.abs(w))}},9265:function(B){B.exports=L;function L(a,d){return a[0]===d[0]&&a[1]===d[1]&&a[2]===d[2]}},2681:function(B){B.exports=L;function L(a,d){return a[0]=Math.floor(d[0]),a[1]=Math.floor(d[1]),a[2]=Math.floor(d[2]),a}},5137:function(B,L,a){B.exports=M;var d=a(1091)();function M(l,y,c,T,R,v){var E,w;for(y||(y=3),c||(c=0),T?w=Math.min(T*y+c,l.length):w=l.length,E=c;E<w;E+=y)d[0]=l[E],d[1]=l[E+1],d[2]=l[E+2],R(d,d,v),l[E]=d[0],l[E+1]=d[1],l[E+2]=d[2];return l}},2825:function(B){B.exports=L;function L(a,d,M){var l=new Float32Array(3);return l[0]=a,l[1]=d,l[2]=M,l}},2931:function(B,L,a){B.exports={EPSILON:a(2613),create:a(1091),clone:a(3126),angle:a(8192),fromValues:a(2825),copy:a(3990),set:a(1463),equals:a(9922),exactEquals:a(9265),add:a(5632),subtract:a(6843),sub:a(2229),multiply:a(5847),mul:a(4505),divide:a(6690),div:a(4008),min:a(8107),max:a(7417),floor:a(2681),ceil:a(9226),round:a(2447),scale:a(6621),scaleAndAdd:a(8489),distance:a(7056),dist:a(5455),squaredDistance:a(2953),sqrDist:a(6141),length:a(1387),len:a(868),squaredLength:a(3066),sqrLen:a(5486),negate:a(5093),inverse:a(811),normalize:a(3536),dot:a(244),cross:a(5911),lerp:a(6658),random:a(7636),transformMat4:a(5673),transformMat3:a(492),transformQuat:a(264),rotateX:a(6894),rotateY:a(109),rotateZ:a(8692),forEach:a(5137)}},811:function(B){B.exports=L;function L(a,d){return a[0]=1/d[0],a[1]=1/d[1],a[2]=1/d[2],a}},868:function(B,L,a){B.exports=a(1387)},1387:function(B){B.exports=L;function L(a){var d=a[0],M=a[1],l=a[2];return Math.sqrt(d*d+M*M+l*l)}},6658:function(B){B.exports=L;function L(a,d,M,l){var y=d[0],c=d[1],T=d[2];return a[0]=y+l*(M[0]-y),a[1]=c+l*(M[1]-c),a[2]=T+l*(M[2]-T),a}},7417:function(B){B.exports=L;function L(a,d,M){return a[0]=Math.max(d[0],M[0]),a[1]=Math.max(d[1],M[1]),a[2]=Math.max(d[2],M[2]),a}},8107:function(B){B.exports=L;function L(a,d,M){return a[0]=Math.min(d[0],M[0]),a[1]=Math.min(d[1],M[1]),a[2]=Math.min(d[2],M[2]),a}},4505:function(B,L,a){B.exports=a(5847)},5847:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]*M[0],a[1]=d[1]*M[1],a[2]=d[2]*M[2],a}},5093:function(B){B.exports=L;function L(a,d){return a[0]=-d[0],a[1]=-d[1],a[2]=-d[2],a}},3536:function(B){B.exports=L;function L(a,d){var M=d[0],l=d[1],y=d[2],c=M*M+l*l+y*y;return c>0&&(c=1/Math.sqrt(c),a[0]=d[0]*c,a[1]=d[1]*c,a[2]=d[2]*c),a}},7636:function(B){B.exports=L;function L(a,d){d=d||1;var M=Math.random()*2*Math.PI,l=Math.random()*2-1,y=Math.sqrt(1-l*l)*d;return a[0]=Math.cos(M)*y,a[1]=Math.sin(M)*y,a[2]=l*d,a}},6894:function(B){B.exports=L;function L(a,d,M,l){var y=M[1],c=M[2],T=d[1]-y,R=d[2]-c,v=Math.sin(l),E=Math.cos(l);return a[0]=d[0],a[1]=y+T*E-R*v,a[2]=c+T*v+R*E,a}},109:function(B){B.exports=L;function L(a,d,M,l){var y=M[0],c=M[2],T=d[0]-y,R=d[2]-c,v=Math.sin(l),E=Math.cos(l);return a[0]=y+R*v+T*E,a[1]=d[1],a[2]=c+R*E-T*v,a}},8692:function(B){B.exports=L;function L(a,d,M,l){var y=M[0],c=M[1],T=d[0]-y,R=d[1]-c,v=Math.sin(l),E=Math.cos(l);return a[0]=y+T*E-R*v,a[1]=c+T*v+R*E,a[2]=d[2],a}},2447:function(B){B.exports=L;function L(a,d){return a[0]=Math.round(d[0]),a[1]=Math.round(d[1]),a[2]=Math.round(d[2]),a}},6621:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]*M,a[1]=d[1]*M,a[2]=d[2]*M,a}},8489:function(B){B.exports=L;function L(a,d,M,l){return a[0]=d[0]+M[0]*l,a[1]=d[1]+M[1]*l,a[2]=d[2]+M[2]*l,a}},1463:function(B){B.exports=L;function L(a,d,M,l){return a[0]=d,a[1]=M,a[2]=l,a}},6141:function(B,L,a){B.exports=a(2953)},5486:function(B,L,a){B.exports=a(3066)},2953:function(B){B.exports=L;function L(a,d){var M=d[0]-a[0],l=d[1]-a[1],y=d[2]-a[2];return M*M+l*l+y*y}},3066:function(B){B.exports=L;function L(a){var d=a[0],M=a[1],l=a[2];return d*d+M*M+l*l}},2229:function(B,L,a){B.exports=a(6843)},6843:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]-M[0],a[1]=d[1]-M[1],a[2]=d[2]-M[2],a}},492:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2];return a[0]=l*M[0]+y*M[3]+c*M[6],a[1]=l*M[1]+y*M[4]+c*M[7],a[2]=l*M[2]+y*M[5]+c*M[8],a}},5673:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=M[3]*l+M[7]*y+M[11]*c+M[15];return T=T||1,a[0]=(M[0]*l+M[4]*y+M[8]*c+M[12])/T,a[1]=(M[1]*l+M[5]*y+M[9]*c+M[13])/T,a[2]=(M[2]*l+M[6]*y+M[10]*c+M[14])/T,a}},264:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=M[0],R=M[1],v=M[2],E=M[3],w=E*l+R*c-v*y,s=E*y+v*l-T*c,p=E*c+T*y-R*l,g=-T*l-R*y-v*c;return a[0]=w*E+g*-T+s*-v-p*-R,a[1]=s*E+g*-R+p*-T-w*-v,a[2]=p*E+g*-v+w*-R-s*-T,a}},4361:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]+M[0],a[1]=d[1]+M[1],a[2]=d[2]+M[2],a[3]=d[3]+M[3],a}},2335:function(B){B.exports=L;function L(a){var d=new Float32Array(4);return d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d}},2933:function(B){B.exports=L;function L(a,d){return a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a}},7536:function(B){B.exports=L;function L(){var a=new Float32Array(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a}},4691:function(B){B.exports=L;function L(a,d){var M=d[0]-a[0],l=d[1]-a[1],y=d[2]-a[2],c=d[3]-a[3];return Math.sqrt(M*M+l*l+y*y+c*c)}},1373:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]/M[0],a[1]=d[1]/M[1],a[2]=d[2]/M[2],a[3]=d[3]/M[3],a}},3750:function(B){B.exports=L;function L(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]+a[3]*d[3]}},3390:function(B){B.exports=L;function L(a,d,M,l){var y=new Float32Array(4);return y[0]=a,y[1]=d,y[2]=M,y[3]=l,y}},9970:function(B,L,a){B.exports={create:a(7536),clone:a(2335),fromValues:a(3390),copy:a(2933),set:a(4578),add:a(4361),subtract:a(6860),multiply:a(3576),divide:a(1373),min:a(2334),max:a(160),scale:a(9288),scaleAndAdd:a(4844),distance:a(4691),squaredDistance:a(7960),length:a(6808),squaredLength:a(483),negate:a(1498),inverse:a(4494),normalize:a(5177),dot:a(3750),lerp:a(2573),random:a(9131),transformMat4:a(5352),transformQuat:a(4041)}},4494:function(B){B.exports=L;function L(a,d){return a[0]=1/d[0],a[1]=1/d[1],a[2]=1/d[2],a[3]=1/d[3],a}},6808:function(B){B.exports=L;function L(a){var d=a[0],M=a[1],l=a[2],y=a[3];return Math.sqrt(d*d+M*M+l*l+y*y)}},2573:function(B){B.exports=L;function L(a,d,M,l){var y=d[0],c=d[1],T=d[2],R=d[3];return a[0]=y+l*(M[0]-y),a[1]=c+l*(M[1]-c),a[2]=T+l*(M[2]-T),a[3]=R+l*(M[3]-R),a}},160:function(B){B.exports=L;function L(a,d,M){return a[0]=Math.max(d[0],M[0]),a[1]=Math.max(d[1],M[1]),a[2]=Math.max(d[2],M[2]),a[3]=Math.max(d[3],M[3]),a}},2334:function(B){B.exports=L;function L(a,d,M){return a[0]=Math.min(d[0],M[0]),a[1]=Math.min(d[1],M[1]),a[2]=Math.min(d[2],M[2]),a[3]=Math.min(d[3],M[3]),a}},3576:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]*M[0],a[1]=d[1]*M[1],a[2]=d[2]*M[2],a[3]=d[3]*M[3],a}},1498:function(B){B.exports=L;function L(a,d){return a[0]=-d[0],a[1]=-d[1],a[2]=-d[2],a[3]=-d[3],a}},5177:function(B){B.exports=L;function L(a,d){var M=d[0],l=d[1],y=d[2],c=d[3],T=M*M+l*l+y*y+c*c;return T>0&&(T=1/Math.sqrt(T),a[0]=M*T,a[1]=l*T,a[2]=y*T,a[3]=c*T),a}},9131:function(B,L,a){var d=a(5177),M=a(9288);B.exports=l;function l(y,c){return c=c||1,y[0]=Math.random(),y[1]=Math.random(),y[2]=Math.random(),y[3]=Math.random(),d(y,y),M(y,y,c),y}},9288:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]*M,a[1]=d[1]*M,a[2]=d[2]*M,a[3]=d[3]*M,a}},4844:function(B){B.exports=L;function L(a,d,M,l){return a[0]=d[0]+M[0]*l,a[1]=d[1]+M[1]*l,a[2]=d[2]+M[2]*l,a[3]=d[3]+M[3]*l,a}},4578:function(B){B.exports=L;function L(a,d,M,l,y){return a[0]=d,a[1]=M,a[2]=l,a[3]=y,a}},7960:function(B){B.exports=L;function L(a,d){var M=d[0]-a[0],l=d[1]-a[1],y=d[2]-a[2],c=d[3]-a[3];return M*M+l*l+y*y+c*c}},483:function(B){B.exports=L;function L(a){var d=a[0],M=a[1],l=a[2],y=a[3];return d*d+M*M+l*l+y*y}},6860:function(B){B.exports=L;function L(a,d,M){return a[0]=d[0]-M[0],a[1]=d[1]-M[1],a[2]=d[2]-M[2],a[3]=d[3]-M[3],a}},5352:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=d[3];return a[0]=M[0]*l+M[4]*y+M[8]*c+M[12]*T,a[1]=M[1]*l+M[5]*y+M[9]*c+M[13]*T,a[2]=M[2]*l+M[6]*y+M[10]*c+M[14]*T,a[3]=M[3]*l+M[7]*y+M[11]*c+M[15]*T,a}},4041:function(B){B.exports=L;function L(a,d,M){var l=d[0],y=d[1],c=d[2],T=M[0],R=M[1],v=M[2],E=M[3],w=E*l+R*c-v*y,s=E*y+v*l-T*c,p=E*c+T*y-R*l,g=-T*l-R*y-v*c;return a[0]=w*E+g*-T+s*-v-p*-R,a[1]=s*E+g*-R+p*-T-w*-v,a[2]=p*E+g*-v+w*-R-s*-T,a[3]=d[3],a}},1848:function(B,L,a){var d=a(4905),M=a(6468);B.exports=l;function l(y){for(var c=Array.isArray(y)?y:d(y),T=0;T<c.length;T++){var R=c[T];if(R.type==="preprocessor"){var v=R.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var E=v[1],w=v[2];return(E?M(w):w).trim()}}}}},5874:function(B,L,a){B.exports=e;var d=a(620),M=a(7827),l=a(6852),y=a(7932),c=a(3508),T=999,R=9999,v=0,E=1,w=2,s=3,p=4,g=5,h=6,f=7,r=8,o=9,n=10,t=11,i=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function e(A){var b=0,x=0,m=T,S,_,u=[],I=[],F=1,P=0,D=0,V=!1,H=!1,O="",C;A=A||{};var k=l,$=d;A.version==="300 es"&&(k=c,$=y);for(var z={},Y={},b=0;b<k.length;b++)z[k[b]]=!0;for(var b=0;b<$.length;b++)Y[$[b]]=!0;return function(ft){return I=[],ft!==null?X(ft):K()};function G(ft){ft.length&&I.push({type:i[m],data:ft,position:D,line:F,column:P})}function X(ft){b=0,ft.toString&&(ft=ft.toString()),O+=ft.replace(/\r\n/g,`
`),C=O.length;for(var xt;S=O[b],b<C;){switch(xt=b,m){case v:b=it();break;case E:b=tt();break;case w:b=J();break;case s:b=et();break;case p:b=rt();break;case t:b=at();break;case g:b=st();break;case R:b=ot();break;case o:b=Z();break;case T:b=W();break}if(xt!==b)switch(O[xt]){case`
`:P=0,++F;break;default:++P;break}}return x+=b,O=O.slice(b),I}function K(ft){return u.length&&G(u.join("")),m=n,G("(eof)"),I}function W(){return u=u.length?[]:u,_==="/"&&S==="*"?(D=x+b-1,m=v,_=S,b+1):_==="/"&&S==="/"?(D=x+b-1,m=E,_=S,b+1):S==="#"?(m=w,D=x+b,b):/\s/.test(S)?(m=o,D=x+b,b):(V=/\d/.test(S),H=/[^\w_]/.test(S),D=x+b,m=V?p:H?s:R,b)}function Z(){return/[^\s]/g.test(S)?(G(u.join("")),m=T,b):(u.push(S),_=S,b+1)}function J(){return(S==="\r"||S===`
`)&&_!=="\\"?(G(u.join("")),m=T,b):(u.push(S),_=S,b+1)}function tt(){return J()}function it(){return S==="/"&&_==="*"?(u.push(S),G(u.join("")),m=T,b+1):(u.push(S),_=S,b+1)}function et(){if(_==="."&&/\d/.test(S))return m=g,b;if(_==="/"&&S==="*")return m=v,b;if(_==="/"&&S==="/")return m=E,b;if(S==="."&&u.length){for(;j(u););return m=g,b}if(S===";"||S===")"||S==="("){if(u.length)for(;j(u););return G(S),m=T,b+1}var ft=u.length===2&&S!=="=";if(/[\w_\d\s]/.test(S)||ft){for(;j(u););return m=T,b}return u.push(S),_=S,b+1}function j(ft){var xt=0,dt,ht;do{if(dt=M.indexOf(ft.slice(0,ft.length+xt).join("")),ht=M[dt],dt===-1){if(xt--+ft.length>0)continue;ht=ft.slice(0,1).join("")}return G(ht),D+=ht.length,u=u.slice(ht.length),u.length}while(!0)}function at(){return/[^a-fA-F0-9]/.test(S)?(G(u.join("")),m=T,b):(u.push(S),_=S,b+1)}function rt(){return S==="."||/[eE]/.test(S)?(u.push(S),m=g,_=S,b+1):S==="x"&&u.length===1&&u[0]==="0"?(m=t,u.push(S),_=S,b+1):/[^\d]/.test(S)?(G(u.join("")),m=T,b):(u.push(S),_=S,b+1)}function st(){return S==="f"&&(u.push(S),_=S,b+=1),/[eE]/.test(S)||(S==="-"||S==="+")&&/[eE]/.test(_)?(u.push(S),_=S,b+1):/[^\d]/.test(S)?(G(u.join("")),m=T,b):(u.push(S),_=S,b+1)}function ot(){if(/[^\d\w_]/.test(S)){var ft=u.join("");return Y[ft]?m=r:z[ft]?m=f:m=h,G(u.join("")),m=T,b}return u.push(S),_=S,b+1}}},3508:function(B,L,a){var d=a(6852);d=d.slice().filter(function(M){return!/^(gl\_|texture)/.test(M)}),B.exports=d.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(B){B.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(B,L,a){var d=a(620);B.exports=d.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(B){B.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(B){B.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(B,L,a){var d=a(5874);B.exports=M;function M(l,y){var c=d(y),T=[];return T=T.concat(c(l)),T=T.concat(c(null)),T}},3236:function(B){B.exports=function(L){typeof L=="string"&&(L=[L]);for(var a=[].slice.call(arguments,1),d=[],M=0;M<L.length-1;M++)d.push(L[M],a[M]||"");return d.push(L[M]),d.join("")}},7520:function(B,L,a){var d=a(9507);function M(){var l=!1;try{var y=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,y),window.removeEventListener("test",null,y)}catch{l=!1}return l}B.exports=d&&M()},3778:function(B,L){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */L.read=function(a,d,M,l,y){var c,T,R=y*8-l-1,v=(1<<R)-1,E=v>>1,w=-7,s=M?y-1:0,p=M?-1:1,g=a[d+s];for(s+=p,c=g&(1<<-w)-1,g>>=-w,w+=R;w>0;c=c*256+a[d+s],s+=p,w-=8);for(T=c&(1<<-w)-1,c>>=-w,w+=l;w>0;T=T*256+a[d+s],s+=p,w-=8);if(c===0)c=1-E;else{if(c===v)return T?NaN:(g?-1:1)*(1/0);T=T+Math.pow(2,l),c=c-E}return(g?-1:1)*T*Math.pow(2,c-l)},L.write=function(a,d,M,l,y,c){var T,R,v,E=c*8-y-1,w=(1<<E)-1,s=w>>1,p=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:c-1,h=l?1:-1,f=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(R=isNaN(d)?1:0,T=w):(T=Math.floor(Math.log(d)/Math.LN2),d*(v=Math.pow(2,-T))<1&&(T--,v*=2),T+s>=1?d+=p/v:d+=p*Math.pow(2,1-s),d*v>=2&&(T++,v/=2),T+s>=w?(R=0,T=w):T+s>=1?(R=(d*v-1)*Math.pow(2,y),T=T+s):(R=d*Math.pow(2,s-1)*Math.pow(2,y),T=0));y>=8;a[M+g]=R&255,g+=h,R/=256,y-=8);for(T=T<<y|R,E+=y;E>0;a[M+g]=T&255,g+=h,T/=256,E-=8);a[M+g-h]|=f*128}},8954:function(B,L,a){B.exports=s;var d=a(3250),M=a(6803).Fw;function l(p,g,h){this.vertices=p,this.adjacent=g,this.boundary=h,this.lastVisited=-1}l.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};function y(p,g,h){this.vertices=p,this.cell=g,this.index=h}function c(p,g){return M(p.vertices,g.vertices)}function T(p){return function(){var g=this.tuple;return p.apply(this,g)}}function R(p){var g=d[p+1];return g||(g=d),T(g)}var v=[];function E(p,g,h){this.dimension=p,this.vertices=g,this.simplices=h,this.interior=h.filter(function(o){return!o.boundary}),this.tuple=new Array(p+1);for(var f=0;f<=p;++f)this.tuple[f]=this.vertices[f];var r=v[p];r||(r=v[p]=R(p)),this.orient=r}var w=E.prototype;w.handleBoundaryDegeneracy=function(p,g){var h=this.dimension,f=this.vertices.length-1,r=this.tuple,o=this.vertices,n=[p];for(p.lastVisited=-f;n.length>0;){p=n.pop();for(var t=p.adjacent,i=0;i<=h;++i){var e=t[i];if(!(!e.boundary||e.lastVisited<=-f)){for(var A=e.vertices,b=0;b<=h;++b){var x=A[b];x<0?r[b]=g:r[b]=o[x]}var m=this.orient();if(m>0)return e;e.lastVisited=-f,m===0&&n.push(e)}}}return null},w.walk=function(p,g){var h=this.vertices.length-1,f=this.dimension,r=this.vertices,o=this.tuple,n=g?this.interior.length*Math.random()|0:this.interior.length-1,t=this.interior[n];t:for(;!t.boundary;){for(var i=t.vertices,e=t.adjacent,A=0;A<=f;++A)o[A]=r[i[A]];t.lastVisited=h;for(var A=0;A<=f;++A){var b=e[A];if(!(b.lastVisited>=h)){var x=o[A];o[A]=p;var m=this.orient();if(o[A]=x,m<0){t=b;continue t}else b.boundary?b.lastVisited=-h:b.lastVisited=h}}return}return t},w.addPeaks=function(p,g){var h=this.vertices.length-1,f=this.dimension,r=this.vertices,o=this.tuple,n=this.interior,t=this.simplices,i=[g];g.lastVisited=h,g.vertices[g.vertices.indexOf(-1)]=h,g.boundary=!1,n.push(g);for(var e=[];i.length>0;){var g=i.pop(),A=g.vertices,b=g.adjacent,x=A.indexOf(h);if(!(x<0)){for(var m=0;m<=f;++m)if(m!==x){var S=b[m];if(!(!S.boundary||S.lastVisited>=h)){var _=S.vertices;if(S.lastVisited!==-h){for(var u=0,I=0;I<=f;++I)_[I]<0?(u=I,o[I]=p):o[I]=r[_[I]];var F=this.orient();if(F>0){_[u]=h,S.boundary=!1,n.push(S),i.push(S),S.lastVisited=h;continue}else S.lastVisited=-h}var P=S.adjacent,D=A.slice(),V=b.slice(),H=new l(D,V,!0);t.push(H);var O=P.indexOf(g);if(!(O<0)){P[O]=H,V[x]=S,D[m]=-1,V[m]=g,b[m]=H,H.flip();for(var I=0;I<=f;++I){var C=D[I];if(!(C<0||C===h)){for(var k=new Array(f-1),$=0,z=0;z<=f;++z){var Y=D[z];Y<0||z===I||(k[$++]=Y)}e.push(new y(k,H,I))}}}}}}}e.sort(c);for(var m=0;m+1<e.length;m+=2){var G=e[m],X=e[m+1],K=G.index,W=X.index;K<0||W<0||(G.cell.adjacent[G.index]=X.cell,X.cell.adjacent[X.index]=G.cell)}},w.insert=function(p,g){var h=this.vertices;h.push(p);var f=this.walk(p,g);if(f){for(var r=this.dimension,o=this.tuple,n=0;n<=r;++n){var t=f.vertices[n];t<0?o[n]=p:o[n]=h[t]}var i=this.orient(o);i<0||i===0&&(f=this.handleBoundaryDegeneracy(f,p),!f)||this.addPeaks(p,f)}},w.boundary=function(){for(var p=this.dimension,g=[],h=this.simplices,f=h.length,r=0;r<f;++r){var o=h[r];if(o.boundary){for(var n=new Array(p),t=o.vertices,i=0,e=0,A=0;A<=p;++A)t[A]>=0?n[i++]=t[A]:e=A&1;if(e===(p&1)){var b=n[0];n[0]=n[1],n[1]=b}g.push(n)}}return g};function s(p,g){var h=p.length;if(h===0)throw new Error("Must have at least d+1 points");var f=p[0].length;if(h<=f)throw new Error("Must input at least d+1 points");var r=p.slice(0,f+1),o=d.apply(void 0,r);if(o===0)throw new Error("Input not in general position");for(var n=new Array(f+1),t=0;t<=f;++t)n[t]=t;o<0&&(n[0]=1,n[1]=0);for(var i=new l(n,new Array(f+1),!1),e=i.adjacent,A=new Array(f+2),t=0;t<=f;++t){for(var b=n.slice(),x=0;x<=f;++x)x===t&&(b[x]=-1);var m=b[0];b[0]=b[1],b[1]=m;var S=new l(b,new Array(f+1),!0);e[t]=S,A[t]=S}A[f+1]=i;for(var t=0;t<=f;++t)for(var b=e[t].vertices,_=e[t].adjacent,x=0;x<=f;++x){var u=b[x];if(u<0){_[x]=i;continue}for(var I=0;I<=f;++I)e[I].vertices.indexOf(u)<0&&(_[x]=e[I])}for(var F=new E(f,r,A),P=!!g,t=f+1;t<h;++t)F.insert(p[t],P);return F.boundary()}},3352:function(B,L,a){var d=a(2478),M=0,l=1,y=2;B.exports=i;function c(e,A,b,x,m){this.mid=e,this.left=A,this.right=b,this.leftPoints=x,this.rightPoints=m,this.count=(A?A.count:0)+(b?b.count:0)+x.length}var T=c.prototype;function R(e,A){e.mid=A.mid,e.left=A.left,e.right=A.right,e.leftPoints=A.leftPoints,e.rightPoints=A.rightPoints,e.count=A.count}function v(e,A){var b=o(A);e.mid=b.mid,e.left=b.left,e.right=b.right,e.leftPoints=b.leftPoints,e.rightPoints=b.rightPoints,e.count=b.count}function E(e,A){var b=e.intervals([]);b.push(A),v(e,b)}function w(e,A){var b=e.intervals([]),x=b.indexOf(A);return x<0?M:(b.splice(x,1),v(e,b),l)}T.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},T.insert=function(e){var A=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(A+1)?E(this,e):this.left.insert(e):this.left=o([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(A+1)?E(this,e):this.right.insert(e):this.right=o([e]);else{var b=d.ge(this.leftPoints,e,f),x=d.ge(this.rightPoints,e,r);this.leftPoints.splice(b,0,e),this.rightPoints.splice(x,0,e)}},T.remove=function(e){var A=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return M;var b=this.right?this.right.count:0;if(4*b>3*(A-1))return w(this,e);var x=this.left.remove(e);return x===y?(this.left=null,this.count-=1,l):(x===l&&(this.count-=1),x)}else if(e[0]>this.mid){if(!this.right)return M;var m=this.left?this.left.count:0;if(4*m>3*(A-1))return w(this,e);var x=this.right.remove(e);return x===y?(this.right=null,this.count-=1,l):(x===l&&(this.count-=1),x)}else{if(this.count===1)return this.leftPoints[0]===e?y:M;if(this.leftPoints.length===1&&this.leftPoints[0]===e){if(this.left&&this.right){for(var S=this,_=this.left;_.right;)S=_,_=_.right;if(S===this)_.right=this.right;else{var u=this.left,x=this.right;S.count-=_.count,S.right=_.left,_.left=u,_.right=x}R(this,_),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?R(this,this.left):R(this,this.right);return l}for(var u=d.ge(this.leftPoints,e,f);u<this.leftPoints.length&&this.leftPoints[u][0]===e[0];++u)if(this.leftPoints[u]===e){this.count-=1,this.leftPoints.splice(u,1);for(var x=d.ge(this.rightPoints,e,r);x<this.rightPoints.length&&this.rightPoints[x][1]===e[1];++x)if(this.rightPoints[x]===e)return this.rightPoints.splice(x,1),l}return M}};function s(e,A,b){for(var x=0;x<e.length&&e[x][0]<=A;++x){var m=b(e[x]);if(m)return m}}function p(e,A,b){for(var x=e.length-1;x>=0&&e[x][1]>=A;--x){var m=b(e[x]);if(m)return m}}function g(e,A){for(var b=0;b<e.length;++b){var x=A(e[b]);if(x)return x}}T.queryPoint=function(e,A){if(e<this.mid){if(this.left){var b=this.left.queryPoint(e,A);if(b)return b}return s(this.leftPoints,e,A)}else if(e>this.mid){if(this.right){var b=this.right.queryPoint(e,A);if(b)return b}return p(this.rightPoints,e,A)}else return g(this.leftPoints,A)},T.queryInterval=function(e,A,b){if(e<this.mid&&this.left){var x=this.left.queryInterval(e,A,b);if(x)return x}if(A>this.mid&&this.right){var x=this.right.queryInterval(e,A,b);if(x)return x}return A<this.mid?s(this.leftPoints,A,b):e>this.mid?p(this.rightPoints,e,b):g(this.leftPoints,b)};function h(e,A){return e-A}function f(e,A){var b=e[0]-A[0];return b||e[1]-A[1]}function r(e,A){var b=e[1]-A[1];return b||e[0]-A[0]}function o(e){if(e.length===0)return null;for(var A=[],b=0;b<e.length;++b)A.push(e[b][0],e[b][1]);A.sort(h);for(var x=A[A.length>>1],m=[],S=[],_=[],b=0;b<e.length;++b){var u=e[b];u[1]<x?m.push(u):x<u[0]?S.push(u):_.push(u)}var I=_,F=_.slice();return I.sort(f),F.sort(r),new c(x,o(m),o(S),I,F)}function n(e){this.root=e}var t=n.prototype;t.insert=function(e){this.root?this.root.insert(e):this.root=new c(e[0],null,null,[e],[e])},t.remove=function(e){if(this.root){var A=this.root.remove(e);return A===y&&(this.root=null),A!==M}return!1},t.queryPoint=function(e,A){if(this.root)return this.root.queryPoint(e,A)},t.queryInterval=function(e,A,b){if(e<=A&&this.root)return this.root.queryInterval(e,A,b)},Object.defineProperty(t,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(t,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function i(e){return!e||e.length===0?new n(null):new n(o(e))}},9507:function(B){B.exports=!0},7163:function(B){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */B.exports=function(d){return d!=null&&(L(d)||a(d)||!!d._isBuffer)};function L(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function a(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&L(d.slice(0,0))}},5219:function(B){B.exports=function(L){for(var a=L.length,d,M=0;M<a;M++)if(d=L.charCodeAt(M),(d<9||d>13)&&d!==32&&d!==133&&d!==160&&d!==5760&&d!==6158&&(d<8192||d>8205)&&d!==8232&&d!==8233&&d!==8239&&d!==8287&&d!==8288&&d!==12288&&d!==65279)return!1;return!0}},395:function(B){function L(a,d,M){return a*(1-M)+d*M}B.exports=L},2652:function(B,L,a){var d=a(4335),M=a(6864),l=a(1903),y=a(9921),c=a(7608),T=a(5665),R={length:a(1387),normalize:a(3536),dot:a(244),cross:a(5911)},v=M(),E=M(),w=[0,0,0,0],s=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];B.exports=function(o,n,t,i,e,A){if(n||(n=[0,0,0]),t||(t=[0,0,0]),i||(i=[0,0,0]),e||(e=[0,0,0,1]),A||(A=[0,0,0,1]),!d(v,o)||(l(E,v),E[3]=0,E[7]=0,E[11]=0,E[15]=1,Math.abs(y(E)<1e-8)))return!1;var b=v[3],x=v[7],m=v[11],S=v[12],_=v[13],u=v[14],I=v[15];if(b!==0||x!==0||m!==0){w[0]=b,w[1]=x,w[2]=m,w[3]=I;var F=c(E,E);if(!F)return!1;T(E,E),g(e,w,E)}else e[0]=e[1]=e[2]=0,e[3]=1;if(n[0]=S,n[1]=_,n[2]=u,h(s,v),t[0]=R.length(s[0]),R.normalize(s[0],s[0]),i[0]=R.dot(s[0],s[1]),f(s[1],s[1],s[0],1,-i[0]),t[1]=R.length(s[1]),R.normalize(s[1],s[1]),i[0]/=t[1],i[1]=R.dot(s[0],s[2]),f(s[2],s[2],s[0],1,-i[1]),i[2]=R.dot(s[1],s[2]),f(s[2],s[2],s[1],1,-i[2]),t[2]=R.length(s[2]),R.normalize(s[2],s[2]),i[1]/=t[2],i[2]/=t[2],R.cross(p,s[1],s[2]),R.dot(s[0],p)<0)for(var P=0;P<3;P++)t[P]*=-1,s[P][0]*=-1,s[P][1]*=-1,s[P][2]*=-1;return A[0]=.5*Math.sqrt(Math.max(1+s[0][0]-s[1][1]-s[2][2],0)),A[1]=.5*Math.sqrt(Math.max(1-s[0][0]+s[1][1]-s[2][2],0)),A[2]=.5*Math.sqrt(Math.max(1-s[0][0]-s[1][1]+s[2][2],0)),A[3]=.5*Math.sqrt(Math.max(1+s[0][0]+s[1][1]+s[2][2],0)),s[2][1]>s[1][2]&&(A[0]=-A[0]),s[0][2]>s[2][0]&&(A[1]=-A[1]),s[1][0]>s[0][1]&&(A[2]=-A[2]),!0};function g(r,o,n){var t=o[0],i=o[1],e=o[2],A=o[3];return r[0]=n[0]*t+n[4]*i+n[8]*e+n[12]*A,r[1]=n[1]*t+n[5]*i+n[9]*e+n[13]*A,r[2]=n[2]*t+n[6]*i+n[10]*e+n[14]*A,r[3]=n[3]*t+n[7]*i+n[11]*e+n[15]*A,r}function h(r,o){r[0][0]=o[0],r[0][1]=o[1],r[0][2]=o[2],r[1][0]=o[4],r[1][1]=o[5],r[1][2]=o[6],r[2][0]=o[8],r[2][1]=o[9],r[2][2]=o[10]}function f(r,o,n,t,i){r[0]=o[0]*t+n[0]*i,r[1]=o[1]*t+n[1]*i,r[2]=o[2]*t+n[2]*i}},4335:function(B){B.exports=function(a,d){var M=d[15];if(M===0)return!1;for(var l=1/M,y=0;y<16;y++)a[y]=d[y]*l;return!0}},7442:function(B,L,a){var d=a(6658),M=a(7182),l=a(2652),y=a(9921),c=a(8648),T=w(),R=w(),v=w();B.exports=E;function E(g,h,f,r){if(y(h)===0||y(f)===0)return!1;var o=l(h,T.translate,T.scale,T.skew,T.perspective,T.quaternion),n=l(f,R.translate,R.scale,R.skew,R.perspective,R.quaternion);return!o||!n?!1:(d(v.translate,T.translate,R.translate,r),d(v.skew,T.skew,R.skew,r),d(v.scale,T.scale,R.scale,r),d(v.perspective,T.perspective,R.perspective,r),c(v.quaternion,T.quaternion,R.quaternion,r),M(g,v.translate,v.scale,v.skew,v.perspective,v.quaternion),!0)}function w(){return{translate:s(),scale:s(1),skew:s(),perspective:p(),quaternion:p()}}function s(g){return[g||0,g||0,g||0]}function p(){return[0,0,0,1]}},7182:function(B,L,a){var d={identity:a(7894),translate:a(7656),multiply:a(6760),create:a(6864),scale:a(2504),fromRotationTranslation:a(6743)};d.create();var M=d.create();B.exports=function(y,c,T,R,v,E){return d.identity(y),d.fromRotationTranslation(y,E,c),y[3]=v[0],y[7]=v[1],y[11]=v[2],y[15]=v[3],d.identity(M),R[2]!==0&&(M[9]=R[2],d.multiply(y,y,M)),R[1]!==0&&(M[9]=0,M[8]=R[1],d.multiply(y,y,M)),R[0]!==0&&(M[8]=0,M[4]=R[0],d.multiply(y,y,M)),d.scale(y,y,T),y}},1811:function(B,L,a){var d=a(2478),M=a(7442),l=a(7608),y=a(5567),c=a(2408),T=a(7089),R=a(6582),v=a(7656);a(2504);var E=a(3536),w=[0,0,0];B.exports=h;function s(f){this._components=f.slice(),this._time=[0],this.prevMatrix=f.slice(),this.nextMatrix=f.slice(),this.computedMatrix=f.slice(),this.computedInverse=f.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=s.prototype;p.recalcMatrix=function(f){var r=this._time,o=d.le(r,f),n=this.computedMatrix;if(!(o<0)){var t=this._components;if(o===r.length-1)for(var i=16*o,e=0;e<16;++e)n[e]=t[i++];else{for(var A=r[o+1]-r[o],i=16*o,b=this.prevMatrix,x=!0,e=0;e<16;++e)b[e]=t[i++];for(var m=this.nextMatrix,e=0;e<16;++e)m[e]=t[i++],x=x&&b[e]===m[e];if(A<1e-6||x)for(var e=0;e<16;++e)n[e]=b[e];else M(n,b,m,(f-r[o])/A)}var S=this.computedUp;S[0]=n[1],S[1]=n[5],S[2]=n[9],E(S,S);var _=this.computedInverse;l(_,n);var u=this.computedEye,I=_[15];u[0]=_[12]/I,u[1]=_[13]/I,u[2]=_[14]/I;for(var F=this.computedCenter,P=Math.exp(this.computedRadius[0]),e=0;e<3;++e)F[e]=u[e]-n[2+4*e]*P}},p.idle=function(f){if(!(f<this.lastT())){for(var r=this._components,o=r.length-16,n=0;n<16;++n)r.push(r[o++]);this._time.push(f)}},p.flush=function(f){var r=d.gt(this._time,f)-2;r<0||(this._time.splice(0,r),this._components.splice(0,16*r))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(f,r,o,n){this.recalcMatrix(f),r=r||this.computedEye,o=o||w,n=n||this.computedUp,this.setMatrix(f,R(this.computedMatrix,r,o,n));for(var t=0,i=0;i<3;++i)t+=Math.pow(o[i]-r[i],2);t=Math.log(Math.sqrt(t)),this.computedRadius[0]=t},p.rotate=function(f,r,o,n){this.recalcMatrix(f);var t=this.computedInverse;r&&c(t,t,r),o&&y(t,t,o),n&&T(t,t,n),this.setMatrix(f,l(this.computedMatrix,t))};var g=[0,0,0];p.pan=function(f,r,o,n){g[0]=-(r||0),g[1]=-(o||0),g[2]=-(n||0),this.recalcMatrix(f);var t=this.computedInverse;v(t,t,g),this.setMatrix(f,l(t,t))},p.translate=function(f,r,o,n){g[0]=r||0,g[1]=o||0,g[2]=n||0,this.recalcMatrix(f);var t=this.computedMatrix;v(t,t,g),this.setMatrix(f,t)},p.setMatrix=function(f,r){if(!(f<this.lastT())){this._time.push(f);for(var o=0;o<16;++o)this._components.push(r[o])}},p.setDistance=function(f,r){this.computedRadius[0]=r},p.setDistanceLimits=function(f,r){var o=this._limits;o[0]=f,o[1]=r},p.getDistanceLimits=function(f){var r=this._limits;return f?(f[0]=r[0],f[1]=r[1],f):r};function h(f){f=f||{};var r=f.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new s(r)}},3090:function(B,L,a){B.exports=M;var d=a(3250)[3];function M(l){var y=l.length;if(y<3){for(var p=new Array(y),c=0;c<y;++c)p[c]=c;return y===2&&l[0][0]===l[1][0]&&l[0][1]===l[1][1]?[0]:p}for(var T=new Array(y),c=0;c<y;++c)T[c]=c;T.sort(function(r,o){var n=l[r][0]-l[o][0];return n||l[r][1]-l[o][1]});for(var R=[T[0],T[1]],v=[T[0],T[1]],c=2;c<y;++c){for(var E=T[c],w=l[E],s=R.length;s>1&&d(l[R[s-2]],l[R[s-1]],w)<=0;)s-=1,R.pop();for(R.push(E),s=v.length;s>1&&d(l[v[s-2]],l[v[s-1]],w)>=0;)s-=1,v.pop();v.push(E)}for(var p=new Array(v.length+R.length-2),g=0,c=0,h=R.length;c<h;++c)p[g++]=R[c];for(var f=v.length-2;f>0;--f)p[g++]=v[f];return p}},351:function(B,L,a){B.exports=M;var d=a(4687);function M(l,y){y||(y=l,l=window);var c=0,T=0,R=0,v={shift:!1,alt:!1,control:!1,meta:!1},E=!1;function w(e){var A=!1;return"altKey"in e&&(A=A||e.altKey!==v.alt,v.alt=!!e.altKey),"shiftKey"in e&&(A=A||e.shiftKey!==v.shift,v.shift=!!e.shiftKey),"ctrlKey"in e&&(A=A||e.ctrlKey!==v.control,v.control=!!e.ctrlKey),"metaKey"in e&&(A=A||e.metaKey!==v.meta,v.meta=!!e.metaKey),A}function s(e,A){var b=d.x(A),x=d.y(A);"buttons"in A&&(e=A.buttons|0),(e!==c||b!==T||x!==R||w(A))&&(c=e|0,T=b||0,R=x||0,y&&y(c,T,R,v))}function p(e){s(0,e)}function g(){(c||T||R||v.shift||v.alt||v.meta||v.control)&&(T=R=0,c=0,v.shift=v.alt=v.control=v.meta=!1,y&&y(0,0,0,v))}function h(e){w(e)&&y&&y(c,T,R,v)}function f(e){d.buttons(e)===0?s(0,e):s(c,e)}function r(e){s(c|d.buttons(e),e)}function o(e){s(c&~d.buttons(e),e)}function n(){E||(E=!0,l.addEventListener("mousemove",f),l.addEventListener("mousedown",r),l.addEventListener("mouseup",o),l.addEventListener("mouseleave",p),l.addEventListener("mouseenter",p),l.addEventListener("mouseout",p),l.addEventListener("mouseover",p),l.addEventListener("blur",g),l.addEventListener("keyup",h),l.addEventListener("keydown",h),l.addEventListener("keypress",h),l!==window&&(window.addEventListener("blur",g),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}function t(){E&&(E=!1,l.removeEventListener("mousemove",f),l.removeEventListener("mousedown",r),l.removeEventListener("mouseup",o),l.removeEventListener("mouseleave",p),l.removeEventListener("mouseenter",p),l.removeEventListener("mouseout",p),l.removeEventListener("mouseover",p),l.removeEventListener("blur",g),l.removeEventListener("keyup",h),l.removeEventListener("keydown",h),l.removeEventListener("keypress",h),l!==window&&(window.removeEventListener("blur",g),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h)))}n();var i={element:l};return Object.defineProperties(i,{enabled:{get:function(){return E},set:function(e){e?n():t()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return T},enumerable:!0},y:{get:function(){return R},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),i}},24:function(B){var L={left:0,top:0};B.exports=a;function a(M,l,y){l=l||M.currentTarget||M.srcElement,Array.isArray(y)||(y=[0,0]);var c=M.clientX||0,T=M.clientY||0,R=d(l);return y[0]=c-R.left,y[1]=T-R.top,y}function d(M){return M===window||M===document||M===document.body?L:M.getBoundingClientRect()}},4687:function(B,L){function a(y){if(typeof y=="object"){if("buttons"in y)return y.buttons;if("which"in y){var c=y.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in y){var c=y.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}L.buttons=a;function d(y){return y.target||y.srcElement||window}L.element=d;function M(y){if(typeof y=="object"){if("offsetX"in y)return y.offsetX;var c=d(y),T=c.getBoundingClientRect();return y.clientX-T.left}return 0}L.x=M;function l(y){if(typeof y=="object"){if("offsetY"in y)return y.offsetY;var c=d(y),T=c.getBoundingClientRect();return y.clientY-T.top}return 0}L.y=l},8512:function(B,L,a){var d=a(665);B.exports=M;function M(l,y,c){typeof l=="function"&&(c=!!y,y=l,l=window);var T=d("ex",l),R=function(v){c&&v.preventDefault();var E=v.deltaX||0,w=v.deltaY||0,s=v.deltaZ||0,p=v.deltaMode,g=1;switch(p){case 1:g=T;break;case 2:g=window.innerHeight;break}if(E*=g,w*=g,s*=g,E||w||s)return y(E,w,s,v)};return l.addEventListener("wheel",R),R}},2640:function(B,L,a){var d=a(1888);B.exports=y;var M={"false,0,1":function(T,R,v,E,w){return function(p,g,h,f){var r=p.shape[0]|0,o=p.shape[1]|0,n=p.data,t=p.offset|0,i=p.stride[0]|0,e=p.stride[1]|0,A=t,b,x=-i|0,m=0,S=-e|0,_=0,u=-i-e|0,I=0,F=i|0,P=e-i*r|0,D=0,V=0,H=0,O=2*r|0,C=E(O),k=E(O),$=0,z=0,Y=-1,G=-1,X=0,K=-r|0,W=r|0,Z=0,J=-r-1|0,tt=r-1|0,it=0,et=0,j=0;for(D=0;D<r;++D)C[$++]=v(n[A],g,h,f),A+=F;if(A+=P,o>0){if(V=1,C[$++]=v(n[A],g,h,f),A+=F,r>0)for(D=1,b=n[A],z=C[$]=v(b,g,h,f),X=C[$+Y],Z=C[$+K],it=C[$+J],(z!==X||z!==Z||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,X,Z,it,g,h,f),et=k[$]=H++),$+=1,A+=F,D=2;D<r;++D)b=n[A],z=C[$]=v(b,g,h,f),X=C[$+Y],Z=C[$+K],it=C[$+J],(z!==X||z!==Z||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,X,Z,it,g,h,f),et=k[$]=H++,it!==X&&R(k[$+Y],et,I,m,it,X,g,h,f)),$+=1,A+=F;for(A+=P,$=0,j=Y,Y=G,G=j,j=K,K=W,W=j,j=J,J=tt,tt=j,V=2;V<o;++V){if(C[$++]=v(n[A],g,h,f),A+=F,r>0)for(D=1,b=n[A],z=C[$]=v(b,g,h,f),X=C[$+Y],Z=C[$+K],it=C[$+J],(z!==X||z!==Z||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,X,Z,it,g,h,f),et=k[$]=H++,it!==Z&&R(k[$+K],et,_,I,Z,it,g,h,f)),$+=1,A+=F,D=2;D<r;++D)b=n[A],z=C[$]=v(b,g,h,f),X=C[$+Y],Z=C[$+K],it=C[$+J],(z!==X||z!==Z||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,X,Z,it,g,h,f),et=k[$]=H++,it!==Z&&R(k[$+K],et,_,I,Z,it,g,h,f),it!==X&&R(k[$+Y],et,I,m,it,X,g,h,f)),$+=1,A+=F;V&1&&($=0),j=Y,Y=G,G=j,j=K,K=W,W=j,j=J,J=tt,tt=j,A+=P}}w(k),w(C)}},"false,1,0":function(T,R,v,E,w){return function(p,g,h,f){var r=p.shape[0]|0,o=p.shape[1]|0,n=p.data,t=p.offset|0,i=p.stride[0]|0,e=p.stride[1]|0,A=t,b,x=-i|0,m=0,S=-e|0,_=0,u=-i-e|0,I=0,F=e|0,P=i-e*o|0,D=0,V=0,H=0,O=2*o|0,C=E(O),k=E(O),$=0,z=0,Y=-1,G=-1,X=0,K=-o|0,W=o|0,Z=0,J=-o-1|0,tt=o-1|0,it=0,et=0,j=0;for(V=0;V<o;++V)C[$++]=v(n[A],g,h,f),A+=F;if(A+=P,r>0){if(D=1,C[$++]=v(n[A],g,h,f),A+=F,o>0)for(V=1,b=n[A],z=C[$]=v(b,g,h,f),Z=C[$+K],X=C[$+Y],it=C[$+J],(z!==Z||z!==X||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,Z,X,it,g,h,f),et=k[$]=H++),$+=1,A+=F,V=2;V<o;++V)b=n[A],z=C[$]=v(b,g,h,f),Z=C[$+K],X=C[$+Y],it=C[$+J],(z!==Z||z!==X||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,Z,X,it,g,h,f),et=k[$]=H++,it!==X&&R(k[$+Y],et,_,I,X,it,g,h,f)),$+=1,A+=F;for(A+=P,$=0,j=K,K=W,W=j,j=Y,Y=G,G=j,j=J,J=tt,tt=j,D=2;D<r;++D){if(C[$++]=v(n[A],g,h,f),A+=F,o>0)for(V=1,b=n[A],z=C[$]=v(b,g,h,f),Z=C[$+K],X=C[$+Y],it=C[$+J],(z!==Z||z!==X||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,Z,X,it,g,h,f),et=k[$]=H++,it!==Z&&R(k[$+K],et,I,m,it,Z,g,h,f)),$+=1,A+=F,V=2;V<o;++V)b=n[A],z=C[$]=v(b,g,h,f),Z=C[$+K],X=C[$+Y],it=C[$+J],(z!==Z||z!==X||z!==it)&&(m=n[A+x],_=n[A+S],I=n[A+u],T(D,V,b,m,_,I,z,Z,X,it,g,h,f),et=k[$]=H++,it!==X&&R(k[$+Y],et,_,I,X,it,g,h,f),it!==Z&&R(k[$+K],et,I,m,it,Z,g,h,f)),$+=1,A+=F;D&1&&($=0),j=K,K=W,W=j,j=Y,Y=G,G=j,j=J,J=tt,tt=j,A+=P}}w(k),w(C)}}};function l(c,T,R,v,E,w){var s=[w,E].join(","),p=M[s];return p(c,T,R,d.mallocUint32,d.freeUint32)}function y(c){function T(g){throw new Error("ndarray-extract-contour: "+g)}typeof c!="object"&&T("Must specify arguments");var R=c.order;Array.isArray(R)||T("Must specify order");var v=c.arrayArguments||1;v<1&&T("Must have at least one array argument");var E=c.scalarArguments||0;E<0&&T("Scalar arg count must be > 0"),typeof c.vertex!="function"&&T("Must specify vertex creation function"),typeof c.cell!="function"&&T("Must specify cell creation function"),typeof c.phase!="function"&&T("Must specify phase function");for(var w=c.getters||[],s=new Array(v),p=0;p<v;++p)w.indexOf(p)>=0?s[p]=!0:s[p]=!1;return l(c.vertex,c.cell,c.phase,E,R,s)}},6199:function(B,L,a){var d=a(1338),M={zero:function(h,f,r,o){var n=h[0],t=r[0];o|=0;var i=0,e=t;for(i=0;i<n;++i)f[o]=0,o+=e},fdTemplate1:function(h,f,r,o,n,t,i){var e=h[0],A=r[0],b=t[0],x=-1*A,m=A;o|=0,i|=0;var S=0,_=A,u=b;for(S=0;S<e;++S)n[i]=.5*(f[o+x]-f[o+m]),o+=_,i+=u},fdTemplate2:function(h,f,r,o,n,t,i,e,A,b){var x=h[0],m=h[1],S=r[0],_=r[1],u=t[0],I=t[1],F=A[0],P=A[1],D=-1*S,V=S,H=-1*_,O=_;o|=0,i|=0,b|=0;var C=0,k=0,$=_,z=S-m*_,Y=I,G=u-m*I,X=P,K=F-m*P;for(k=0;k<x;++k){for(C=0;C<m;++C)n[i]=.5*(f[o+D]-f[o+V]),e[b]=.5*(f[o+H]-f[o+O]),o+=$,i+=Y,b+=X;o+=z,i+=G,b+=K}}},l={cdiff:function(h){var f={};return function(o,n,t){var i=o.dtype,e=o.order,A=n.dtype,b=n.order,x=t.dtype,m=t.order,S=[i,e.join(),A,b.join(),x,m.join()].join(),_=f[S];return _||(f[S]=_=h([i,e,A,b,x,m])),_(o.shape.slice(0),o.data,o.stride,o.offset|0,n.data,n.stride,n.offset|0,t.data,t.stride,t.offset|0)}},zero:function(h){var f={};return function(o){var n=o.dtype,t=o.order,i=[n,t.join()].join(),e=f[i];return e||(f[i]=e=h([n,t])),e(o.shape.slice(0),o.data,o.stride,o.offset|0)}},fdTemplate1:function(h){var f={};return function(o,n){var t=o.dtype,i=o.order,e=n.dtype,A=n.order,b=[t,i.join(),e,A.join()].join(),x=f[b];return x||(f[b]=x=h([t,i,e,A])),x(o.shape.slice(0),o.data,o.stride,o.offset|0,n.data,n.stride,n.offset|0)}},fdTemplate2:function(h){var f={};return function(o,n,t){var i=o.dtype,e=o.order,A=n.dtype,b=n.order,x=t.dtype,m=t.order,S=[i,e.join(),A,b.join(),x,m.join()].join(),_=f[S];return _||(f[S]=_=h([i,e,A,b,x,m])),_(o.shape.slice(0),o.data,o.stride,o.offset|0,n.data,n.stride,n.offset|0,t.data,t.stride,t.offset|0)}}};function y(h){var f=l[h.funcName];return f(c.bind(void 0,h))}function c(h){return M[h.funcName]}function T(h){return y({funcName:h.funcName})}var R={},v={},E=T({funcName:"cdiff"}),w=T({funcName:"zero"});function s(h){return h in R?R[h]:R[h]=T({funcName:"fdTemplate"+h})}function p(h,f,r,o){return function(n,t){var i=t.shape.slice();return i[0]>2&&i[1]>2&&o(t.pick(-1,-1).lo(1,1).hi(i[0]-2,i[1]-2),n.pick(-1,-1,0).lo(1,1).hi(i[0]-2,i[1]-2),n.pick(-1,-1,1).lo(1,1).hi(i[0]-2,i[1]-2)),i[1]>2&&(r(t.pick(0,-1).lo(1).hi(i[1]-2),n.pick(0,-1,1).lo(1).hi(i[1]-2)),f(n.pick(0,-1,0).lo(1).hi(i[1]-2))),i[1]>2&&(r(t.pick(i[0]-1,-1).lo(1).hi(i[1]-2),n.pick(i[0]-1,-1,1).lo(1).hi(i[1]-2)),f(n.pick(i[0]-1,-1,0).lo(1).hi(i[1]-2))),i[0]>2&&(r(t.pick(-1,0).lo(1).hi(i[0]-2),n.pick(-1,0,0).lo(1).hi(i[0]-2)),f(n.pick(-1,0,1).lo(1).hi(i[0]-2))),i[0]>2&&(r(t.pick(-1,i[1]-1).lo(1).hi(i[0]-2),n.pick(-1,i[1]-1,0).lo(1).hi(i[0]-2)),f(n.pick(-1,i[1]-1,1).lo(1).hi(i[0]-2))),n.set(0,0,0,0),n.set(0,0,1,0),n.set(i[0]-1,0,0,0),n.set(i[0]-1,0,1,0),n.set(0,i[1]-1,0,0),n.set(0,i[1]-1,1,0),n.set(i[0]-1,i[1]-1,0,0),n.set(i[0]-1,i[1]-1,1,0),n}}function g(h){var f=h.join(),i=v[f];if(i)return i;for(var r=h.length,o=[E,w],n=1;n<=r;++n)o.push(s(n));var t=p,i=t.apply(void 0,o);return v[f]=i,i}B.exports=function(f,r,o){if(Array.isArray(o)||(typeof o=="string"?o=d(r.dimension,o):o=d(r.dimension,"clamp")),r.size===0)return f;if(r.dimension===0)return f.set(0),f;var n=g(o);return n(f,r)}},4317:function(B){function L(y,c){var T=Math.floor(c),R=c-T,v=0<=T&&T<y.shape[0],E=0<=T+1&&T+1<y.shape[0],w=v?+y.get(T):0,s=E?+y.get(T+1):0;return(1-R)*w+R*s}function a(y,c,T){var R=Math.floor(c),v=c-R,E=0<=R&&R<y.shape[0],w=0<=R+1&&R+1<y.shape[0],s=Math.floor(T),p=T-s,g=0<=s&&s<y.shape[1],h=0<=s+1&&s+1<y.shape[1],f=E&&g?y.get(R,s):0,r=E&&h?y.get(R,s+1):0,o=w&&g?y.get(R+1,s):0,n=w&&h?y.get(R+1,s+1):0;return(1-p)*((1-v)*f+v*o)+p*((1-v)*r+v*n)}function d(y,c,T,R){var v=Math.floor(c),E=c-v,w=0<=v&&v<y.shape[0],s=0<=v+1&&v+1<y.shape[0],p=Math.floor(T),g=T-p,h=0<=p&&p<y.shape[1],f=0<=p+1&&p+1<y.shape[1],r=Math.floor(R),o=R-r,n=0<=r&&r<y.shape[2],t=0<=r+1&&r+1<y.shape[2],i=w&&h&&n?y.get(v,p,r):0,e=w&&f&&n?y.get(v,p+1,r):0,A=s&&h&&n?y.get(v+1,p,r):0,b=s&&f&&n?y.get(v+1,p+1,r):0,x=w&&h&&t?y.get(v,p,r+1):0,m=w&&f&&t?y.get(v,p+1,r+1):0,S=s&&h&&t?y.get(v+1,p,r+1):0,_=s&&f&&t?y.get(v+1,p+1,r+1):0;return(1-o)*((1-g)*((1-E)*i+E*A)+g*((1-E)*e+E*b))+o*((1-g)*((1-E)*x+E*S)+g*((1-E)*m+E*_))}function M(y){var c=y.shape.length|0,T=new Array(c),R=new Array(c),v=new Array(c),E=new Array(c),w,s;for(w=0;w<c;++w)s=+arguments[w+1],T[w]=Math.floor(s),R[w]=s-T[w],v[w]=0<=T[w]&&T[w]<y.shape[w],E[w]=0<=T[w]+1&&T[w]+1<y.shape[w];var p=0,g,h,f;t:for(w=0;w<1<<c;++w){for(h=1,f=y.offset,g=0;g<c;++g)if(w&1<<g){if(!E[g])continue t;h*=R[g],f+=y.stride[g]*(T[g]+1)}else{if(!v[g])continue t;h*=1-R[g],f+=y.stride[g]*T[g]}p+=h*y.data[f]}return p}function l(y,c,T,R){switch(y.shape.length){case 0:return 0;case 1:return L(y,c);case 2:return a(y,c,T);case 3:return d(y,c,T,R);default:return M.apply(void 0,arguments)}}B.exports=l,B.exports.d1=L,B.exports.d2=a,B.exports.d3=d},5298:function(B,L){var a={"float64,2,1,0":function(){return function(v,E,w,s,p){var g=v[0],h=v[1],f=v[2],r=w[0],o=w[1],n=w[2];s|=0;var t=0,i=0,e=0,A=n,b=o-f*n,x=r-h*o;for(e=0;e<g;++e){for(i=0;i<h;++i){for(t=0;t<f;++t)E[s]/=p,s+=A;s+=b}s+=x}}},"uint8,2,0,1,float64,2,1,0":function(){return function(v,E,w,s,p,g,h,f){var r=v[0],o=v[1],n=v[2],t=w[0],i=w[1],e=w[2],A=g[0],b=g[1],x=g[2];s|=0,h|=0;for(var m=s,S=h,_=v[0]|0;_>0;){_<64?(r=_,_=0):(r=64,_-=64);for(var u=v[1]|0;u>0;){u<64?(o=u,u=0):(o=64,u-=64),s=m+_*t+u*i,h=S+_*A+u*b;var I=0,F=0,P=0,D=e,V=t-n*e,H=i-r*t,O=x,C=A-n*x,k=b-r*A;for(P=0;P<o;++P){for(F=0;F<r;++F){for(I=0;I<n;++I)E[s]=p[h]*f,s+=D,h+=O;s+=V,h+=C}s+=H,h+=k}}}}},"float32,1,0,float32,1,0":function(){return function(v,E,w,s,p,g,h){var f=v[0],r=v[1],o=w[0],n=w[1],t=g[0],i=g[1];s|=0,h|=0;var e=0,A=0,b=n,x=o-r*n,m=i,S=t-r*i;for(A=0;A<f;++A){for(e=0;e<r;++e)E[s]=p[h],s+=b,h+=m;s+=x,h+=S}}},"float32,1,0,float32,0,1":function(){return function(v,E,w,s,p,g,h){var f=v[0],r=v[1],o=w[0],n=w[1],t=g[0],i=g[1];s|=0,h|=0;for(var e=s,A=h,b=v[1]|0;b>0;){b<64?(r=b,b=0):(r=64,b-=64);for(var x=v[0]|0;x>0;){x<64?(f=x,x=0):(f=64,x-=64),s=e+b*n+x*o,h=A+b*i+x*t;var m=0,S=0,_=n,u=o-r*n,I=i,F=t-r*i;for(S=0;S<f;++S){for(m=0;m<r;++m)E[s]=p[h],s+=_,h+=I;s+=u,h+=F}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(v,E,w,s,p,g,h){var f=v[0],r=v[1],o=v[2],n=w[0],t=w[1],i=w[2],e=g[0],A=g[1],b=g[2];s|=0,h|=0;for(var x=s,m=h,S=v[2]|0;S>0;){S<64?(o=S,S=0):(o=64,S-=64);for(var _=v[0]|0;_>0;){_<64?(f=_,_=0):(f=64,_-=64);for(var u=v[1]|0;u>0;){u<64?(r=u,u=0):(r=64,u-=64),s=x+S*i+_*n+u*t,h=m+S*b+_*e+u*A;var I=0,F=0,P=0,D=i,V=n-o*i,H=t-f*n,O=b,C=e-o*b,k=A-f*e;for(P=0;P<r;++P){for(F=0;F<f;++F){for(I=0;I<o;++I)E[s]=p[h],s+=D,h+=O;s+=V,h+=C}s+=H,h+=k}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(v,E,w,s,p,g,h){var f=v[0],r=v[1],o=v[2],n=w[0],t=w[1],i=w[2],e=g[0],A=g[1],b=g[2];s|=0,h|=0;var x=0,m=0,S=0,_=i,u=n-o*i,I=t-f*n,F=b,P=e-o*b,D=A-f*e;for(S=0;S<r;++S){for(m=0;m<f;++m){for(x=0;x<o;++x)E[s]=p[h],s+=_,h+=F;s+=u,h+=P}s+=I,h+=D}}}};function d(R,v){var E=v.join(","),w=a[E];return w()}var M=d,l={mul:function(R){var v={};return function(w,s,p){var g=w.dtype,h=w.order,f=s.dtype,r=s.order,o=p.dtype,n=p.order,t=[g,h.join(),f,r.join(),o,n.join()].join(),i=v[t];return i||(v[t]=i=R([g,h,f,r,o,n])),i(w.shape.slice(0),w.data,w.stride,w.offset|0,s.data,s.stride,s.offset|0,p.data,p.stride,p.offset|0)}},muls:function(R){var v={};return function(w,s,p){var g=w.dtype,h=w.order,f=s.dtype,r=s.order,o=[g,h.join(),f,r.join()].join(),n=v[o];return n||(v[o]=n=R([g,h,f,r])),n(w.shape.slice(0),w.data,w.stride,w.offset|0,s.data,s.stride,s.offset|0,p)}},mulseq:function(R){var v={};return function(w,s){var p=w.dtype,g=w.order,h=[p,g.join()].join(),f=v[h];return f||(v[h]=f=R([p,g])),f(w.shape.slice(0),w.data,w.stride,w.offset|0,s)}},div:function(R){var v={};return function(w,s,p){var g=w.dtype,h=w.order,f=s.dtype,r=s.order,o=p.dtype,n=p.order,t=[g,h.join(),f,r.join(),o,n.join()].join(),i=v[t];return i||(v[t]=i=R([g,h,f,r,o,n])),i(w.shape.slice(0),w.data,w.stride,w.offset|0,s.data,s.stride,s.offset|0,p.data,p.stride,p.offset|0)}},divs:function(R){var v={};return function(w,s,p){var g=w.dtype,h=w.order,f=s.dtype,r=s.order,o=[g,h.join(),f,r.join()].join(),n=v[o];return n||(v[o]=n=R([g,h,f,r])),n(w.shape.slice(0),w.data,w.stride,w.offset|0,s.data,s.stride,s.offset|0,p)}},divseq:function(R){var v={};return function(w,s){var p=w.dtype,g=w.order,h=[p,g.join()].join(),f=v[h];return f||(v[h]=f=R([p,g])),f(w.shape.slice(0),w.data,w.stride,w.offset|0,s)}},assign:function(R){var v={};return function(w,s){var p=w.dtype,g=w.order,h=s.dtype,f=s.order,r=[p,g.join(),h,f.join()].join(),o=v[r];return o||(v[r]=o=R([p,g,h,f])),o(w.shape.slice(0),w.data,w.stride,w.offset|0,s.data,s.stride,s.offset|0)}}};function y(R){var v=l[R.funcName];return v(M.bind(void 0,R))}function c(R){return y({funcName:R.funcName})}var T={mul:"*",div:"/"};(function(){for(var R in T)L[R]=c({funcName:R}),L[R+"s"]=c({funcName:R+"s"}),L[R+"seq"]=c({funcName:R+"seq"})})(),L.assign=c({funcName:"assign"})},9994:function(B,L,a){var d=a(9618),M=a(8277);B.exports=function(y,c){for(var T=[],R=y,v=1;Array.isArray(R);)T.push(R.length),v*=R.length,R=R[0];return T.length===0?d():(c||(c=d(new Float64Array(v),T)),M(c,y),c)}},8277:function(B){function L(){return function(c,T,R,v,E){var w=c[0],s=c[1],p=c[2],g=R[0],h=R[1],f=R[2],r=[0,0,0];v|=0;var o=0,n=0,t=0,i=f,e=h-p*f,A=g-s*h;for(t=0;t<w;++t){for(n=0;n<s;++n){for(o=0;o<p;++o){{var b=E,x;for(x=0;x<r.length-1;++x)b=b[r[x]];T[v]=b[r[r.length-1]]}v+=i,++r[2]}v+=e,r[2]-=p,++r[1]}v+=A,r[1]-=s,++r[0]}}}function a(){return L()}var d=a;function M(c){var T={};return function(v,E){var w=v.dtype,s=v.order,p=[w,s.join()].join(),g=T[p];return g||(T[p]=g=c([w,s])),g(v.shape.slice(0),v.data,v.stride,v.offset|0,E)}}function l(c){return M(d.bind(void 0,c))}function y(c){return l({funcName:c.funcName})}B.exports=y({funcName:"convert"})},7640:function(B,L,a){var d=a(1888);function M(E){switch(E){case"uint32":return[d.mallocUint32,d.freeUint32];default:return null}}var l={"uint32,1,0":function(E,w){return function(p,g,h,f,r,o,n,t,i,e,A){var b,x,m,S=p*r+f,_,u=E(t),I,F,P,D;for(b=p+1;b<=g;++b){for(x=b,S+=r,m=S,I=0,F=S,_=0;_<t;++_)u[I++]=h[F],F+=i;t:for(;x-- >p;){I=0,F=m-r;e:for(_=0;_<t;++_){if(P=h[F],D=u[I],P<D)break t;if(P>D)break e;F+=e,I+=A}for(I=m,F=m-r,_=0;_<t;++_)h[I]=h[F],I+=i,F+=i;m-=r}for(I=m,F=0,_=0;_<t;++_)h[I]=u[F++],I+=i}w(u)}}};function y(E,w){var s=M(w),p=[w,E].join(","),g=l[p];return s?g(s[0],s[1]):g()}var c={"uint32,1,0":function(E,w,s){return function p(g,h,f,r,o,n,t,i,e,A,b){var x=(h-g+1)/6|0,m=g+x,S=h-x,_=g+h>>1,u=_-x,I=_+x,F=m,P=u,D=_,V=I,H=S,O=g+1,C=h-1,k=!0,$,z,Y,G,X,K,W,Z,J,tt=0,it=0,et=0,j,at,rt,st,ot,ft,xt,dt,ht,pt,lt,bt,Tt,yt,ut,vt,Mt=i,_t=w(Mt),Pt=w(Mt);at=o*F,rt=o*P,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=F,F=P,P=z;break t}if(et<0)break t;vt+=A}at=o*V,rt=o*H,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=V,V=H,H=z;break t}if(et<0)break t;vt+=A}at=o*F,rt=o*D,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=F,F=D,D=z;break t}if(et<0)break t;vt+=A}at=o*P,rt=o*D,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=P,P=D,D=z;break t}if(et<0)break t;vt+=A}at=o*F,rt=o*V,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=F,F=V,V=z;break t}if(et<0)break t;vt+=A}at=o*D,rt=o*V,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=D,D=V,V=z;break t}if(et<0)break t;vt+=A}at=o*P,rt=o*H,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=P,P=H,H=z;break t}if(et<0)break t;vt+=A}at=o*P,rt=o*D,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=P,P=D,D=z;break t}if(et<0)break t;vt+=A}at=o*V,rt=o*H,vt=r;t:for(j=0;j<i;++j){if(W=at+vt,Z=rt+vt,et=f[W]-f[Z],et>0){z=V,V=H,H=z;break t}if(et<0)break t;vt+=A}for(at=o*F,rt=o*P,st=o*D,ot=o*V,ft=o*H,xt=o*m,dt=o*_,ht=o*S,ut=0,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,J=st+vt,pt=ot+vt,lt=ft+vt,bt=xt+vt,Tt=dt+vt,yt=ht+vt,_t[ut]=f[Z],Pt[ut]=f[pt],k=k&&_t[ut]===Pt[ut],Y=f[W],G=f[J],X=f[lt],f[bt]=Y,f[Tt]=G,f[yt]=X,++ut,vt+=e;for(at=o*u,rt=o*g,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,f[W]=f[Z],vt+=e;for(at=o*I,rt=o*h,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,f[W]=f[Z],vt+=e;if(k)for(K=O;K<=C;++K){W=r+K*o,ut=0;t:for(j=0;j<i;++j){if(et=f[W]-_t[ut],et!==0)break t;ut+=b,W+=A}if(et!==0)if(et<0){if(K!==O)for(at=o*K,rt=o*O,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,$=f[W],f[W]=f[Z],f[Z]=$,vt+=e;++O}else for(;;){W=r+C*o,ut=0;t:for(j=0;j<i;++j){if(et=f[W]-_t[ut],et!==0)break t;ut+=b,W+=A}if(et>0)C--;else if(et<0){for(at=o*K,rt=o*O,st=o*C,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,J=st+vt,$=f[W],f[W]=f[Z],f[Z]=f[J],f[J]=$,vt+=e;++O,--C;break}else{for(at=o*K,rt=o*C,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,$=f[W],f[W]=f[Z],f[Z]=$,vt+=e;--C;break}}}else for(K=O;K<=C;++K){W=r+K*o,ut=0;t:for(j=0;j<i;++j){if(tt=f[W]-_t[ut],tt!==0)break t;ut+=b,W+=A}if(tt<0){if(K!==O)for(at=o*K,rt=o*O,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,$=f[W],f[W]=f[Z],f[Z]=$,vt+=e;++O}else{W=r+K*o,ut=0;t:for(j=0;j<i;++j){if(it=f[W]-Pt[ut],it!==0)break t;ut+=b,W+=A}if(it>0)for(;;){W=r+C*o,ut=0;t:for(j=0;j<i;++j){if(et=f[W]-Pt[ut],et!==0)break t;ut+=b,W+=A}if(et>0){if(--C<K)break;continue}else{W=r+C*o,ut=0;t:for(j=0;j<i;++j){if(et=f[W]-_t[ut],et!==0)break t;ut+=b,W+=A}if(et<0){for(at=o*K,rt=o*O,st=o*C,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,J=st+vt,$=f[W],f[W]=f[Z],f[Z]=f[J],f[J]=$,vt+=e;++O,--C}else{for(at=o*K,rt=o*C,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,$=f[W],f[W]=f[Z],f[Z]=$,vt+=e;--C}break}}}}for(at=o*g,rt=o*(O-1),ut=0,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,f[W]=f[Z],f[Z]=_t[ut],++ut,vt+=e;for(at=o*h,rt=o*(C+1),ut=0,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,f[W]=f[Z],f[Z]=Pt[ut],++ut,vt+=e;if(O-2-g<=32?E(g,O-2,f,r,o,n,t,i,e,A,b):p(g,O-2,f,r,o,n,t,i,e,A,b),h-(C+2)<=32?E(C+2,h,f,r,o,n,t,i,e,A,b):p(C+2,h,f,r,o,n,t,i,e,A,b),k){s(_t),s(Pt);return}if(O<m&&C>S){t:for(;;){for(W=r+O*o,ut=0,vt=r,j=0;j<i;++j){if(f[W]!==_t[ut])break t;++ut,W+=e}++O}t:for(;;){for(W=r+C*o,ut=0,vt=r,j=0;j<i;++j){if(f[W]!==Pt[ut])break t;++ut,W+=e}--C}for(K=O;K<=C;++K){W=r+K*o,ut=0;t:for(j=0;j<i;++j){if(tt=f[W]-_t[ut],tt!==0)break t;ut+=b,W+=A}if(tt===0){if(K!==O)for(at=o*K,rt=o*O,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,$=f[W],f[W]=f[Z],f[Z]=$,vt+=e;++O}else{W=r+K*o,ut=0;t:for(j=0;j<i;++j){if(it=f[W]-Pt[ut],it!==0)break t;ut+=b,W+=A}if(it===0)for(;;){W=r+C*o,ut=0;t:for(j=0;j<i;++j){if(et=f[W]-Pt[ut],et!==0)break t;ut+=b,W+=A}if(et===0){if(--C<K)break;continue}else{W=r+C*o,ut=0;t:for(j=0;j<i;++j){if(et=f[W]-_t[ut],et!==0)break t;ut+=b,W+=A}if(et<0){for(at=o*K,rt=o*O,st=o*C,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,J=st+vt,$=f[W],f[W]=f[Z],f[Z]=f[J],f[J]=$,vt+=e;++O,--C}else{for(at=o*K,rt=o*C,vt=r,j=0;j<i;++j)W=at+vt,Z=rt+vt,$=f[W],f[W]=f[Z],f[Z]=$,vt+=e;--C}break}}}}}s(_t),s(Pt),C-O<=32?E(O,C,f,r,o,n,t,i,e,A,b):p(O,C,f,r,o,n,t,i,e,A,b)}}};function T(E,w,s){var p=M(w),g=[w,E].join(","),h=c[g];return E.length>1&&p?h(s,p[0],p[1]):h(s)}var R={"uint32,1,0":function(E,w){return function(s){var p=s.data,g=s.offset|0,h=s.shape,f=s.stride,r=f[0]|0,o=h[0]|0,n=f[1]|0,t=h[1]|0,i=n,e=n,A=1;o<=32?E(0,o-1,p,g,r,n,o,t,i,e,A):w(0,o-1,p,g,r,n,o,t,i,e,A)}}};function v(E,w){var s=[w,E].join(","),p=R[s],g=y(E,w),h=T(E,w,g);return p(g,h)}B.exports=v},446:function(B,L,a){var d=a(7640),M={};function l(y){var c=y.order,T=y.dtype,R=[c,T],v=R.join(":"),E=M[v];return E||(M[v]=E=d(c,T)),E(y),y}B.exports=l},9618:function(B,L,a){var d=a(7163),M=typeof Float64Array<"u";function l(w,s){return w[0]-s[0]}function y(){var w=this.stride,s=new Array(w.length),p;for(p=0;p<s.length;++p)s[p]=[Math.abs(w[p]),p];s.sort(l);var g=new Array(s.length);for(p=0;p<g.length;++p)g[p]=s[p][1];return g}var c={T:function(w){function s(g){this.data=g}var p=s.prototype;return p.dtype=w,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new s(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(h){return new s(h)}},0:function(w,s){function p(h,f){this.data=h,this.offset=f}var g=p.prototype;return g.dtype=w,g.index=function(){return this.offset},g.dimension=0,g.size=1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new p(this.data,this.offset)},g.pick=function(){return s(this.data)},g.valueOf=g.get=function(){return w==="generic"?this.data.get(this.offset):this.data[this.offset]},g.set=function(f){return w==="generic"?this.data.set(this.offset,f):this.data[this.offset]=f},function(f,r,o,n){return new p(f,n)}},1:function(w,s,p){function g(f,r,o,n){this.data=f,this.shape=[r],this.stride=[o],this.offset=n|0}var h=g.prototype;return h.dtype=w,h.dimension=1,Object.defineProperty(h,"size",{get:function(){return this.shape[0]}}),h.order=[0],h.set=function(r,o){return w==="generic"?this.data.set(this.offset+this.stride[0]*r,o):this.data[this.offset+this.stride[0]*r]=o},h.get=function(r){return w==="generic"?this.data.get(this.offset+this.stride[0]*r):this.data[this.offset+this.stride[0]*r]},h.index=function(r){return this.offset+this.stride[0]*r},h.hi=function(r){return new g(this.data,typeof r!="number"||r<0?this.shape[0]:r|0,this.stride[0],this.offset)},h.lo=function(r){var o=this.offset,n=0,t=this.shape[0],i=this.stride[0];return typeof r=="number"&&r>=0&&(n=r|0,o+=i*n,t-=n),new g(this.data,t,i,o)},h.step=function(r){var o=this.shape[0],n=this.stride[0],t=this.offset,i=0,e=Math.ceil;return typeof r=="number"&&(i=r|0,i<0?(t+=n*(o-1),o=e(-o/i)):o=e(o/i),n*=i),new g(this.data,o,n,t)},h.transpose=function(r){r=r===void 0?0:r|0;var o=this.shape,n=this.stride;return new g(this.data,o[r],n[r],this.offset)},h.pick=function(r){var o=[],n=[],t=this.offset;typeof r=="number"&&r>=0?t=t+this.stride[0]*r|0:(o.push(this.shape[0]),n.push(this.stride[0]));var i=s[o.length+1];return i(this.data,o,n,t)},function(r,o,n,t){return new g(r,o[0],n[0],t)}},2:function(w,s,p){function g(f,r,o,n,t,i){this.data=f,this.shape=[r,o],this.stride=[n,t],this.offset=i|0}var h=g.prototype;return h.dtype=w,h.dimension=2,Object.defineProperty(h,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(h,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),h.set=function(r,o,n){return w==="generic"?this.data.set(this.offset+this.stride[0]*r+this.stride[1]*o,n):this.data[this.offset+this.stride[0]*r+this.stride[1]*o]=n},h.get=function(r,o){return w==="generic"?this.data.get(this.offset+this.stride[0]*r+this.stride[1]*o):this.data[this.offset+this.stride[0]*r+this.stride[1]*o]},h.index=function(r,o){return this.offset+this.stride[0]*r+this.stride[1]*o},h.hi=function(r,o){return new g(this.data,typeof r!="number"||r<0?this.shape[0]:r|0,typeof o!="number"||o<0?this.shape[1]:o|0,this.stride[0],this.stride[1],this.offset)},h.lo=function(r,o){var n=this.offset,t=0,i=this.shape[0],e=this.shape[1],A=this.stride[0],b=this.stride[1];return typeof r=="number"&&r>=0&&(t=r|0,n+=A*t,i-=t),typeof o=="number"&&o>=0&&(t=o|0,n+=b*t,e-=t),new g(this.data,i,e,A,b,n)},h.step=function(r,o){var n=this.shape[0],t=this.shape[1],i=this.stride[0],e=this.stride[1],A=this.offset,b=0,x=Math.ceil;return typeof r=="number"&&(b=r|0,b<0?(A+=i*(n-1),n=x(-n/b)):n=x(n/b),i*=b),typeof o=="number"&&(b=o|0,b<0?(A+=e*(t-1),t=x(-t/b)):t=x(t/b),e*=b),new g(this.data,n,t,i,e,A)},h.transpose=function(r,o){r=r===void 0?0:r|0,o=o===void 0?1:o|0;var n=this.shape,t=this.stride;return new g(this.data,n[r],n[o],t[r],t[o],this.offset)},h.pick=function(r,o){var n=[],t=[],i=this.offset;typeof r=="number"&&r>=0?i=i+this.stride[0]*r|0:(n.push(this.shape[0]),t.push(this.stride[0])),typeof o=="number"&&o>=0?i=i+this.stride[1]*o|0:(n.push(this.shape[1]),t.push(this.stride[1]));var e=s[n.length+1];return e(this.data,n,t,i)},function(r,o,n,t){return new g(r,o[0],o[1],n[0],n[1],t)}},3:function(w,s,p){function g(f,r,o,n,t,i,e,A){this.data=f,this.shape=[r,o,n],this.stride=[t,i,e],this.offset=A|0}var h=g.prototype;return h.dtype=w,h.dimension=3,Object.defineProperty(h,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(h,"order",{get:function(){var r=Math.abs(this.stride[0]),o=Math.abs(this.stride[1]),n=Math.abs(this.stride[2]);return r>o?o>n?[2,1,0]:r>n?[1,2,0]:[1,0,2]:r>n?[2,0,1]:n>o?[0,1,2]:[0,2,1]}}),h.set=function(r,o,n,t){return w==="generic"?this.data.set(this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n,t):this.data[this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n]=t},h.get=function(r,o,n){return w==="generic"?this.data.get(this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n):this.data[this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n]},h.index=function(r,o,n){return this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n},h.hi=function(r,o,n){return new g(this.data,typeof r!="number"||r<0?this.shape[0]:r|0,typeof o!="number"||o<0?this.shape[1]:o|0,typeof n!="number"||n<0?this.shape[2]:n|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},h.lo=function(r,o,n){var t=this.offset,i=0,e=this.shape[0],A=this.shape[1],b=this.shape[2],x=this.stride[0],m=this.stride[1],S=this.stride[2];return typeof r=="number"&&r>=0&&(i=r|0,t+=x*i,e-=i),typeof o=="number"&&o>=0&&(i=o|0,t+=m*i,A-=i),typeof n=="number"&&n>=0&&(i=n|0,t+=S*i,b-=i),new g(this.data,e,A,b,x,m,S,t)},h.step=function(r,o,n){var t=this.shape[0],i=this.shape[1],e=this.shape[2],A=this.stride[0],b=this.stride[1],x=this.stride[2],m=this.offset,S=0,_=Math.ceil;return typeof r=="number"&&(S=r|0,S<0?(m+=A*(t-1),t=_(-t/S)):t=_(t/S),A*=S),typeof o=="number"&&(S=o|0,S<0?(m+=b*(i-1),i=_(-i/S)):i=_(i/S),b*=S),typeof n=="number"&&(S=n|0,S<0?(m+=x*(e-1),e=_(-e/S)):e=_(e/S),x*=S),new g(this.data,t,i,e,A,b,x,m)},h.transpose=function(r,o,n){r=r===void 0?0:r|0,o=o===void 0?1:o|0,n=n===void 0?2:n|0;var t=this.shape,i=this.stride;return new g(this.data,t[r],t[o],t[n],i[r],i[o],i[n],this.offset)},h.pick=function(r,o,n){var t=[],i=[],e=this.offset;typeof r=="number"&&r>=0?e=e+this.stride[0]*r|0:(t.push(this.shape[0]),i.push(this.stride[0])),typeof o=="number"&&o>=0?e=e+this.stride[1]*o|0:(t.push(this.shape[1]),i.push(this.stride[1])),typeof n=="number"&&n>=0?e=e+this.stride[2]*n|0:(t.push(this.shape[2]),i.push(this.stride[2]));var A=s[t.length+1];return A(this.data,t,i,e)},function(r,o,n,t){return new g(r,o[0],o[1],o[2],n[0],n[1],n[2],t)}},4:function(w,s,p){function g(f,r,o,n,t,i,e,A,b,x){this.data=f,this.shape=[r,o,n,t],this.stride=[i,e,A,b],this.offset=x|0}var h=g.prototype;return h.dtype=w,h.dimension=4,Object.defineProperty(h,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(h,"order",{get:p}),h.set=function(r,o,n,t,i){return w==="generic"?this.data.set(this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n+this.stride[3]*t,i):this.data[this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n+this.stride[3]*t]=i},h.get=function(r,o,n,t){return w==="generic"?this.data.get(this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n+this.stride[3]*t):this.data[this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n+this.stride[3]*t]},h.index=function(r,o,n,t){return this.offset+this.stride[0]*r+this.stride[1]*o+this.stride[2]*n+this.stride[3]*t},h.hi=function(r,o,n,t){return new g(this.data,typeof r!="number"||r<0?this.shape[0]:r|0,typeof o!="number"||o<0?this.shape[1]:o|0,typeof n!="number"||n<0?this.shape[2]:n|0,typeof t!="number"||t<0?this.shape[3]:t|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},h.lo=function(r,o,n,t){var i=this.offset,e=0,A=this.shape[0],b=this.shape[1],x=this.shape[2],m=this.shape[3],S=this.stride[0],_=this.stride[1],u=this.stride[2],I=this.stride[3];return typeof r=="number"&&r>=0&&(e=r|0,i+=S*e,A-=e),typeof o=="number"&&o>=0&&(e=o|0,i+=_*e,b-=e),typeof n=="number"&&n>=0&&(e=n|0,i+=u*e,x-=e),typeof t=="number"&&t>=0&&(e=t|0,i+=I*e,m-=e),new g(this.data,A,b,x,m,S,_,u,I,i)},h.step=function(r,o,n,t){var i=this.shape[0],e=this.shape[1],A=this.shape[2],b=this.shape[3],x=this.stride[0],m=this.stride[1],S=this.stride[2],_=this.stride[3],u=this.offset,I=0,F=Math.ceil;return typeof r=="number"&&(I=r|0,I<0?(u+=x*(i-1),i=F(-i/I)):i=F(i/I),x*=I),typeof o=="number"&&(I=o|0,I<0?(u+=m*(e-1),e=F(-e/I)):e=F(e/I),m*=I),typeof n=="number"&&(I=n|0,I<0?(u+=S*(A-1),A=F(-A/I)):A=F(A/I),S*=I),typeof t=="number"&&(I=t|0,I<0?(u+=_*(b-1),b=F(-b/I)):b=F(b/I),_*=I),new g(this.data,i,e,A,b,x,m,S,_,u)},h.transpose=function(r,o,n,t){r=r===void 0?0:r|0,o=o===void 0?1:o|0,n=n===void 0?2:n|0,t=t===void 0?3:t|0;var i=this.shape,e=this.stride;return new g(this.data,i[r],i[o],i[n],i[t],e[r],e[o],e[n],e[t],this.offset)},h.pick=function(r,o,n,t){var i=[],e=[],A=this.offset;typeof r=="number"&&r>=0?A=A+this.stride[0]*r|0:(i.push(this.shape[0]),e.push(this.stride[0])),typeof o=="number"&&o>=0?A=A+this.stride[1]*o|0:(i.push(this.shape[1]),e.push(this.stride[1])),typeof n=="number"&&n>=0?A=A+this.stride[2]*n|0:(i.push(this.shape[2]),e.push(this.stride[2])),typeof t=="number"&&t>=0?A=A+this.stride[3]*t|0:(i.push(this.shape[3]),e.push(this.stride[3]));var b=s[i.length+1];return b(this.data,i,e,A)},function(r,o,n,t){return new g(r,o[0],o[1],o[2],o[3],n[0],n[1],n[2],n[3],t)}},5:function(s,p,g){function h(r,o,n,t,i,e,A,b,x,m,S,_){this.data=r,this.shape=[o,n,t,i,e],this.stride=[A,b,x,m,S],this.offset=_|0}var f=h.prototype;return f.dtype=s,f.dimension=5,Object.defineProperty(f,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(f,"order",{get:g}),f.set=function(o,n,t,i,e,A){return s==="generic"?this.data.set(this.offset+this.stride[0]*o+this.stride[1]*n+this.stride[2]*t+this.stride[3]*i+this.stride[4]*e,A):this.data[this.offset+this.stride[0]*o+this.stride[1]*n+this.stride[2]*t+this.stride[3]*i+this.stride[4]*e]=A},f.get=function(o,n,t,i,e){return s==="generic"?this.data.get(this.offset+this.stride[0]*o+this.stride[1]*n+this.stride[2]*t+this.stride[3]*i+this.stride[4]*e):this.data[this.offset+this.stride[0]*o+this.stride[1]*n+this.stride[2]*t+this.stride[3]*i+this.stride[4]*e]},f.index=function(o,n,t,i,e){return this.offset+this.stride[0]*o+this.stride[1]*n+this.stride[2]*t+this.stride[3]*i+this.stride[4]*e},f.hi=function(o,n,t,i,e){return new h(this.data,typeof o!="number"||o<0?this.shape[0]:o|0,typeof n!="number"||n<0?this.shape[1]:n|0,typeof t!="number"||t<0?this.shape[2]:t|0,typeof i!="number"||i<0?this.shape[3]:i|0,typeof e!="number"||e<0?this.shape[4]:e|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},f.lo=function(o,n,t,i,e){var A=this.offset,b=0,x=this.shape[0],m=this.shape[1],S=this.shape[2],_=this.shape[3],u=this.shape[4],I=this.stride[0],F=this.stride[1],P=this.stride[2],D=this.stride[3],V=this.stride[4];return typeof o=="number"&&o>=0&&(b=o|0,A+=I*b,x-=b),typeof n=="number"&&n>=0&&(b=n|0,A+=F*b,m-=b),typeof t=="number"&&t>=0&&(b=t|0,A+=P*b,S-=b),typeof i=="number"&&i>=0&&(b=i|0,A+=D*b,_-=b),typeof e=="number"&&e>=0&&(b=e|0,A+=V*b,u-=b),new h(this.data,x,m,S,_,u,I,F,P,D,V,A)},f.step=function(o,n,t,i,e){var A=this.shape[0],b=this.shape[1],x=this.shape[2],m=this.shape[3],S=this.shape[4],_=this.stride[0],u=this.stride[1],I=this.stride[2],F=this.stride[3],P=this.stride[4],D=this.offset,V=0,H=Math.ceil;return typeof o=="number"&&(V=o|0,V<0?(D+=_*(A-1),A=H(-A/V)):A=H(A/V),_*=V),typeof n=="number"&&(V=n|0,V<0?(D+=u*(b-1),b=H(-b/V)):b=H(b/V),u*=V),typeof t=="number"&&(V=t|0,V<0?(D+=I*(x-1),x=H(-x/V)):x=H(x/V),I*=V),typeof i=="number"&&(V=i|0,V<0?(D+=F*(m-1),m=H(-m/V)):m=H(m/V),F*=V),typeof e=="number"&&(V=e|0,V<0?(D+=P*(S-1),S=H(-S/V)):S=H(S/V),P*=V),new h(this.data,A,b,x,m,S,_,u,I,F,P,D)},f.transpose=function(o,n,t,i,e){o=o===void 0?0:o|0,n=n===void 0?1:n|0,t=t===void 0?2:t|0,i=i===void 0?3:i|0,e=e===void 0?4:e|0;var A=this.shape,b=this.stride;return new h(this.data,A[o],A[n],A[t],A[i],A[e],b[o],b[n],b[t],b[i],b[e],this.offset)},f.pick=function(o,n,t,i,e){var A=[],b=[],x=this.offset;typeof o=="number"&&o>=0?x=x+this.stride[0]*o|0:(A.push(this.shape[0]),b.push(this.stride[0])),typeof n=="number"&&n>=0?x=x+this.stride[1]*n|0:(A.push(this.shape[1]),b.push(this.stride[1])),typeof t=="number"&&t>=0?x=x+this.stride[2]*t|0:(A.push(this.shape[2]),b.push(this.stride[2])),typeof i=="number"&&i>=0?x=x+this.stride[3]*i|0:(A.push(this.shape[3]),b.push(this.stride[3])),typeof e=="number"&&e>=0?x=x+this.stride[4]*e|0:(A.push(this.shape[4]),b.push(this.stride[4]));var m=p[A.length+1];return m(this.data,A,b,x)},function(o,n,t,i){return new h(o,n[0],n[1],n[2],n[3],n[4],t[0],t[1],t[2],t[3],t[4],i)}}};function T(w,s){var p=s===-1?"T":String(s),g=c[p];return s===-1?g(w):s===0?g(w,v[w][0]):g(w,v[w],y)}function R(w){if(d(w))return"buffer";if(M)switch(Object.prototype.toString.call(w)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(w)?"array":"generic"}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function E(w,s,p,g){if(w===void 0){var t=v.array[0];return t([])}else typeof w=="number"&&(w=[w]);s===void 0&&(s=[w.length]);var h=s.length;if(p===void 0){p=new Array(h);for(var f=h-1,r=1;f>=0;--f)p[f]=r,r*=s[f]}if(g===void 0){g=0;for(var f=0;f<h;++f)p[f]<0&&(g-=(s[f]-1)*p[f])}for(var o=R(w),n=v[o];n.length<=h+1;)n.push(T(o,n.length-1));var t=n[h+1];return t(w,s,p,g)}B.exports=E},1278:function(B,L,a){var d=a(2361),M=Math.pow(2,-1074),l=-1>>>0;B.exports=y;function y(c,T){if(isNaN(c)||isNaN(T))return NaN;if(c===T)return c;if(c===0)return T<0?-M:M;var R=d.hi(c),v=d.lo(c);return T>c==c>0?v===l?(R+=1,v=0):v+=1:v===0?(v=l,R-=1):v-=1,d.pack(v,R)}},8406:function(B,L){var a=1e-6,d=1e-6;L.vertexNormals=function(M,l,y){for(var c=l.length,T=new Array(c),R=y===void 0?a:y,v=0;v<c;++v)T[v]=[0,0,0];for(var v=0;v<M.length;++v)for(var E=M[v],w=0,s=E[E.length-1],p=E[0],g=0;g<E.length;++g){w=s,s=p,p=E[(g+1)%E.length];for(var h=l[w],f=l[s],r=l[p],o=new Array(3),n=0,t=new Array(3),i=0,e=0;e<3;++e)o[e]=h[e]-f[e],n+=o[e]*o[e],t[e]=r[e]-f[e],i+=t[e]*t[e];if(n*i>R)for(var A=T[s],b=1/Math.sqrt(n*i),e=0;e<3;++e){var x=(e+1)%3,m=(e+2)%3;A[e]+=b*(t[x]*o[m]-t[m]*o[x])}}for(var v=0;v<c;++v){for(var A=T[v],S=0,e=0;e<3;++e)S+=A[e]*A[e];if(S>R)for(var b=1/Math.sqrt(S),e=0;e<3;++e)A[e]*=b;else for(var e=0;e<3;++e)A[e]=0}return T},L.faceNormals=function(M,l,y){for(var c=M.length,T=new Array(c),R=y===void 0?d:y,v=0;v<c;++v){for(var E=M[v],w=new Array(3),s=0;s<3;++s)w[s]=l[E[s]];for(var p=new Array(3),g=new Array(3),s=0;s<3;++s)p[s]=w[1][s]-w[0][s],g[s]=w[2][s]-w[0][s];for(var h=new Array(3),f=0,s=0;s<3;++s){var r=(s+1)%3,o=(s+2)%3;h[s]=p[r]*g[o]-p[o]*g[r],f+=h[s]*h[s]}f>R?f=1/Math.sqrt(f):f=0;for(var s=0;s<3;++s)h[s]*=f;T[v]=h}return T}},4081:function(B){B.exports=L;function L(a,d,M,l,y,c,T,R,v,E){var w=d+c+E;if(s>0){var s=Math.sqrt(w+1);a[0]=.5*(T-v)/s,a[1]=.5*(R-l)/s,a[2]=.5*(M-c)/s,a[3]=.5*s}else{var p=Math.max(d,c,E),s=Math.sqrt(2*p-w+1);d>=p?(a[0]=.5*s,a[1]=.5*(y+M)/s,a[2]=.5*(R+l)/s,a[3]=.5*(T-v)/s):c>=p?(a[0]=.5*(M+y)/s,a[1]=.5*s,a[2]=.5*(v+T)/s,a[3]=.5*(R-l)/s):(a[0]=.5*(l+R)/s,a[1]=.5*(T+v)/s,a[2]=.5*s,a[3]=.5*(M-y)/s)}return a}},9977:function(B,L,a){B.exports=s;var d=a(9215),M=a(6582),l=a(7399),y=a(7608),c=a(4081);function T(p,g,h){return Math.sqrt(Math.pow(p,2)+Math.pow(g,2)+Math.pow(h,2))}function R(p,g,h,f){return Math.sqrt(Math.pow(p,2)+Math.pow(g,2)+Math.pow(h,2)+Math.pow(f,2))}function v(p,g){var h=g[0],f=g[1],r=g[2],o=g[3],n=R(h,f,r,o);n>1e-6?(p[0]=h/n,p[1]=f/n,p[2]=r/n,p[3]=o/n):(p[0]=p[1]=p[2]=0,p[3]=1)}function E(p,g,h){this.radius=d([h]),this.center=d(g),this.rotation=d(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var w=E.prototype;w.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},w.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var g=this.computedRotation;v(g,g);var h=this.computedMatrix;l(h,g);var f=this.computedCenter,r=this.computedEye,o=this.computedUp,n=Math.exp(this.computedRadius[0]);r[0]=f[0]+n*h[2],r[1]=f[1]+n*h[6],r[2]=f[2]+n*h[10],o[0]=h[1],o[1]=h[5],o[2]=h[9];for(var t=0;t<3;++t){for(var i=0,e=0;e<3;++e)i+=h[t+4*e]*r[e];h[12+t]=-i}},w.getMatrix=function(p,g){this.recalcMatrix(p);var h=this.computedMatrix;if(g){for(var f=0;f<16;++f)g[f]=h[f];return g}return h},w.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},w.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},w.pan=function(p,g,h,f){g=g||0,h=h||0,f=f||0,this.recalcMatrix(p);var r=this.computedMatrix,o=r[1],n=r[5],t=r[9],i=T(o,n,t);o/=i,n/=i,t/=i;var e=r[0],A=r[4],b=r[8],x=e*o+A*n+b*t;e-=o*x,A-=n*x,b-=t*x;var m=T(e,A,b);e/=m,A/=m,b/=m,r[2],r[6],r[10];var S=e*g+o*h,_=A*g+n*h,u=b*g+t*h;this.center.move(p,S,_,u);var I=Math.exp(this.computedRadius[0]);I=Math.max(1e-4,I+f),this.radius.set(p,Math.log(I))},w.rotate=function(p,g,h,f){this.recalcMatrix(p),g=g||0,h=h||0;var r=this.computedMatrix,o=r[0],n=r[4],t=r[8],i=r[1],e=r[5],A=r[9],b=r[2],x=r[6],m=r[10],S=g*o+h*i,_=g*n+h*e,u=g*t+h*A,I=-(x*u-m*_),F=-(m*S-b*u),P=-(b*_-x*S),D=Math.sqrt(Math.max(0,1-Math.pow(I,2)-Math.pow(F,2)-Math.pow(P,2))),V=R(I,F,P,D);V>1e-6?(I/=V,F/=V,P/=V,D/=V):(I=F=P=0,D=1);var H=this.computedRotation,O=H[0],C=H[1],k=H[2],$=H[3],z=O*D+$*I+C*P-k*F,Y=C*D+$*F+k*I-O*P,G=k*D+$*P+O*F-C*I,X=$*D-O*I-C*F-k*P;if(f){I=b,F=x,P=m;var K=Math.sin(f)/T(I,F,P);I*=K,F*=K,P*=K,D=Math.cos(g),z=z*D+X*I+Y*P-G*F,Y=Y*D+X*F+G*I-z*P,G=G*D+X*P+z*F-Y*I,X=X*D-z*I-Y*F-G*P}var W=R(z,Y,G,X);W>1e-6?(z/=W,Y/=W,G/=W,X/=W):(z=Y=G=0,X=1),this.rotation.set(p,z,Y,G,X)},w.lookAt=function(p,g,h,f){this.recalcMatrix(p),h=h||this.computedCenter,g=g||this.computedEye,f=f||this.computedUp;var r=this.computedMatrix;M(r,g,h,f);var o=this.computedRotation;c(o,r[0],r[1],r[2],r[4],r[5],r[6],r[8],r[9],r[10]),v(o,o),this.rotation.set(p,o[0],o[1],o[2],o[3]);for(var n=0,t=0;t<3;++t)n+=Math.pow(h[t]-g[t],2);this.radius.set(p,.5*Math.log(Math.max(n,1e-6))),this.center.set(p,h[0],h[1],h[2])},w.translate=function(p,g,h,f){this.center.move(p,g||0,h||0,f||0)},w.setMatrix=function(p,g){var h=this.computedRotation;c(h,g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]),v(h,h),this.rotation.set(p,h[0],h[1],h[2],h[3]);var f=this.computedMatrix;y(f,g);var r=f[15];if(Math.abs(r)>1e-6){var o=f[12]/r,n=f[13]/r,t=f[14]/r;this.recalcMatrix(p);var i=Math.exp(this.computedRadius[0]);this.center.set(p,o-f[2]*i,n-f[6]*i,t-f[10]*i),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},w.setDistance=function(p,g){g>0&&this.radius.set(p,Math.log(g))},w.setDistanceLimits=function(p,g){p>0?p=Math.log(p):p=-1/0,g>0?g=Math.log(g):g=1/0,g=Math.max(g,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=g},w.getDistanceLimits=function(p){var g=this.radius.bounds;return p?(p[0]=Math.exp(g[0][0]),p[1]=Math.exp(g[1][0]),p):[Math.exp(g[0][0]),Math.exp(g[1][0])]},w.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},w.fromJSON=function(p){var g=this.lastT(),h=p.center;h&&this.center.set(g,h[0],h[1],h[2]);var f=p.rotation;f&&this.rotation.set(g,f[0],f[1],f[2],f[3]);var r=p.distance;r&&r>0&&this.radius.set(g,Math.log(r)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function s(p){p=p||{};var g=p.center||[0,0,0],h=p.rotation||[0,0,0,1],f=p.radius||1;g=[].slice.call(g,0,3),h=[].slice.call(h,0,4),v(h,h);var r=new E(h,g,Math.log(f));return r.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&r.lookAt(0,p.eye,p.center,p.up),r}},1371:function(B,L,a){/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */var d=a(3233);B.exports=function(l,y,c){return c=typeof c<"u"?c+"":" ",d(c,y)+l}},3202:function(B){B.exports=function(a,d){d||(d=[0,""]),a=String(a);var M=parseFloat(a,10);return d[0]=M,d[1]=a.match(/[\d.\-\+]*\s*(.*)/)[1]||"",d}},3088:function(B,L,a){B.exports=M;var d=a(3140);function M(l,y){for(var c=y.length|0,T=l.length,R=[new Array(c),new Array(c)],v=0;v<c;++v)R[0][v]=[],R[1][v]=[];for(var v=0;v<T;++v){var E=l[v];R[0][E[0]].push(E),R[1][E[1]].push(E)}for(var w=[],v=0;v<c;++v)R[0][v].length+R[1][v].length===0&&w.push([v]);function s(n,t){var i=R[t][n[t]];i.splice(i.indexOf(n),1)}function p(n,t,i){for(var e,A,b,x=0;x<2;++x)if(R[x][t].length>0){e=R[x][t][0],b=x;break}A=e[b^1];for(var m=0;m<2;++m)for(var S=R[m][t],_=0;_<S.length;++_){var u=S[_],I=u[m^1],F=d(y[n],y[t],y[A],y[I]);F>0&&(e=u,A=I,b=m)}return i||e&&s(e,b),A}function g(n,t){var i=R[t][n][0],e=[n];s(i,t);for(var A=i[t^1];;){for(;A!==n;)e.push(A),A=p(e[e.length-2],A,!1);if(R[0][n].length+R[1][n].length===0)break;var b=e[e.length-1],x=n,m=e[1],S=p(b,x,!0);if(d(y[b],y[x],y[m],y[S])<0)break;e.push(n),A=p(b,x)}return e}function h(n,t){return t[1]===t[t.length-1]}for(var v=0;v<c;++v)for(var f=0;f<2;++f){for(var r=[];R[f][v].length>0;){R[0][v].length;var o=g(v,f);h(r,o)?r.push.apply(r,o):(r.length>0&&w.push(r),r=o)}r.length>0&&w.push(r)}return w}},5609:function(B,L,a){B.exports=M;var d=a(3134);function M(l,y){for(var c=d(l,y.length),T=new Array(y.length),R=new Array(y.length),v=[],E=0;E<y.length;++E){var w=c[E].length;R[E]=w,T[E]=!0,w<=1&&v.push(E)}for(;v.length>0;){var s=v.pop();T[s]=!1;for(var p=c[s],E=0;E<p.length;++E){var g=p[E];--R[g]===0&&v.push(g)}}for(var h=new Array(y.length),f=[],E=0;E<y.length;++E)if(T[E]){var s=f.length;h[E]=s,f.push(y[E])}else h[E]=-1;for(var r=[],E=0;E<l.length;++E){var o=l[E];T[o[0]]&&T[o[1]]&&r.push([h[o[0]],h[o[1]]])}return[r,f]}},2095:function(B,L,a){B.exports=w;var d=a(3134),M=a(3088),l=a(5085),y=a(5250),c=a(8210),T=a(1682),R=a(5609);function v(s,p){for(var g=new Array(s),h=0;h<s;++h)g[h]=p;return g}function E(s){for(var p=new Array(s),g=0;g<s;++g)p[g]=[];return p}function w(s,p){var X=R(s,p);s=X[0],p=X[1];var g=p.length;s.length;for(var h=d(s,p.length),f=0;f<g;++f)if(h[f].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var r=M(s,p);function o(et){for(var j=et.length,at=[0],rt=0;rt<j;++rt){var st=p[et[rt]],ot=p[et[(rt+1)%j]],ft=y(-st[0],st[1]),xt=y(-st[0],ot[1]),dt=y(ot[0],st[1]),ht=y(ot[0],ot[1]);at=c(at,c(c(ft,xt),c(dt,ht)))}return at[at.length-1]>0}r=r.filter(o);for(var n=r.length,t=new Array(n),i=new Array(n),f=0;f<n;++f){t[f]=f;var e=new Array(n),A=r[f].map(function(j){return p[j]}),b=l([A]),x=0;t:for(var m=0;m<n;++m)if(e[m]=0,f!==m){for(var S=r[m],_=S.length,u=0;u<_;++u){var I=b(p[S[u]]);if(I!==0){I<0&&(e[m]=1,x+=1);continue t}}e[m]=1,x+=1}i[f]=[x,f,e]}i.sort(function(et,j){return j[0]-et[0]});for(var f=0;f<n;++f)for(var e=i[f],F=e[1],P=e[2],m=0;m<n;++m)P[m]&&(t[m]=F);for(var D=E(n),f=0;f<n;++f)D[f].push(t[f]),D[t[f]].push(f);for(var V={},H=v(g,!1),f=0;f<n;++f)for(var S=r[f],_=S.length,m=0;m<_;++m){var O=S[m],C=S[(m+1)%_],k=Math.min(O,C)+":"+Math.max(O,C);if(k in V){var $=V[k];D[$].push(f),D[f].push($),H[O]=H[C]=!0}else V[k]=f}function z(et){for(var j=et.length,at=0;at<j;++at)if(!H[et[at]])return!1;return!0}for(var Y=[],G=v(n,-1),f=0;f<n;++f)t[f]===f&&!z(r[f])?(Y.push(f),G[f]=0):G[f]=-1;for(var X=[];Y.length>0;){var K=Y.pop(),W=D[K];T(W,function(et,j){return et-j});var Z=W.length,J=G[K],tt;if(J===0){var S=r[K];tt=[S]}for(var f=0;f<Z;++f){var it=W[f];if(!(G[it]>=0)&&(G[it]=J^1,Y.push(it),J===0)){var S=r[it];z(S)||(S.reverse(),tt.push(S))}}J===0&&X.push(tt)}return X}},5085:function(B,L,a){B.exports=p;var d=a(3250)[3],M=a(4209),l=a(3352),y=a(2478);function c(){return!0}function T(g){return function(h,f){var r=g[h];return r?!!r.queryPoint(f,c):!1}}function R(g){for(var h={},f=0;f<g.length;++f){var r=g[f],o=r[0][0],n=r[0][1],t=r[1][1],i=[Math.min(n,t),Math.max(n,t)];o in h?h[o].push(i):h[o]=[i]}for(var e={},A=Object.keys(h),f=0;f<A.length;++f){var b=h[A[f]];e[A[f]]=l(b)}return T(e)}function v(g,h){return function(f){var r=y.le(h,f[0]);if(r<0)return 1;var o=g[r];if(!o)if(r>0&&h[r]===f[0])o=g[r-1];else return 1;for(var n=1;o;){var t=o.key,i=d(f,t[0],t[1]);if(t[0][0]<t[1][0])if(i<0)o=o.left;else if(i>0)n=-1,o=o.right;else return 0;else if(i>0)o=o.left;else if(i<0)n=1,o=o.right;else return 0}return n}}function E(g){return 1}function w(g){return function(f){return g(f[0],f[1])?0:1}}function s(g,h){return function(r){return g(r[0],r[1])?0:h(r)}}function p(g){for(var h=g.length,f=[],r=[],o=0;o<h;++o)for(var n=g[o],t=n.length,i=t-1,e=0;e<t;i=e++){var A=n[i],b=n[e];A[0]===b[0]?r.push([A,b]):f.push([A,b])}if(f.length===0)return r.length===0?E:w(R(r));var x=M(f),m=v(x.slabs,x.coordinates);return r.length===0?m:s(R(r),m)}},9346:function(B){var L=new Float64Array(4),a=new Float64Array(4),d=new Float64Array(4);function M(l,y,c,T,R){L.length<T.length&&(L=new Float64Array(T.length),a=new Float64Array(T.length),d=new Float64Array(T.length));for(var v=0;v<T.length;++v)L[v]=l[v]-T[v],a[v]=y[v]-l[v],d[v]=c[v]-l[v];for(var E=0,w=0,s=0,p=0,g=0,h=0,v=0;v<T.length;++v){var f=a[v],r=d[v],o=L[v];E+=f*f,w+=f*r,s+=r*r,p+=o*f,g+=o*r,h+=o*o}var n=Math.abs(E*s-w*w),t=w*g-s*p,i=w*p-E*g,e;if(t+i<=n)if(t<0)i<0&&p<0?(i=0,-p>=E?(t=1,e=E+2*p+h):(t=-p/E,e=p*t+h)):(t=0,g>=0?(i=0,e=h):-g>=s?(i=1,e=s+2*g+h):(i=-g/s,e=g*i+h));else if(i<0)i=0,p>=0?(t=0,e=h):-p>=E?(t=1,e=E+2*p+h):(t=-p/E,e=p*t+h);else{var A=1/n;t*=A,i*=A,e=t*(E*t+w*i+2*p)+i*(w*t+s*i+2*g)+h}else{var b,x,m,S;t<0?(b=w+p,x=s+g,x>b?(m=x-b,S=E-2*w+s,m>=S?(t=1,i=0,e=E+2*p+h):(t=m/S,i=1-t,e=t*(E*t+w*i+2*p)+i*(w*t+s*i+2*g)+h)):(t=0,x<=0?(i=1,e=s+2*g+h):g>=0?(i=0,e=h):(i=-g/s,e=g*i+h))):i<0?(b=w+g,x=E+p,x>b?(m=x-b,S=E-2*w+s,m>=S?(i=1,t=0,e=s+2*g+h):(i=m/S,t=1-i,e=t*(E*t+w*i+2*p)+i*(w*t+s*i+2*g)+h)):(i=0,x<=0?(t=1,e=E+2*p+h):p>=0?(t=0,e=h):(t=-p/E,e=p*t+h))):(m=s+g-w-p,m<=0?(t=0,i=1,e=s+2*g+h):(S=E-2*w+s,m>=S?(t=1,i=0,e=E+2*p+h):(t=m/S,i=1-t,e=t*(E*t+w*i+2*p)+i*(w*t+s*i+2*g)+h)))}for(var _=1-t-i,v=0;v<T.length;++v)R[v]=_*l[v]+t*y[v]+i*c[v];return e<0?0:e}B.exports=M},8648:function(B,L,a){B.exports=a(783)},2653:function(B,L,a){var d=a(3865);B.exports=M;function M(l,y){for(var c=l.length,T=new Array(c),R=0;R<c;++R)T[R]=d(l[R],y[R]);return T}},5838:function(B,L,a){B.exports=M;var d=a(7842);function M(l){for(var y=new Array(l.length),c=0;c<l.length;++c)y[c]=d(l[c]);return y}},8987:function(B,L,a){var d=a(7842),M=a(6504);B.exports=l;function l(y,c){for(var T=d(c),R=y.length,v=new Array(R),E=0;E<R;++E)v[E]=M(y[E],T);return v}},544:function(B,L,a){var d=a(5572);B.exports=M;function M(l,y){for(var c=l.length,T=new Array(c),R=0;R<c;++R)T[R]=d(l[R],y[R]);return T}},5771:function(B,L,a){var d=a(8507),M=a(3788),l=a(2419);B.exports=y;function y(c){c.sort(M);for(var T=c.length,R=0,v=0;v<T;++v){var E=c[v],w=l(E);if(w!==0){if(R>0){var s=c[R-1];if(d(E,s)===0&&l(s)!==w){R-=1;continue}}c[R++]=E}}return c.length=R,c}},3233:function(B){/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var L="",a;B.exports=d;function d(M,l){if(typeof M!="string")throw new TypeError("expected a string");if(l===1)return M;if(l===2)return M+M;var y=M.length*l;if(a!==M||typeof a>"u")a=M,L="";else if(L.length>=y)return L.substr(0,y);for(;y>L.length&&l>1;)l&1&&(L+=M),l>>=1,M+=M;return L+=M,L=L.substr(0,y),L}},3025:function(B,L,a){B.exports=a.g.performance&&a.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(B){B.exports=L;function L(a){for(var d=a.length,M=a[a.length-1],l=d,y=d-2;y>=0;--y){var c=M,T=a[y];M=c+T;var R=M-c,v=T-R;v&&(a[--l]=M,M=v)}for(var E=0,y=l;y<d;++y){var c=a[y],T=M;M=c+T;var R=M-c,v=T-R;v&&(a[E++]=v)}return a[E++]=M,a.length=E,a}},2962:function(B,L,a){var d=a(5250),M=a(8210),l=a(3012),y=a(7004),c=6;function T(h,f,r,o){return function(t){return o(h(r(t[0][0],t[1][1]),r(-t[0][1],t[1][0])))}}function R(h,f,r,o){return function(t){return o(h(f(h(r(t[1][1],t[2][2]),r(-t[1][2],t[2][1])),t[0][0]),h(f(h(r(t[1][0],t[2][2]),r(-t[1][2],t[2][0])),-t[0][1]),f(h(r(t[1][0],t[2][1]),r(-t[1][1],t[2][0])),t[0][2]))))}}function v(h,f,r,o){return function(t){return o(h(h(f(h(f(h(r(t[2][2],t[3][3]),r(-t[2][3],t[3][2])),t[1][1]),h(f(h(r(t[2][1],t[3][3]),r(-t[2][3],t[3][1])),-t[1][2]),f(h(r(t[2][1],t[3][2]),r(-t[2][2],t[3][1])),t[1][3]))),t[0][0]),f(h(f(h(r(t[2][2],t[3][3]),r(-t[2][3],t[3][2])),t[1][0]),h(f(h(r(t[2][0],t[3][3]),r(-t[2][3],t[3][0])),-t[1][2]),f(h(r(t[2][0],t[3][2]),r(-t[2][2],t[3][0])),t[1][3]))),-t[0][1])),h(f(h(f(h(r(t[2][1],t[3][3]),r(-t[2][3],t[3][1])),t[1][0]),h(f(h(r(t[2][0],t[3][3]),r(-t[2][3],t[3][0])),-t[1][1]),f(h(r(t[2][0],t[3][1]),r(-t[2][1],t[3][0])),t[1][3]))),t[0][2]),f(h(f(h(r(t[2][1],t[3][2]),r(-t[2][2],t[3][1])),t[1][0]),h(f(h(r(t[2][0],t[3][2]),r(-t[2][2],t[3][0])),-t[1][1]),f(h(r(t[2][0],t[3][1]),r(-t[2][1],t[3][0])),t[1][2]))),-t[0][3]))))}}function E(h,f,r,o){return function(t){return o(h(h(f(h(h(f(h(f(h(r(t[3][3],t[4][4]),r(-t[3][4],t[4][3])),t[2][2]),h(f(h(r(t[3][2],t[4][4]),r(-t[3][4],t[4][2])),-t[2][3]),f(h(r(t[3][2],t[4][3]),r(-t[3][3],t[4][2])),t[2][4]))),t[1][1]),f(h(f(h(r(t[3][3],t[4][4]),r(-t[3][4],t[4][3])),t[2][1]),h(f(h(r(t[3][1],t[4][4]),r(-t[3][4],t[4][1])),-t[2][3]),f(h(r(t[3][1],t[4][3]),r(-t[3][3],t[4][1])),t[2][4]))),-t[1][2])),h(f(h(f(h(r(t[3][2],t[4][4]),r(-t[3][4],t[4][2])),t[2][1]),h(f(h(r(t[3][1],t[4][4]),r(-t[3][4],t[4][1])),-t[2][2]),f(h(r(t[3][1],t[4][2]),r(-t[3][2],t[4][1])),t[2][4]))),t[1][3]),f(h(f(h(r(t[3][2],t[4][3]),r(-t[3][3],t[4][2])),t[2][1]),h(f(h(r(t[3][1],t[4][3]),r(-t[3][3],t[4][1])),-t[2][2]),f(h(r(t[3][1],t[4][2]),r(-t[3][2],t[4][1])),t[2][3]))),-t[1][4]))),t[0][0]),f(h(h(f(h(f(h(r(t[3][3],t[4][4]),r(-t[3][4],t[4][3])),t[2][2]),h(f(h(r(t[3][2],t[4][4]),r(-t[3][4],t[4][2])),-t[2][3]),f(h(r(t[3][2],t[4][3]),r(-t[3][3],t[4][2])),t[2][4]))),t[1][0]),f(h(f(h(r(t[3][3],t[4][4]),r(-t[3][4],t[4][3])),t[2][0]),h(f(h(r(t[3][0],t[4][4]),r(-t[3][4],t[4][0])),-t[2][3]),f(h(r(t[3][0],t[4][3]),r(-t[3][3],t[4][0])),t[2][4]))),-t[1][2])),h(f(h(f(h(r(t[3][2],t[4][4]),r(-t[3][4],t[4][2])),t[2][0]),h(f(h(r(t[3][0],t[4][4]),r(-t[3][4],t[4][0])),-t[2][2]),f(h(r(t[3][0],t[4][2]),r(-t[3][2],t[4][0])),t[2][4]))),t[1][3]),f(h(f(h(r(t[3][2],t[4][3]),r(-t[3][3],t[4][2])),t[2][0]),h(f(h(r(t[3][0],t[4][3]),r(-t[3][3],t[4][0])),-t[2][2]),f(h(r(t[3][0],t[4][2]),r(-t[3][2],t[4][0])),t[2][3]))),-t[1][4]))),-t[0][1])),h(f(h(h(f(h(f(h(r(t[3][3],t[4][4]),r(-t[3][4],t[4][3])),t[2][1]),h(f(h(r(t[3][1],t[4][4]),r(-t[3][4],t[4][1])),-t[2][3]),f(h(r(t[3][1],t[4][3]),r(-t[3][3],t[4][1])),t[2][4]))),t[1][0]),f(h(f(h(r(t[3][3],t[4][4]),r(-t[3][4],t[4][3])),t[2][0]),h(f(h(r(t[3][0],t[4][4]),r(-t[3][4],t[4][0])),-t[2][3]),f(h(r(t[3][0],t[4][3]),r(-t[3][3],t[4][0])),t[2][4]))),-t[1][1])),h(f(h(f(h(r(t[3][1],t[4][4]),r(-t[3][4],t[4][1])),t[2][0]),h(f(h(r(t[3][0],t[4][4]),r(-t[3][4],t[4][0])),-t[2][1]),f(h(r(t[3][0],t[4][1]),r(-t[3][1],t[4][0])),t[2][4]))),t[1][3]),f(h(f(h(r(t[3][1],t[4][3]),r(-t[3][3],t[4][1])),t[2][0]),h(f(h(r(t[3][0],t[4][3]),r(-t[3][3],t[4][0])),-t[2][1]),f(h(r(t[3][0],t[4][1]),r(-t[3][1],t[4][0])),t[2][3]))),-t[1][4]))),t[0][2]),h(f(h(h(f(h(f(h(r(t[3][2],t[4][4]),r(-t[3][4],t[4][2])),t[2][1]),h(f(h(r(t[3][1],t[4][4]),r(-t[3][4],t[4][1])),-t[2][2]),f(h(r(t[3][1],t[4][2]),r(-t[3][2],t[4][1])),t[2][4]))),t[1][0]),f(h(f(h(r(t[3][2],t[4][4]),r(-t[3][4],t[4][2])),t[2][0]),h(f(h(r(t[3][0],t[4][4]),r(-t[3][4],t[4][0])),-t[2][2]),f(h(r(t[3][0],t[4][2]),r(-t[3][2],t[4][0])),t[2][4]))),-t[1][1])),h(f(h(f(h(r(t[3][1],t[4][4]),r(-t[3][4],t[4][1])),t[2][0]),h(f(h(r(t[3][0],t[4][4]),r(-t[3][4],t[4][0])),-t[2][1]),f(h(r(t[3][0],t[4][1]),r(-t[3][1],t[4][0])),t[2][4]))),t[1][2]),f(h(f(h(r(t[3][1],t[4][2]),r(-t[3][2],t[4][1])),t[2][0]),h(f(h(r(t[3][0],t[4][2]),r(-t[3][2],t[4][0])),-t[2][1]),f(h(r(t[3][0],t[4][1]),r(-t[3][1],t[4][0])),t[2][2]))),-t[1][4]))),-t[0][3]),f(h(h(f(h(f(h(r(t[3][2],t[4][3]),r(-t[3][3],t[4][2])),t[2][1]),h(f(h(r(t[3][1],t[4][3]),r(-t[3][3],t[4][1])),-t[2][2]),f(h(r(t[3][1],t[4][2]),r(-t[3][2],t[4][1])),t[2][3]))),t[1][0]),f(h(f(h(r(t[3][2],t[4][3]),r(-t[3][3],t[4][2])),t[2][0]),h(f(h(r(t[3][0],t[4][3]),r(-t[3][3],t[4][0])),-t[2][2]),f(h(r(t[3][0],t[4][2]),r(-t[3][2],t[4][0])),t[2][3]))),-t[1][1])),h(f(h(f(h(r(t[3][1],t[4][3]),r(-t[3][3],t[4][1])),t[2][0]),h(f(h(r(t[3][0],t[4][3]),r(-t[3][3],t[4][0])),-t[2][1]),f(h(r(t[3][0],t[4][1]),r(-t[3][1],t[4][0])),t[2][3]))),t[1][2]),f(h(f(h(r(t[3][1],t[4][2]),r(-t[3][2],t[4][1])),t[2][0]),h(f(h(r(t[3][0],t[4][2]),r(-t[3][2],t[4][0])),-t[2][1]),f(h(r(t[3][0],t[4][1]),r(-t[3][1],t[4][0])),t[2][2]))),-t[1][3]))),t[0][4])))))}}function w(h){var f=h===2?T:h===3?R:h===4?v:h===5?E:void 0;return f(M,l,d,y)}var s=[function(){return[0]},function(f){return[f[0][0]]}];function p(h,f,r,o,n,t,i,e){return function(b){switch(b.length){case 0:return h(b);case 1:return f(b);case 2:return r(b);case 3:return o(b);case 4:return n(b);case 5:return t(b)}var x=i[b.length];return x||(x=i[b.length]=e(b.length)),x(b)}}function g(){for(;s.length<c;)s.push(w(s.length));B.exports=p.apply(void 0,s.concat([s,w]));for(var h=0;h<s.length;++h)B.exports[h]=s[h]}g()},1944:function(B,L,a){var d=a(5250),M=a(8210);B.exports=l;function l(y,c){for(var T=d(y[0],c[0]),R=1;R<y.length;++R)T=M(T,d(y[R],c[R]));return T}},2646:function(B,L,a){var d=a(5250),M=a(8210),l=a(8545),y=a(3012),c=6;function T(n){var t=n===3?w:n===4?s:n===5?p:g;return t(M,l,d,y)}function R(){return 0}function v(){return 0}function E(){return 0}function w(n,t,i,e){function A(b,x,m){var S=i(b[0],b[0]),_=e(S,x[0]),u=e(S,m[0]),I=i(x[0],x[0]),F=e(I,b[0]),P=e(I,m[0]),D=i(m[0],m[0]),V=e(D,b[0]),H=e(D,x[0]),O=n(t(H,P),t(F,_)),C=t(V,u),k=t(O,C);return k[k.length-1]}return A}function s(n,t,i,e){function A(b,x,m,S){var _=n(i(b[0],b[0]),i(b[1],b[1])),u=e(_,x[0]),I=e(_,m[0]),F=e(_,S[0]),P=n(i(x[0],x[0]),i(x[1],x[1])),D=e(P,b[0]),V=e(P,m[0]),H=e(P,S[0]),O=n(i(m[0],m[0]),i(m[1],m[1])),C=e(O,b[0]),k=e(O,x[0]),$=e(O,S[0]),z=n(i(S[0],S[0]),i(S[1],S[1])),Y=e(z,b[0]),G=e(z,x[0]),X=e(z,m[0]),K=n(n(e(t(X,$),x[1]),n(e(t(G,H),-m[1]),e(t(k,V),S[1]))),n(e(t(G,H),b[1]),n(e(t(Y,F),-x[1]),e(t(D,u),S[1])))),W=n(n(e(t(X,$),b[1]),n(e(t(Y,F),-m[1]),e(t(C,I),S[1]))),n(e(t(k,V),b[1]),n(e(t(C,I),-x[1]),e(t(D,u),m[1])))),Z=t(K,W);return Z[Z.length-1]}return A}function p(n,t,i,e){function A(b,x,m,S,_){var u=n(i(b[0],b[0]),n(i(b[1],b[1]),i(b[2],b[2]))),I=e(u,x[0]),F=e(u,m[0]),P=e(u,S[0]),D=e(u,_[0]),V=n(i(x[0],x[0]),n(i(x[1],x[1]),i(x[2],x[2]))),H=e(V,b[0]),O=e(V,m[0]),C=e(V,S[0]),k=e(V,_[0]),$=n(i(m[0],m[0]),n(i(m[1],m[1]),i(m[2],m[2]))),z=e($,b[0]),Y=e($,x[0]),G=e($,S[0]),X=e($,_[0]),K=n(i(S[0],S[0]),n(i(S[1],S[1]),i(S[2],S[2]))),W=e(K,b[0]),Z=e(K,x[0]),J=e(K,m[0]),tt=e(K,_[0]),it=n(i(_[0],_[0]),n(i(_[1],_[1]),i(_[2],_[2]))),et=e(it,b[0]),j=e(it,x[0]),at=e(it,m[0]),rt=e(it,S[0]),st=n(n(n(e(n(e(t(rt,tt),m[1]),n(e(t(at,X),-S[1]),e(t(J,G),_[1]))),x[2]),n(e(n(e(t(rt,tt),x[1]),n(e(t(j,k),-S[1]),e(t(Z,C),_[1]))),-m[2]),e(n(e(t(at,X),x[1]),n(e(t(j,k),-m[1]),e(t(Y,O),_[1]))),S[2]))),n(e(n(e(t(J,G),x[1]),n(e(t(Z,C),-m[1]),e(t(Y,O),S[1]))),-_[2]),n(e(n(e(t(rt,tt),x[1]),n(e(t(j,k),-S[1]),e(t(Z,C),_[1]))),b[2]),e(n(e(t(rt,tt),b[1]),n(e(t(et,D),-S[1]),e(t(W,P),_[1]))),-x[2])))),n(n(e(n(e(t(j,k),b[1]),n(e(t(et,D),-x[1]),e(t(H,I),_[1]))),S[2]),n(e(n(e(t(Z,C),b[1]),n(e(t(W,P),-x[1]),e(t(H,I),S[1]))),-_[2]),e(n(e(t(J,G),x[1]),n(e(t(Z,C),-m[1]),e(t(Y,O),S[1]))),b[2]))),n(e(n(e(t(J,G),b[1]),n(e(t(W,P),-m[1]),e(t(z,F),S[1]))),-x[2]),n(e(n(e(t(Z,C),b[1]),n(e(t(W,P),-x[1]),e(t(H,I),S[1]))),m[2]),e(n(e(t(Y,O),b[1]),n(e(t(z,F),-x[1]),e(t(H,I),m[1]))),-S[2]))))),ot=n(n(n(e(n(e(t(rt,tt),m[1]),n(e(t(at,X),-S[1]),e(t(J,G),_[1]))),b[2]),e(n(e(t(rt,tt),b[1]),n(e(t(et,D),-S[1]),e(t(W,P),_[1]))),-m[2])),n(e(n(e(t(at,X),b[1]),n(e(t(et,D),-m[1]),e(t(z,F),_[1]))),S[2]),e(n(e(t(J,G),b[1]),n(e(t(W,P),-m[1]),e(t(z,F),S[1]))),-_[2]))),n(n(e(n(e(t(at,X),x[1]),n(e(t(j,k),-m[1]),e(t(Y,O),_[1]))),b[2]),e(n(e(t(at,X),b[1]),n(e(t(et,D),-m[1]),e(t(z,F),_[1]))),-x[2])),n(e(n(e(t(j,k),b[1]),n(e(t(et,D),-x[1]),e(t(H,I),_[1]))),m[2]),e(n(e(t(Y,O),b[1]),n(e(t(z,F),-x[1]),e(t(H,I),m[1]))),-_[2])))),ft=t(st,ot);return ft[ft.length-1]}return A}function g(n,t,i,e){function A(b,x,m,S,_,u){var I=n(n(i(b[0],b[0]),i(b[1],b[1])),n(i(b[2],b[2]),i(b[3],b[3]))),F=e(I,x[0]),P=e(I,m[0]),D=e(I,S[0]),V=e(I,_[0]),H=e(I,u[0]),O=n(n(i(x[0],x[0]),i(x[1],x[1])),n(i(x[2],x[2]),i(x[3],x[3]))),C=e(O,b[0]),k=e(O,m[0]),$=e(O,S[0]),z=e(O,_[0]),Y=e(O,u[0]),G=n(n(i(m[0],m[0]),i(m[1],m[1])),n(i(m[2],m[2]),i(m[3],m[3]))),X=e(G,b[0]),K=e(G,x[0]),W=e(G,S[0]),Z=e(G,_[0]),J=e(G,u[0]),tt=n(n(i(S[0],S[0]),i(S[1],S[1])),n(i(S[2],S[2]),i(S[3],S[3]))),it=e(tt,b[0]),et=e(tt,x[0]),j=e(tt,m[0]),at=e(tt,_[0]),rt=e(tt,u[0]),st=n(n(i(_[0],_[0]),i(_[1],_[1])),n(i(_[2],_[2]),i(_[3],_[3]))),ot=e(st,b[0]),ft=e(st,x[0]),xt=e(st,m[0]),dt=e(st,S[0]),ht=e(st,u[0]),pt=n(n(i(u[0],u[0]),i(u[1],u[1])),n(i(u[2],u[2]),i(u[3],u[3]))),lt=e(pt,b[0]),bt=e(pt,x[0]),Tt=e(pt,m[0]),yt=e(pt,S[0]),ut=e(pt,_[0]),vt=n(n(n(e(n(n(e(n(e(t(ut,ht),S[1]),n(e(t(yt,rt),-_[1]),e(t(dt,at),u[1]))),m[2]),e(n(e(t(ut,ht),m[1]),n(e(t(Tt,J),-_[1]),e(t(xt,Z),u[1]))),-S[2])),n(e(n(e(t(yt,rt),m[1]),n(e(t(Tt,J),-S[1]),e(t(j,W),u[1]))),_[2]),e(n(e(t(dt,at),m[1]),n(e(t(xt,Z),-S[1]),e(t(j,W),_[1]))),-u[2]))),x[3]),n(e(n(n(e(n(e(t(ut,ht),S[1]),n(e(t(yt,rt),-_[1]),e(t(dt,at),u[1]))),x[2]),e(n(e(t(ut,ht),x[1]),n(e(t(bt,Y),-_[1]),e(t(ft,z),u[1]))),-S[2])),n(e(n(e(t(yt,rt),x[1]),n(e(t(bt,Y),-S[1]),e(t(et,$),u[1]))),_[2]),e(n(e(t(dt,at),x[1]),n(e(t(ft,z),-S[1]),e(t(et,$),_[1]))),-u[2]))),-m[3]),e(n(n(e(n(e(t(ut,ht),m[1]),n(e(t(Tt,J),-_[1]),e(t(xt,Z),u[1]))),x[2]),e(n(e(t(ut,ht),x[1]),n(e(t(bt,Y),-_[1]),e(t(ft,z),u[1]))),-m[2])),n(e(n(e(t(Tt,J),x[1]),n(e(t(bt,Y),-m[1]),e(t(K,k),u[1]))),_[2]),e(n(e(t(xt,Z),x[1]),n(e(t(ft,z),-m[1]),e(t(K,k),_[1]))),-u[2]))),S[3]))),n(n(e(n(n(e(n(e(t(yt,rt),m[1]),n(e(t(Tt,J),-S[1]),e(t(j,W),u[1]))),x[2]),e(n(e(t(yt,rt),x[1]),n(e(t(bt,Y),-S[1]),e(t(et,$),u[1]))),-m[2])),n(e(n(e(t(Tt,J),x[1]),n(e(t(bt,Y),-m[1]),e(t(K,k),u[1]))),S[2]),e(n(e(t(j,W),x[1]),n(e(t(et,$),-m[1]),e(t(K,k),S[1]))),-u[2]))),-_[3]),e(n(n(e(n(e(t(dt,at),m[1]),n(e(t(xt,Z),-S[1]),e(t(j,W),_[1]))),x[2]),e(n(e(t(dt,at),x[1]),n(e(t(ft,z),-S[1]),e(t(et,$),_[1]))),-m[2])),n(e(n(e(t(xt,Z),x[1]),n(e(t(ft,z),-m[1]),e(t(K,k),_[1]))),S[2]),e(n(e(t(j,W),x[1]),n(e(t(et,$),-m[1]),e(t(K,k),S[1]))),-_[2]))),u[3])),n(e(n(n(e(n(e(t(ut,ht),S[1]),n(e(t(yt,rt),-_[1]),e(t(dt,at),u[1]))),x[2]),e(n(e(t(ut,ht),x[1]),n(e(t(bt,Y),-_[1]),e(t(ft,z),u[1]))),-S[2])),n(e(n(e(t(yt,rt),x[1]),n(e(t(bt,Y),-S[1]),e(t(et,$),u[1]))),_[2]),e(n(e(t(dt,at),x[1]),n(e(t(ft,z),-S[1]),e(t(et,$),_[1]))),-u[2]))),b[3]),e(n(n(e(n(e(t(ut,ht),S[1]),n(e(t(yt,rt),-_[1]),e(t(dt,at),u[1]))),b[2]),e(n(e(t(ut,ht),b[1]),n(e(t(lt,H),-_[1]),e(t(ot,V),u[1]))),-S[2])),n(e(n(e(t(yt,rt),b[1]),n(e(t(lt,H),-S[1]),e(t(it,D),u[1]))),_[2]),e(n(e(t(dt,at),b[1]),n(e(t(ot,V),-S[1]),e(t(it,D),_[1]))),-u[2]))),-x[3])))),n(n(n(e(n(n(e(n(e(t(ut,ht),x[1]),n(e(t(bt,Y),-_[1]),e(t(ft,z),u[1]))),b[2]),e(n(e(t(ut,ht),b[1]),n(e(t(lt,H),-_[1]),e(t(ot,V),u[1]))),-x[2])),n(e(n(e(t(bt,Y),b[1]),n(e(t(lt,H),-x[1]),e(t(C,F),u[1]))),_[2]),e(n(e(t(ft,z),b[1]),n(e(t(ot,V),-x[1]),e(t(C,F),_[1]))),-u[2]))),S[3]),e(n(n(e(n(e(t(yt,rt),x[1]),n(e(t(bt,Y),-S[1]),e(t(et,$),u[1]))),b[2]),e(n(e(t(yt,rt),b[1]),n(e(t(lt,H),-S[1]),e(t(it,D),u[1]))),-x[2])),n(e(n(e(t(bt,Y),b[1]),n(e(t(lt,H),-x[1]),e(t(C,F),u[1]))),S[2]),e(n(e(t(et,$),b[1]),n(e(t(it,D),-x[1]),e(t(C,F),S[1]))),-u[2]))),-_[3])),n(e(n(n(e(n(e(t(dt,at),x[1]),n(e(t(ft,z),-S[1]),e(t(et,$),_[1]))),b[2]),e(n(e(t(dt,at),b[1]),n(e(t(ot,V),-S[1]),e(t(it,D),_[1]))),-x[2])),n(e(n(e(t(ft,z),b[1]),n(e(t(ot,V),-x[1]),e(t(C,F),_[1]))),S[2]),e(n(e(t(et,$),b[1]),n(e(t(it,D),-x[1]),e(t(C,F),S[1]))),-_[2]))),u[3]),e(n(n(e(n(e(t(yt,rt),m[1]),n(e(t(Tt,J),-S[1]),e(t(j,W),u[1]))),x[2]),e(n(e(t(yt,rt),x[1]),n(e(t(bt,Y),-S[1]),e(t(et,$),u[1]))),-m[2])),n(e(n(e(t(Tt,J),x[1]),n(e(t(bt,Y),-m[1]),e(t(K,k),u[1]))),S[2]),e(n(e(t(j,W),x[1]),n(e(t(et,$),-m[1]),e(t(K,k),S[1]))),-u[2]))),b[3]))),n(n(e(n(n(e(n(e(t(yt,rt),m[1]),n(e(t(Tt,J),-S[1]),e(t(j,W),u[1]))),b[2]),e(n(e(t(yt,rt),b[1]),n(e(t(lt,H),-S[1]),e(t(it,D),u[1]))),-m[2])),n(e(n(e(t(Tt,J),b[1]),n(e(t(lt,H),-m[1]),e(t(X,P),u[1]))),S[2]),e(n(e(t(j,W),b[1]),n(e(t(it,D),-m[1]),e(t(X,P),S[1]))),-u[2]))),-x[3]),e(n(n(e(n(e(t(yt,rt),x[1]),n(e(t(bt,Y),-S[1]),e(t(et,$),u[1]))),b[2]),e(n(e(t(yt,rt),b[1]),n(e(t(lt,H),-S[1]),e(t(it,D),u[1]))),-x[2])),n(e(n(e(t(bt,Y),b[1]),n(e(t(lt,H),-x[1]),e(t(C,F),u[1]))),S[2]),e(n(e(t(et,$),b[1]),n(e(t(it,D),-x[1]),e(t(C,F),S[1]))),-u[2]))),m[3])),n(e(n(n(e(n(e(t(Tt,J),x[1]),n(e(t(bt,Y),-m[1]),e(t(K,k),u[1]))),b[2]),e(n(e(t(Tt,J),b[1]),n(e(t(lt,H),-m[1]),e(t(X,P),u[1]))),-x[2])),n(e(n(e(t(bt,Y),b[1]),n(e(t(lt,H),-x[1]),e(t(C,F),u[1]))),m[2]),e(n(e(t(K,k),b[1]),n(e(t(X,P),-x[1]),e(t(C,F),m[1]))),-u[2]))),-S[3]),e(n(n(e(n(e(t(j,W),x[1]),n(e(t(et,$),-m[1]),e(t(K,k),S[1]))),b[2]),e(n(e(t(j,W),b[1]),n(e(t(it,D),-m[1]),e(t(X,P),S[1]))),-x[2])),n(e(n(e(t(et,$),b[1]),n(e(t(it,D),-x[1]),e(t(C,F),S[1]))),m[2]),e(n(e(t(K,k),b[1]),n(e(t(X,P),-x[1]),e(t(C,F),m[1]))),-S[2]))),u[3]))))),Mt=n(n(n(e(n(n(e(n(e(t(ut,ht),S[1]),n(e(t(yt,rt),-_[1]),e(t(dt,at),u[1]))),m[2]),e(n(e(t(ut,ht),m[1]),n(e(t(Tt,J),-_[1]),e(t(xt,Z),u[1]))),-S[2])),n(e(n(e(t(yt,rt),m[1]),n(e(t(Tt,J),-S[1]),e(t(j,W),u[1]))),_[2]),e(n(e(t(dt,at),m[1]),n(e(t(xt,Z),-S[1]),e(t(j,W),_[1]))),-u[2]))),b[3]),n(e(n(n(e(n(e(t(ut,ht),S[1]),n(e(t(yt,rt),-_[1]),e(t(dt,at),u[1]))),b[2]),e(n(e(t(ut,ht),b[1]),n(e(t(lt,H),-_[1]),e(t(ot,V),u[1]))),-S[2])),n(e(n(e(t(yt,rt),b[1]),n(e(t(lt,H),-S[1]),e(t(it,D),u[1]))),_[2]),e(n(e(t(dt,at),b[1]),n(e(t(ot,V),-S[1]),e(t(it,D),_[1]))),-u[2]))),-m[3]),e(n(n(e(n(e(t(ut,ht),m[1]),n(e(t(Tt,J),-_[1]),e(t(xt,Z),u[1]))),b[2]),e(n(e(t(ut,ht),b[1]),n(e(t(lt,H),-_[1]),e(t(ot,V),u[1]))),-m[2])),n(e(n(e(t(Tt,J),b[1]),n(e(t(lt,H),-m[1]),e(t(X,P),u[1]))),_[2]),e(n(e(t(xt,Z),b[1]),n(e(t(ot,V),-m[1]),e(t(X,P),_[1]))),-u[2]))),S[3]))),n(n(e(n(n(e(n(e(t(yt,rt),m[1]),n(e(t(Tt,J),-S[1]),e(t(j,W),u[1]))),b[2]),e(n(e(t(yt,rt),b[1]),n(e(t(lt,H),-S[1]),e(t(it,D),u[1]))),-m[2])),n(e(n(e(t(Tt,J),b[1]),n(e(t(lt,H),-m[1]),e(t(X,P),u[1]))),S[2]),e(n(e(t(j,W),b[1]),n(e(t(it,D),-m[1]),e(t(X,P),S[1]))),-u[2]))),-_[3]),e(n(n(e(n(e(t(dt,at),m[1]),n(e(t(xt,Z),-S[1]),e(t(j,W),_[1]))),b[2]),e(n(e(t(dt,at),b[1]),n(e(t(ot,V),-S[1]),e(t(it,D),_[1]))),-m[2])),n(e(n(e(t(xt,Z),b[1]),n(e(t(ot,V),-m[1]),e(t(X,P),_[1]))),S[2]),e(n(e(t(j,W),b[1]),n(e(t(it,D),-m[1]),e(t(X,P),S[1]))),-_[2]))),u[3])),n(e(n(n(e(n(e(t(ut,ht),m[1]),n(e(t(Tt,J),-_[1]),e(t(xt,Z),u[1]))),x[2]),e(n(e(t(ut,ht),x[1]),n(e(t(bt,Y),-_[1]),e(t(ft,z),u[1]))),-m[2])),n(e(n(e(t(Tt,J),x[1]),n(e(t(bt,Y),-m[1]),e(t(K,k),u[1]))),_[2]),e(n(e(t(xt,Z),x[1]),n(e(t(ft,z),-m[1]),e(t(K,k),_[1]))),-u[2]))),b[3]),e(n(n(e(n(e(t(ut,ht),m[1]),n(e(t(Tt,J),-_[1]),e(t(xt,Z),u[1]))),b[2]),e(n(e(t(ut,ht),b[1]),n(e(t(lt,H),-_[1]),e(t(ot,V),u[1]))),-m[2])),n(e(n(e(t(Tt,J),b[1]),n(e(t(lt,H),-m[1]),e(t(X,P),u[1]))),_[2]),e(n(e(t(xt,Z),b[1]),n(e(t(ot,V),-m[1]),e(t(X,P),_[1]))),-u[2]))),-x[3])))),n(n(n(e(n(n(e(n(e(t(ut,ht),x[1]),n(e(t(bt,Y),-_[1]),e(t(ft,z),u[1]))),b[2]),e(n(e(t(ut,ht),b[1]),n(e(t(lt,H),-_[1]),e(t(ot,V),u[1]))),-x[2])),n(e(n(e(t(bt,Y),b[1]),n(e(t(lt,H),-x[1]),e(t(C,F),u[1]))),_[2]),e(n(e(t(ft,z),b[1]),n(e(t(ot,V),-x[1]),e(t(C,F),_[1]))),-u[2]))),m[3]),e(n(n(e(n(e(t(Tt,J),x[1]),n(e(t(bt,Y),-m[1]),e(t(K,k),u[1]))),b[2]),e(n(e(t(Tt,J),b[1]),n(e(t(lt,H),-m[1]),e(t(X,P),u[1]))),-x[2])),n(e(n(e(t(bt,Y),b[1]),n(e(t(lt,H),-x[1]),e(t(C,F),u[1]))),m[2]),e(n(e(t(K,k),b[1]),n(e(t(X,P),-x[1]),e(t(C,F),m[1]))),-u[2]))),-_[3])),n(e(n(n(e(n(e(t(xt,Z),x[1]),n(e(t(ft,z),-m[1]),e(t(K,k),_[1]))),b[2]),e(n(e(t(xt,Z),b[1]),n(e(t(ot,V),-m[1]),e(t(X,P),_[1]))),-x[2])),n(e(n(e(t(ft,z),b[1]),n(e(t(ot,V),-x[1]),e(t(C,F),_[1]))),m[2]),e(n(e(t(K,k),b[1]),n(e(t(X,P),-x[1]),e(t(C,F),m[1]))),-_[2]))),u[3]),e(n(n(e(n(e(t(dt,at),m[1]),n(e(t(xt,Z),-S[1]),e(t(j,W),_[1]))),x[2]),e(n(e(t(dt,at),x[1]),n(e(t(ft,z),-S[1]),e(t(et,$),_[1]))),-m[2])),n(e(n(e(t(xt,Z),x[1]),n(e(t(ft,z),-m[1]),e(t(K,k),_[1]))),S[2]),e(n(e(t(j,W),x[1]),n(e(t(et,$),-m[1]),e(t(K,k),S[1]))),-_[2]))),b[3]))),n(n(e(n(n(e(n(e(t(dt,at),m[1]),n(e(t(xt,Z),-S[1]),e(t(j,W),_[1]))),b[2]),e(n(e(t(dt,at),b[1]),n(e(t(ot,V),-S[1]),e(t(it,D),_[1]))),-m[2])),n(e(n(e(t(xt,Z),b[1]),n(e(t(ot,V),-m[1]),e(t(X,P),_[1]))),S[2]),e(n(e(t(j,W),b[1]),n(e(t(it,D),-m[1]),e(t(X,P),S[1]))),-_[2]))),-x[3]),e(n(n(e(n(e(t(dt,at),x[1]),n(e(t(ft,z),-S[1]),e(t(et,$),_[1]))),b[2]),e(n(e(t(dt,at),b[1]),n(e(t(ot,V),-S[1]),e(t(it,D),_[1]))),-x[2])),n(e(n(e(t(ft,z),b[1]),n(e(t(ot,V),-x[1]),e(t(C,F),_[1]))),S[2]),e(n(e(t(et,$),b[1]),n(e(t(it,D),-x[1]),e(t(C,F),S[1]))),-_[2]))),m[3])),n(e(n(n(e(n(e(t(xt,Z),x[1]),n(e(t(ft,z),-m[1]),e(t(K,k),_[1]))),b[2]),e(n(e(t(xt,Z),b[1]),n(e(t(ot,V),-m[1]),e(t(X,P),_[1]))),-x[2])),n(e(n(e(t(ft,z),b[1]),n(e(t(ot,V),-x[1]),e(t(C,F),_[1]))),m[2]),e(n(e(t(K,k),b[1]),n(e(t(X,P),-x[1]),e(t(C,F),m[1]))),-_[2]))),-S[3]),e(n(n(e(n(e(t(j,W),x[1]),n(e(t(et,$),-m[1]),e(t(K,k),S[1]))),b[2]),e(n(e(t(j,W),b[1]),n(e(t(it,D),-m[1]),e(t(X,P),S[1]))),-x[2])),n(e(n(e(t(et,$),b[1]),n(e(t(it,D),-x[1]),e(t(C,F),S[1]))),m[2]),e(n(e(t(K,k),b[1]),n(e(t(X,P),-x[1]),e(t(C,F),m[1]))),-S[2]))),_[3]))))),_t=t(vt,Mt);return _t[_t.length-1]}return A}var h=[R,v,E];function f(n){var t=h[n.length];return t||(t=h[n.length]=T(n.length)),t.apply(void 0,n)}function r(n,t,i,e,A,b,x,m){function S(_,u,I,F,P,D){switch(arguments.length){case 0:case 1:return 0;case 2:return e(_,u);case 3:return A(_,u,I);case 4:return b(_,u,I,F);case 5:return x(_,u,I,F,P);case 6:return m(_,u,I,F,P,D)}for(var V=new Array(arguments.length),H=0;H<arguments.length;++H)V[H]=arguments[H];return n(V)}return S}function o(){for(;h.length<=c;)h.push(T(h.length));B.exports=r.apply(void 0,[f].concat(h));for(var n=0;n<=c;++n)B.exports[n]=h[n]}o()},727:function(B,L,a){var d=a(2962),M=6;function l(h){var f=h===2?T:h===3?R:h===4?v:h===5?E:w;return h<6?f(d[h]):f(d)}function y(){return[[0]]}function c(h,f){return[[f[0]],[h[0][0]]]}function T(h){return function(r,o){return[h([[+o[0],+r[0][1]],[+o[1],+r[1][1]]]),h([[+r[0][0],+o[0]],[+r[1][0],+o[1]]]),h(r)]}}function R(h){return function(r,o){return[h([[+o[0],+r[0][1],+r[0][2]],[+o[1],+r[1][1],+r[1][2]],[+o[2],+r[2][1],+r[2][2]]]),h([[+r[0][0],+o[0],+r[0][2]],[+r[1][0],+o[1],+r[1][2]],[+r[2][0],+o[2],+r[2][2]]]),h([[+r[0][0],+r[0][1],+o[0]],[+r[1][0],+r[1][1],+o[1]],[+r[2][0],+r[2][1],+o[2]]]),h(r)]}}function v(h){return function(r,o){return[h([[+o[0],+r[0][1],+r[0][2],+r[0][3]],[+o[1],+r[1][1],+r[1][2],+r[1][3]],[+o[2],+r[2][1],+r[2][2],+r[2][3]],[+o[3],+r[3][1],+r[3][2],+r[3][3]]]),h([[+r[0][0],+o[0],+r[0][2],+r[0][3]],[+r[1][0],+o[1],+r[1][2],+r[1][3]],[+r[2][0],+o[2],+r[2][2],+r[2][3]],[+r[3][0],+o[3],+r[3][2],+r[3][3]]]),h([[+r[0][0],+r[0][1],+o[0],+r[0][3]],[+r[1][0],+r[1][1],+o[1],+r[1][3]],[+r[2][0],+r[2][1],+o[2],+r[2][3]],[+r[3][0],+r[3][1],+o[3],+r[3][3]]]),h([[+r[0][0],+r[0][1],+r[0][2],+o[0]],[+r[1][0],+r[1][1],+r[1][2],+o[1]],[+r[2][0],+r[2][1],+r[2][2],+o[2]],[+r[3][0],+r[3][1],+r[3][2],+o[3]]]),h(r)]}}function E(h){return function(r,o){return[h([[+o[0],+r[0][1],+r[0][2],+r[0][3],+r[0][4]],[+o[1],+r[1][1],+r[1][2],+r[1][3],+r[1][4]],[+o[2],+r[2][1],+r[2][2],+r[2][3],+r[2][4]],[+o[3],+r[3][1],+r[3][2],+r[3][3],+r[3][4]],[+o[4],+r[4][1],+r[4][2],+r[4][3],+r[4][4]]]),h([[+r[0][0],+o[0],+r[0][2],+r[0][3],+r[0][4]],[+r[1][0],+o[1],+r[1][2],+r[1][3],+r[1][4]],[+r[2][0],+o[2],+r[2][2],+r[2][3],+r[2][4]],[+r[3][0],+o[3],+r[3][2],+r[3][3],+r[3][4]],[+r[4][0],+o[4],+r[4][2],+r[4][3],+r[4][4]]]),h([[+r[0][0],+r[0][1],+o[0],+r[0][3],+r[0][4]],[+r[1][0],+r[1][1],+o[1],+r[1][3],+r[1][4]],[+r[2][0],+r[2][1],+o[2],+r[2][3],+r[2][4]],[+r[3][0],+r[3][1],+o[3],+r[3][3],+r[3][4]],[+r[4][0],+r[4][1],+o[4],+r[4][3],+r[4][4]]]),h([[+r[0][0],+r[0][1],+r[0][2],+o[0],+r[0][4]],[+r[1][0],+r[1][1],+r[1][2],+o[1],+r[1][4]],[+r[2][0],+r[2][1],+r[2][2],+o[2],+r[2][4]],[+r[3][0],+r[3][1],+r[3][2],+o[3],+r[3][4]],[+r[4][0],+r[4][1],+r[4][2],+o[4],+r[4][4]]]),h([[+r[0][0],+r[0][1],+r[0][2],+r[0][3],+o[0]],[+r[1][0],+r[1][1],+r[1][2],+r[1][3],+o[1]],[+r[2][0],+r[2][1],+r[2][2],+r[2][3],+o[2]],[+r[3][0],+r[3][1],+r[3][2],+r[3][3],+o[3]],[+r[4][0],+r[4][1],+r[4][2],+r[4][3],+o[4]]]),h(r)]}}function w(h){return function(r,o){return[h([[+o[0],+r[0][1],+r[0][2],+r[0][3],+r[0][4],+r[0][5]],[+o[1],+r[1][1],+r[1][2],+r[1][3],+r[1][4],+r[1][5]],[+o[2],+r[2][1],+r[2][2],+r[2][3],+r[2][4],+r[2][5]],[+o[3],+r[3][1],+r[3][2],+r[3][3],+r[3][4],+r[3][5]],[+o[4],+r[4][1],+r[4][2],+r[4][3],+r[4][4],+r[4][5]],[+o[5],+r[5][1],+r[5][2],+r[5][3],+r[5][4],+r[5][5]]]),h([[+r[0][0],+o[0],+r[0][2],+r[0][3],+r[0][4],+r[0][5]],[+r[1][0],+o[1],+r[1][2],+r[1][3],+r[1][4],+r[1][5]],[+r[2][0],+o[2],+r[2][2],+r[2][3],+r[2][4],+r[2][5]],[+r[3][0],+o[3],+r[3][2],+r[3][3],+r[3][4],+r[3][5]],[+r[4][0],+o[4],+r[4][2],+r[4][3],+r[4][4],+r[4][5]],[+r[5][0],+o[5],+r[5][2],+r[5][3],+r[5][4],+r[5][5]]]),h([[+r[0][0],+r[0][1],+o[0],+r[0][3],+r[0][4],+r[0][5]],[+r[1][0],+r[1][1],+o[1],+r[1][3],+r[1][4],+r[1][5]],[+r[2][0],+r[2][1],+o[2],+r[2][3],+r[2][4],+r[2][5]],[+r[3][0],+r[3][1],+o[3],+r[3][3],+r[3][4],+r[3][5]],[+r[4][0],+r[4][1],+o[4],+r[4][3],+r[4][4],+r[4][5]],[+r[5][0],+r[5][1],+o[5],+r[5][3],+r[5][4],+r[5][5]]]),h([[+r[0][0],+r[0][1],+r[0][2],+o[0],+r[0][4],+r[0][5]],[+r[1][0],+r[1][1],+r[1][2],+o[1],+r[1][4],+r[1][5]],[+r[2][0],+r[2][1],+r[2][2],+o[2],+r[2][4],+r[2][5]],[+r[3][0],+r[3][1],+r[3][2],+o[3],+r[3][4],+r[3][5]],[+r[4][0],+r[4][1],+r[4][2],+o[4],+r[4][4],+r[4][5]],[+r[5][0],+r[5][1],+r[5][2],+o[5],+r[5][4],+r[5][5]]]),h([[+r[0][0],+r[0][1],+r[0][2],+r[0][3],+o[0],+r[0][5]],[+r[1][0],+r[1][1],+r[1][2],+r[1][3],+o[1],+r[1][5]],[+r[2][0],+r[2][1],+r[2][2],+r[2][3],+o[2],+r[2][5]],[+r[3][0],+r[3][1],+r[3][2],+r[3][3],+o[3],+r[3][5]],[+r[4][0],+r[4][1],+r[4][2],+r[4][3],+o[4],+r[4][5]],[+r[5][0],+r[5][1],+r[5][2],+r[5][3],+o[5],+r[5][5]]]),h([[+r[0][0],+r[0][1],+r[0][2],+r[0][3],+r[0][4],+o[0]],[+r[1][0],+r[1][1],+r[1][2],+r[1][3],+r[1][4],+o[1]],[+r[2][0],+r[2][1],+r[2][2],+r[2][3],+r[2][4],+o[2]],[+r[3][0],+r[3][1],+r[3][2],+r[3][3],+r[3][4],+o[3]],[+r[4][0],+r[4][1],+r[4][2],+r[4][3],+r[4][4],+o[4]],[+r[5][0],+r[5][1],+r[5][2],+r[5][3],+r[5][4],+o[5]]]),h(r)]}}var s=[y,c];function p(h,f,r,o,n,t,i,e){return function(b,x){switch(b.length){case 0:return h(b,x);case 1:return f(b,x);case 2:return r(b,x);case 3:return o(b,x);case 4:return n(b,x);case 5:return t(b,x)}var m=i[b.length];return m||(m=i[b.length]=e(b.length)),m(b,x)}}function g(){for(;s.length<M;)s.push(l(s.length));B.exports=p.apply(void 0,s.concat([s,l]));for(var h=0;h<M;++h)B.exports[h]=s[h]}g()},3250:function(B,L,a){var d=a(5250),M=a(8210),l=a(3012),y=a(8545),c=5,T=11102230246251565e-32,R=(3+16*T)*T,v=(7+56*T)*T;function E(t,i,e,A){return function(x,m,S){var _=t(t(i(m[1],S[0]),i(-S[1],m[0])),t(i(x[1],m[0]),i(-m[1],x[0]))),u=t(i(x[1],S[0]),i(-S[1],x[0])),I=A(_,u);return I[I.length-1]}}function w(t,i,e,A){return function(x,m,S,_){var u=t(t(e(t(i(S[1],_[0]),i(-_[1],S[0])),m[2]),t(e(t(i(m[1],_[0]),i(-_[1],m[0])),-S[2]),e(t(i(m[1],S[0]),i(-S[1],m[0])),_[2]))),t(e(t(i(m[1],_[0]),i(-_[1],m[0])),x[2]),t(e(t(i(x[1],_[0]),i(-_[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),_[2])))),I=t(t(e(t(i(S[1],_[0]),i(-_[1],S[0])),x[2]),t(e(t(i(x[1],_[0]),i(-_[1],x[0])),-S[2]),e(t(i(x[1],S[0]),i(-S[1],x[0])),_[2]))),t(e(t(i(m[1],S[0]),i(-S[1],m[0])),x[2]),t(e(t(i(x[1],S[0]),i(-S[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),S[2])))),F=A(u,I);return F[F.length-1]}}function s(t,i,e,A){return function(x,m,S,_,u){var I=t(t(t(e(t(e(t(i(_[1],u[0]),i(-u[1],_[0])),S[2]),t(e(t(i(S[1],u[0]),i(-u[1],S[0])),-_[2]),e(t(i(S[1],_[0]),i(-_[1],S[0])),u[2]))),m[3]),t(e(t(e(t(i(_[1],u[0]),i(-u[1],_[0])),m[2]),t(e(t(i(m[1],u[0]),i(-u[1],m[0])),-_[2]),e(t(i(m[1],_[0]),i(-_[1],m[0])),u[2]))),-S[3]),e(t(e(t(i(S[1],u[0]),i(-u[1],S[0])),m[2]),t(e(t(i(m[1],u[0]),i(-u[1],m[0])),-S[2]),e(t(i(m[1],S[0]),i(-S[1],m[0])),u[2]))),_[3]))),t(e(t(e(t(i(S[1],_[0]),i(-_[1],S[0])),m[2]),t(e(t(i(m[1],_[0]),i(-_[1],m[0])),-S[2]),e(t(i(m[1],S[0]),i(-S[1],m[0])),_[2]))),-u[3]),t(e(t(e(t(i(_[1],u[0]),i(-u[1],_[0])),m[2]),t(e(t(i(m[1],u[0]),i(-u[1],m[0])),-_[2]),e(t(i(m[1],_[0]),i(-_[1],m[0])),u[2]))),x[3]),e(t(e(t(i(_[1],u[0]),i(-u[1],_[0])),x[2]),t(e(t(i(x[1],u[0]),i(-u[1],x[0])),-_[2]),e(t(i(x[1],_[0]),i(-_[1],x[0])),u[2]))),-m[3])))),t(t(e(t(e(t(i(m[1],u[0]),i(-u[1],m[0])),x[2]),t(e(t(i(x[1],u[0]),i(-u[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),u[2]))),_[3]),t(e(t(e(t(i(m[1],_[0]),i(-_[1],m[0])),x[2]),t(e(t(i(x[1],_[0]),i(-_[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),_[2]))),-u[3]),e(t(e(t(i(S[1],_[0]),i(-_[1],S[0])),m[2]),t(e(t(i(m[1],_[0]),i(-_[1],m[0])),-S[2]),e(t(i(m[1],S[0]),i(-S[1],m[0])),_[2]))),x[3]))),t(e(t(e(t(i(S[1],_[0]),i(-_[1],S[0])),x[2]),t(e(t(i(x[1],_[0]),i(-_[1],x[0])),-S[2]),e(t(i(x[1],S[0]),i(-S[1],x[0])),_[2]))),-m[3]),t(e(t(e(t(i(m[1],_[0]),i(-_[1],m[0])),x[2]),t(e(t(i(x[1],_[0]),i(-_[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),_[2]))),S[3]),e(t(e(t(i(m[1],S[0]),i(-S[1],m[0])),x[2]),t(e(t(i(x[1],S[0]),i(-S[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),S[2]))),-_[3]))))),F=t(t(t(e(t(e(t(i(_[1],u[0]),i(-u[1],_[0])),S[2]),t(e(t(i(S[1],u[0]),i(-u[1],S[0])),-_[2]),e(t(i(S[1],_[0]),i(-_[1],S[0])),u[2]))),x[3]),e(t(e(t(i(_[1],u[0]),i(-u[1],_[0])),x[2]),t(e(t(i(x[1],u[0]),i(-u[1],x[0])),-_[2]),e(t(i(x[1],_[0]),i(-_[1],x[0])),u[2]))),-S[3])),t(e(t(e(t(i(S[1],u[0]),i(-u[1],S[0])),x[2]),t(e(t(i(x[1],u[0]),i(-u[1],x[0])),-S[2]),e(t(i(x[1],S[0]),i(-S[1],x[0])),u[2]))),_[3]),e(t(e(t(i(S[1],_[0]),i(-_[1],S[0])),x[2]),t(e(t(i(x[1],_[0]),i(-_[1],x[0])),-S[2]),e(t(i(x[1],S[0]),i(-S[1],x[0])),_[2]))),-u[3]))),t(t(e(t(e(t(i(S[1],u[0]),i(-u[1],S[0])),m[2]),t(e(t(i(m[1],u[0]),i(-u[1],m[0])),-S[2]),e(t(i(m[1],S[0]),i(-S[1],m[0])),u[2]))),x[3]),e(t(e(t(i(S[1],u[0]),i(-u[1],S[0])),x[2]),t(e(t(i(x[1],u[0]),i(-u[1],x[0])),-S[2]),e(t(i(x[1],S[0]),i(-S[1],x[0])),u[2]))),-m[3])),t(e(t(e(t(i(m[1],u[0]),i(-u[1],m[0])),x[2]),t(e(t(i(x[1],u[0]),i(-u[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),u[2]))),S[3]),e(t(e(t(i(m[1],S[0]),i(-S[1],m[0])),x[2]),t(e(t(i(x[1],S[0]),i(-S[1],x[0])),-m[2]),e(t(i(x[1],m[0]),i(-m[1],x[0])),S[2]))),-u[3])))),P=A(I,F);return P[P.length-1]}}function p(t){var i=t===3?E:t===4?w:s;return i(M,d,l,y)}var g=p(3),h=p(4),f=[function(){return 0},function(){return 0},function(i,e){return e[0]-i[0]},function(i,e,A){var b=(i[1]-A[1])*(e[0]-A[0]),x=(i[0]-A[0])*(e[1]-A[1]),m=b-x,S;if(b>0){if(x<=0)return m;S=b+x}else if(b<0){if(x>=0)return m;S=-(b+x)}else return m;var _=R*S;return m>=_||m<=-_?m:g(i,e,A)},function(i,e,A,b){var x=i[0]-b[0],m=e[0]-b[0],S=A[0]-b[0],_=i[1]-b[1],u=e[1]-b[1],I=A[1]-b[1],F=i[2]-b[2],P=e[2]-b[2],D=A[2]-b[2],V=m*I,H=S*u,O=S*_,C=x*I,k=x*u,$=m*_,z=F*(V-H)+P*(O-C)+D*(k-$),Y=(Math.abs(V)+Math.abs(H))*Math.abs(F)+(Math.abs(O)+Math.abs(C))*Math.abs(P)+(Math.abs(k)+Math.abs($))*Math.abs(D),G=v*Y;return z>G||-z>G?z:h(i,e,A,b)}];function r(t){var i=f[t.length];return i||(i=f[t.length]=p(t.length)),i.apply(void 0,t)}function o(t,i,e,A,b,x,m){return function(_,u,I,F,P){switch(arguments.length){case 0:case 1:return 0;case 2:return A(_,u);case 3:return b(_,u,I);case 4:return x(_,u,I,F);case 5:return m(_,u,I,F,P)}for(var D=new Array(arguments.length),V=0;V<arguments.length;++V)D[V]=arguments[V];return t(D)}}function n(){for(;f.length<=c;)f.push(p(f.length));B.exports=o.apply(void 0,[r].concat(f));for(var t=0;t<=c;++t)B.exports[t]=f[t]}n()},5382:function(B,L,a){var d=a(8210),M=a(3012);B.exports=l;function l(y,c){if(y.length===1)return M(c,y[0]);if(c.length===1)return M(y,c[0]);if(y.length===0||c.length===0)return[0];var T=[0];if(y.length<c.length)for(var R=0;R<y.length;++R)T=d(T,M(c,y[R]));else for(var R=0;R<c.length;++R)T=d(T,M(y,c[R]));return T}},3012:function(B,L,a){var d=a(5250),M=a(9362);B.exports=l;function l(y,c){var T=y.length;if(T===1){var R=d(y[0],c);return R[0]?R:[R[1]]}var v=new Array(2*T),E=[.1,.1],w=[.1,.1],s=0;d(y[0],c,E),E[0]&&(v[s++]=E[0]);for(var p=1;p<T;++p){d(y[p],c,w);var g=E[1];M(g,w[0],E),E[0]&&(v[s++]=E[0]);var h=w[1],f=E[1],r=h+f,o=r-h,n=f-o;E[1]=r,n&&(v[s++]=n)}return E[1]&&(v[s++]=E[1]),s===0&&(v[s++]=0),v.length=s,v}},1125:function(B,L,a){B.exports=l;var d=a(3250)[3];function M(y,c,T,R){for(var v=0;v<2;++v){var E=y[v],w=c[v],s=Math.min(E,w),p=Math.max(E,w),g=T[v],h=R[v],f=Math.min(g,h),r=Math.max(g,h);if(r<s||p<f)return!1}return!0}function l(y,c,T,R){var v=d(y,T,R),E=d(c,T,R);if(v>0&&E>0||v<0&&E<0)return!1;var w=d(T,y,c),s=d(R,y,c);return w>0&&s>0||w<0&&s<0?!1:v===0&&E===0&&w===0&&s===0?M(y,c,T,R):!0}},8545:function(B){B.exports=a;function L(d,M){var l=d+M,y=l-d,c=l-y,T=M-y,R=d-c,v=R+T;return v?[v,l]:[l]}function a(d,M){var l=d.length|0,y=M.length|0;if(l===1&&y===1)return L(d[0],-M[0]);var c=l+y,T=new Array(c),R=0,v=0,E=0,w=Math.abs,s=d[v],p=w(s),g=-M[E],h=w(g),f,r;p<h?(r=s,v+=1,v<l&&(s=d[v],p=w(s))):(r=g,E+=1,E<y&&(g=-M[E],h=w(g))),v<l&&p<h||E>=y?(f=s,v+=1,v<l&&(s=d[v],p=w(s))):(f=g,E+=1,E<y&&(g=-M[E],h=w(g)));for(var o=f+r,n=o-f,t=r-n,i=t,e=o,A,b,x,m,S;v<l&&E<y;)p<h?(f=s,v+=1,v<l&&(s=d[v],p=w(s))):(f=g,E+=1,E<y&&(g=-M[E],h=w(g))),r=i,o=f+r,n=o-f,t=r-n,t&&(T[R++]=t),A=e+o,b=A-e,x=A-b,m=o-b,S=e-x,i=S+m,e=A;for(;v<l;)f=s,r=i,o=f+r,n=o-f,t=r-n,t&&(T[R++]=t),A=e+o,b=A-e,x=A-b,m=o-b,S=e-x,i=S+m,e=A,v+=1,v<l&&(s=d[v]);for(;E<y;)f=g,r=i,o=f+r,n=o-f,t=r-n,t&&(T[R++]=t),A=e+o,b=A-e,x=A-b,m=o-b,S=e-x,i=S+m,e=A,E+=1,E<y&&(g=-M[E]);return i&&(T[R++]=i),e&&(T[R++]=e),R||(T[R++]=0),T.length=R,T}},8210:function(B){B.exports=a;function L(d,M){var l=d+M,y=l-d,c=l-y,T=M-y,R=d-c,v=R+T;return v?[v,l]:[l]}function a(d,M){var l=d.length|0,y=M.length|0;if(l===1&&y===1)return L(d[0],M[0]);var c=l+y,T=new Array(c),R=0,v=0,E=0,w=Math.abs,s=d[v],p=w(s),g=M[E],h=w(g),f,r;p<h?(r=s,v+=1,v<l&&(s=d[v],p=w(s))):(r=g,E+=1,E<y&&(g=M[E],h=w(g))),v<l&&p<h||E>=y?(f=s,v+=1,v<l&&(s=d[v],p=w(s))):(f=g,E+=1,E<y&&(g=M[E],h=w(g)));for(var o=f+r,n=o-f,t=r-n,i=t,e=o,A,b,x,m,S;v<l&&E<y;)p<h?(f=s,v+=1,v<l&&(s=d[v],p=w(s))):(f=g,E+=1,E<y&&(g=M[E],h=w(g))),r=i,o=f+r,n=o-f,t=r-n,t&&(T[R++]=t),A=e+o,b=A-e,x=A-b,m=o-b,S=e-x,i=S+m,e=A;for(;v<l;)f=s,r=i,o=f+r,n=o-f,t=r-n,t&&(T[R++]=t),A=e+o,b=A-e,x=A-b,m=o-b,S=e-x,i=S+m,e=A,v+=1,v<l&&(s=d[v]);for(;E<y;)f=g,r=i,o=f+r,n=o-f,t=r-n,t&&(T[R++]=t),A=e+o,b=A-e,x=A-b,m=o-b,S=e-x,i=S+m,e=A,E+=1,E<y&&(g=M[E]);return i&&(T[R++]=i),e&&(T[R++]=e),R||(T[R++]=0),T.length=R,T}},9127:function(B,L,a){B.exports=l;var d=a(6204),M=a(5771);function l(y){return M(d(y))}},7765:function(B,L,a){B.exports=s;var d=a(9618),M=a(1888),l=a(446),y=a(1570);function c(p){for(var g=p.length,h=0,f=0;f<g;++f)h=Math.max(h,p[f].length)|0;return h-1}function T(p,g){for(var h=p.length,f=M.mallocUint8(h),r=0;r<h;++r)f[r]=p[r]<g|0;return f}function R(p,g){for(var h=p.length,f=g*(g+1)/2*h|0,r=M.mallocUint32(f*2),o=0,n=0;n<h;++n)for(var t=p[n],g=t.length,i=0;i<g;++i)for(var e=0;e<i;++e){var A=t[e],b=t[i];r[o++]=Math.min(A,b)|0,r[o++]=Math.max(A,b)|0}var x=o/2|0;l(d(r,[x,2]));for(var m=2,n=2;n<o;n+=2)r[n-2]===r[n]&&r[n-1]===r[n+1]||(r[m++]=r[n],r[m++]=r[n+1]);return d(r,[m/2|0,2])}function v(p,g,h,f){for(var r=p.data,o=p.shape[0],n=M.mallocDouble(o),t=0,i=0;i<o;++i){var e=r[2*i],A=r[2*i+1];if(h[e]!==h[A]){var b=g[e],x=g[A];r[2*t]=e,r[2*t+1]=A,n[t++]=(x-f)/(x-b)}}return p.shape[0]=t,d(n,[t])}function E(p,g){var h=M.mallocInt32(g*2),f=p.shape[0],r=p.data;h[0]=0;for(var o=0,n=0;n<f;++n){var t=r[2*n];if(t!==o){for(h[2*o+1]=n;++o<t;)h[2*o]=n,h[2*o+1]=n;h[2*o]=n}}for(h[2*o+1]=f;++o<g;)h[2*o]=h[2*o+1]=f;return h}function w(p){for(var g=p.shape[0]|0,h=p.data,f=new Array(g),r=0;r<g;++r)f[r]=[h[2*r],h[2*r+1]];return f}function s(p,g,h,f){h=h||0,typeof f>"u"&&(f=c(p));var r=p.length;if(r===0||f<1)return{cells:[],vertexIds:[],vertexWeights:[]};var o=T(g,+h),n=R(p,f),t=v(n,g,o,+h),i=E(n,g.length|0),e=y(f)(p,n.data,i,o),A=w(n),b=[].slice.call(t.data,0,t.shape[0]);return M.free(o),M.free(n.data),M.free(t.data),M.free(i),{cells:e,vertexIds:A,vertexWeights:b}}},1570:function(B){B.exports=a;var L=[function(){function M(l,y,c,T){for(var R=l.length,v=[],E=0;E<R;++E){var w=l[E];w.length}return v}return M},function(){function M(y,c,T,R){for(var v=Math.min(T,R)|0,E=Math.max(T,R)|0,w=y[2*v],s=y[2*v+1];w<s;){var p=w+s>>1,g=c[2*p+1];if(g===E)return p;E<g?s=p:w=p+1}return w}function l(y,c,T,R){for(var v=y.length,E=[],w=0;w<v;++w){var s=y[w],p=s.length;if(p===2){var g=(R[s[0]]<<0)+(R[s[1]]<<1);if(g===0||g===3)continue;switch(g){case 0:break;case 1:E.push([M(T,c,s[0],s[1])]);break;case 2:E.push([M(T,c,s[1],s[0])]);break}}}return E}return l},function(){function M(y,c,T,R){for(var v=Math.min(T,R)|0,E=Math.max(T,R)|0,w=y[2*v],s=y[2*v+1];w<s;){var p=w+s>>1,g=c[2*p+1];if(g===E)return p;E<g?s=p:w=p+1}return w}function l(y,c,T,R){for(var v=y.length,E=[],w=0;w<v;++w){var s=y[w],p=s.length;if(p===3){var g=(R[s[0]]<<0)+(R[s[1]]<<1)+(R[s[2]]<<2);if(g===0||g===7)continue;switch(g){case 0:break;case 1:E.push([M(T,c,s[0],s[2]),M(T,c,s[0],s[1])]);break;case 2:E.push([M(T,c,s[1],s[0]),M(T,c,s[1],s[2])]);break;case 3:E.push([M(T,c,s[0],s[2]),M(T,c,s[1],s[2])]);break;case 4:E.push([M(T,c,s[2],s[1]),M(T,c,s[2],s[0])]);break;case 5:E.push([M(T,c,s[2],s[1]),M(T,c,s[0],s[1])]);break;case 6:E.push([M(T,c,s[1],s[0]),M(T,c,s[2],s[0])]);break}}else if(p===2){var g=(R[s[0]]<<0)+(R[s[1]]<<1);if(g===0||g===3)continue;switch(g){case 0:break;case 1:E.push([M(T,c,s[0],s[1])]);break;case 2:E.push([M(T,c,s[1],s[0])]);break}}}return E}return l},function(){function M(y,c,T,R){for(var v=Math.min(T,R)|0,E=Math.max(T,R)|0,w=y[2*v],s=y[2*v+1];w<s;){var p=w+s>>1,g=c[2*p+1];if(g===E)return p;E<g?s=p:w=p+1}return w}function l(y,c,T,R){for(var v=y.length,E=[],w=0;w<v;++w){var s=y[w],p=s.length;if(p===4){var g=(R[s[0]]<<0)+(R[s[1]]<<1)+(R[s[2]]<<2)+(R[s[3]]<<3);if(g===0||g===15)continue;switch(g){case 0:break;case 1:E.push([M(T,c,s[0],s[1]),M(T,c,s[0],s[2]),M(T,c,s[0],s[3])]);break;case 2:E.push([M(T,c,s[1],s[2]),M(T,c,s[1],s[0]),M(T,c,s[1],s[3])]);break;case 3:E.push([M(T,c,s[1],s[2]),M(T,c,s[0],s[2]),M(T,c,s[0],s[3])],[M(T,c,s[1],s[3]),M(T,c,s[1],s[2]),M(T,c,s[0],s[3])]);break;case 4:E.push([M(T,c,s[2],s[0]),M(T,c,s[2],s[1]),M(T,c,s[2],s[3])]);break;case 5:E.push([M(T,c,s[0],s[1]),M(T,c,s[2],s[1]),M(T,c,s[0],s[3])],[M(T,c,s[2],s[1]),M(T,c,s[2],s[3]),M(T,c,s[0],s[3])]);break;case 6:E.push([M(T,c,s[2],s[0]),M(T,c,s[1],s[0]),M(T,c,s[1],s[3])],[M(T,c,s[2],s[3]),M(T,c,s[2],s[0]),M(T,c,s[1],s[3])]);break;case 7:E.push([M(T,c,s[0],s[3]),M(T,c,s[1],s[3]),M(T,c,s[2],s[3])]);break;case 8:E.push([M(T,c,s[3],s[1]),M(T,c,s[3],s[0]),M(T,c,s[3],s[2])]);break;case 9:E.push([M(T,c,s[3],s[1]),M(T,c,s[0],s[1]),M(T,c,s[0],s[2])],[M(T,c,s[3],s[2]),M(T,c,s[3],s[1]),M(T,c,s[0],s[2])]);break;case 10:E.push([M(T,c,s[1],s[0]),M(T,c,s[3],s[0]),M(T,c,s[1],s[2])],[M(T,c,s[3],s[0]),M(T,c,s[3],s[2]),M(T,c,s[1],s[2])]);break;case 11:E.push([M(T,c,s[1],s[2]),M(T,c,s[0],s[2]),M(T,c,s[3],s[2])]);break;case 12:E.push([M(T,c,s[3],s[0]),M(T,c,s[2],s[0]),M(T,c,s[2],s[1])],[M(T,c,s[3],s[1]),M(T,c,s[3],s[0]),M(T,c,s[2],s[1])]);break;case 13:E.push([M(T,c,s[0],s[1]),M(T,c,s[2],s[1]),M(T,c,s[3],s[1])]);break;case 14:E.push([M(T,c,s[2],s[0]),M(T,c,s[1],s[0]),M(T,c,s[3],s[0])]);break}}else if(p===3){var g=(R[s[0]]<<0)+(R[s[1]]<<1)+(R[s[2]]<<2);if(g===0||g===7)continue;switch(g){case 0:break;case 1:E.push([M(T,c,s[0],s[2]),M(T,c,s[0],s[1])]);break;case 2:E.push([M(T,c,s[1],s[0]),M(T,c,s[1],s[2])]);break;case 3:E.push([M(T,c,s[0],s[2]),M(T,c,s[1],s[2])]);break;case 4:E.push([M(T,c,s[2],s[1]),M(T,c,s[2],s[0])]);break;case 5:E.push([M(T,c,s[2],s[1]),M(T,c,s[0],s[1])]);break;case 6:E.push([M(T,c,s[1],s[0]),M(T,c,s[2],s[0])]);break}}else if(p===2){var g=(R[s[0]]<<0)+(R[s[1]]<<1);if(g===0||g===3)continue;switch(g){case 0:break;case 1:E.push([M(T,c,s[0],s[1])]);break;case 2:E.push([M(T,c,s[1],s[0])]);break}}}return E}return l}];function a(d){return L[d]()}},6803:function(B,L,a){a(8828),a(1755);function d(M,l){var y=M.length,c=M.length-l.length,T=Math.min;if(c)return c;switch(y){case 0:return 0;case 1:return M[0]-l[0];case 2:var s=M[0]+M[1]-l[0]-l[1];return s||T(M[0],M[1])-T(l[0],l[1]);case 3:var R=M[0]+M[1],v=l[0]+l[1];if(s=R+M[2]-(v+l[2]),s)return s;var E=T(M[0],M[1]),w=T(l[0],l[1]),s=T(E,M[2])-T(w,l[2]);return s||T(E+M[2],R)-T(w+l[2],v);default:var p=M.slice(0);p.sort();var g=l.slice(0);g.sort();for(var h=0;h<y;++h)if(c=p[h]-g[h],c)return c;return 0}}L.Fw=d},3105:function(B,L){"use restrict";var a=32;L.INT_BITS=a,L.INT_MAX=2147483647,L.INT_MIN=-1<<a-1,L.sign=function(l){return(l>0)-(l<0)},L.abs=function(l){var y=l>>a-1;return(l^y)-y},L.min=function(l,y){return y^(l^y)&-(l<y)},L.max=function(l,y){return l^(l^y)&-(l<y)},L.isPow2=function(l){return!(l&l-1)&&!!l},L.log2=function(l){var y,c;return y=(l>65535)<<4,l>>>=y,c=(l>255)<<3,l>>>=c,y|=c,c=(l>15)<<2,l>>>=c,y|=c,c=(l>3)<<1,l>>>=c,y|=c,y|l>>1},L.log10=function(l){return l>=1e9?9:l>=1e8?8:l>=1e7?7:l>=1e6?6:l>=1e5?5:l>=1e4?4:l>=1e3?3:l>=100?2:l>=10?1:0},L.popCount=function(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24};function d(l){var y=32;return l&=-l,l&&y--,l&65535&&(y-=16),l&16711935&&(y-=8),l&252645135&&(y-=4),l&858993459&&(y-=2),l&1431655765&&(y-=1),y}L.countTrailingZeros=d,L.nextPow2=function(l){return l+=l===0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1},L.prevPow2=function(l){return l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l-(l>>>1)},L.parity=function(l){return l^=l>>>16,l^=l>>>8,l^=l>>>4,l&=15,27030>>>l&1};var M=new Array(256);(function(l){for(var y=0;y<256;++y){var c=y,T=y,R=7;for(c>>>=1;c;c>>>=1)T<<=1,T|=c&1,--R;l[y]=T<<R&255}})(M),L.reverse=function(l){return M[l&255]<<24|M[l>>>8&255]<<16|M[l>>>16&255]<<8|M[l>>>24&255]},L.interleave2=function(l,y){return l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,y&=65535,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,l|y<<1},L.deinterleave2=function(l,y){return l=l>>>y&1431655765,l=(l|l>>>1)&858993459,l=(l|l>>>2)&252645135,l=(l|l>>>4)&16711935,l=(l|l>>>16)&65535,l<<16>>16},L.interleave3=function(l,y,c){return l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,y&=1023,y=(y|y<<16)&4278190335,y=(y|y<<8)&251719695,y=(y|y<<4)&3272356035,y=(y|y<<2)&1227133513,l|=y<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,l|c<<2},L.deinterleave3=function(l,y){return l=l>>>y&1227133513,l=(l|l>>>2)&3272356035,l=(l|l>>>4)&251719695,l=(l|l>>>8)&4278190335,l=(l|l>>>16)&1023,l<<22>>22},L.nextCombination=function(l){var y=l|l-1;return y+1|(~y&-~y)-1>>>d(l)+1}},2014:function(B,L,a){"use restrict";var d=a(3105),M=a(4623);function l(t){for(var i=0,e=Math.max,A=0,b=t.length;A<b;++A)i=e(i,t[A].length);return i-1}L.dimension=l;function y(t){for(var i=-1,e=Math.max,A=0,b=t.length;A<b;++A)for(var x=t[A],m=0,S=x.length;m<S;++m)i=e(i,x[m]);return i+1}L.countVertices=y;function c(t){for(var i=new Array(t.length),e=0,A=t.length;e<A;++e)i[e]=t[e].slice(0);return i}L.cloneCells=c;function T(t,i){var e=t.length,A=t.length-i.length,b=Math.min;if(A)return A;switch(e){case 0:return 0;case 1:return t[0]-i[0];case 2:var u=t[0]+t[1]-i[0]-i[1];return u||b(t[0],t[1])-b(i[0],i[1]);case 3:var x=t[0]+t[1],m=i[0]+i[1];if(u=x+t[2]-(m+i[2]),u)return u;var S=b(t[0],t[1]),_=b(i[0],i[1]),u=b(S,t[2])-b(_,i[2]);return u||b(S+t[2],x)-b(_+i[2],m);default:var I=t.slice(0);I.sort();var F=i.slice(0);F.sort();for(var P=0;P<e;++P)if(A=I[P]-F[P],A)return A;return 0}}L.compareCells=T;function R(t,i){return T(t[0],i[0])}function v(t,i){if(i){for(var e=t.length,A=new Array(e),b=0;b<e;++b)A[b]=[t[b],i[b]];A.sort(R);for(var b=0;b<e;++b)t[b]=A[b][0],i[b]=A[b][1];return t}else return t.sort(T),t}L.normalize=v;function E(t){if(t.length===0)return[];for(var i=1,e=t.length,A=1;A<e;++A){var b=t[A];if(T(b,t[A-1])){if(A===i){i++;continue}t[i++]=b}}return t.length=i,t}L.unique=E;function w(t,i){for(var e=0,A=t.length-1,b=-1;e<=A;){var x=e+A>>1,m=T(t[x],i);m<=0?(m===0&&(b=x),e=x+1):m>0&&(A=x-1)}return b}L.findCell=w;function s(t,i){for(var e=new Array(t.length),A=0,b=e.length;A<b;++A)e[A]=[];for(var x=[],A=0,m=i.length;A<m;++A)for(var S=i[A],_=S.length,u=1,I=1<<_;u<I;++u){x.length=d.popCount(u);for(var F=0,P=0;P<_;++P)u&1<<P&&(x[F++]=S[P]);var D=w(t,x);if(!(D<0))for(;e[D++].push(A),!(D>=t.length||T(t[D],x)!==0););}return e}L.incidence=s;function p(t,i){if(!i)return s(E(h(t,0)),t);for(var e=new Array(i),A=0;A<i;++A)e[A]=[];for(var A=0,b=t.length;A<b;++A)for(var x=t[A],m=0,S=x.length;m<S;++m)e[x[m]].push(A);return e}L.dual=p;function g(t){for(var i=[],e=0,A=t.length;e<A;++e)for(var b=t[e],x=b.length|0,m=1,S=1<<x;m<S;++m){for(var _=[],u=0;u<x;++u)m>>>u&1&&_.push(b[u]);i.push(_)}return v(i)}L.explode=g;function h(t,i){if(i<0)return[];for(var e=[],A=(1<<i+1)-1,b=0;b<t.length;++b)for(var x=t[b],m=A;m<1<<x.length;m=d.nextCombination(m)){for(var S=new Array(i+1),_=0,u=0;u<x.length;++u)m&1<<u&&(S[_++]=x[u]);e.push(S)}return v(e)}L.skeleton=h;function f(t){for(var i=[],e=0,A=t.length;e<A;++e)for(var b=t[e],x=0,m=b.length;x<m;++x){for(var S=new Array(b.length-1),_=0,u=0;_<m;++_)_!==x&&(S[u++]=b[_]);i.push(S)}return v(i)}L.boundary=f;function r(t,i){for(var e=new M(i),A=0;A<t.length;++A)for(var b=t[A],x=0;x<b.length;++x)for(var m=x+1;m<b.length;++m)e.link(b[x],b[m]);for(var S=[],_=e.ranks,A=0;A<_.length;++A)_[A]=-1;for(var A=0;A<t.length;++A){var u=e.find(t[A][0]);_[u]<0?(_[u]=S.length,S.push([t[A].slice(0)])):S[_[u]].push(t[A].slice(0))}return S}function o(t){for(var i=E(v(h(t,0))),e=new M(i.length),A=0;A<t.length;++A)for(var b=t[A],x=0;x<b.length;++x)for(var m=w(i,[b[x]]),S=x+1;S<b.length;++S)e.link(m,w(i,[b[S]]));for(var _=[],u=e.ranks,A=0;A<u.length;++A)u[A]=-1;for(var A=0;A<t.length;++A){var I=e.find(w(i,[t[A][0]]));u[I]<0?(u[I]=_.length,_.push([t[A].slice(0)])):_[u[I]].push(t[A].slice(0))}return _}function n(t,i){return i?r(t,i):o(t)}L.connectedComponents=n},4623:function(B){"use restrict";B.exports=L;function L(a){this.roots=new Array(a),this.ranks=new Array(a);for(var d=0;d<a;++d)this.roots[d]=d,this.ranks[d]=0}L.prototype.length=function(){return this.roots.length},L.prototype.makeSet=function(){var a=this.roots.length;return this.roots.push(a),this.ranks.push(0),a},L.prototype.find=function(a){for(var d=this.roots;d[a]!==a;){var M=d[a];d[a]=d[M],a=M}return a},L.prototype.link=function(a,d){var M=this.find(a),l=this.find(d);if(M!==l){var y=this.ranks,c=this.roots,T=y[M],R=y[l];T<R?c[M]=l:R<T?c[l]=M:(c[l]=M,++y[M])}}},5878:function(B,L,a){B.exports=y;var d=a(3250),M=a(2014);function l(c,T,R){var v=Math.abs(d(c,T,R)),E=Math.sqrt(Math.pow(T[0]-R[0],2)+Math.pow(T[1]-R[1],2));return v/E}function y(c,T,R){for(var v=T.length,E=c.length,w=new Array(v),s=new Array(v),p=new Array(v),g=new Array(v),h=0;h<v;++h)w[h]=s[h]=-1,p[h]=1/0,g[h]=!1;for(var h=0;h<E;++h){var f=c[h];if(f.length!==2)throw new Error("Input must be a graph");var r=f[1],o=f[0];s[o]!==-1?s[o]=-2:s[o]=r,w[r]!==-1?w[r]=-2:w[r]=o}function n(O){if(g[O])return 1/0;var C=w[O],k=s[O];return C<0||k<0?1/0:l(T[O],T[C],T[k])}function t(O,C){var k=_[O],$=_[C];_[O]=$,_[C]=k,u[k]=C,u[$]=O}function i(O){return p[_[O]]}function e(O){return O&1?O-1>>1:(O>>1)-1}function A(O){for(var C=i(O);;){var k=C,$=2*O+1,z=2*(O+1),Y=O;if($<F){var G=i($);G<k&&(Y=$,k=G)}if(z<F){var X=i(z);X<k&&(Y=z)}if(Y===O)return O;t(O,Y),O=Y}}function b(O){for(var C=i(O);O>0;){var k=e(O);if(k>=0){var $=i(k);if(C<$){t(O,k),O=k;continue}}return O}}function x(){if(F>0){var O=_[0];return t(0,F-1),F-=1,A(0),O}return-1}function m(O,C){var k=_[O];return p[k]===C?O:(p[k]=-1/0,b(O),x(),p[k]=C,F+=1,b(F-1))}function S(O){if(!g[O]){g[O]=!0;var C=w[O],k=s[O];w[k]>=0&&(w[k]=C),s[C]>=0&&(s[C]=k),u[C]>=0&&m(u[C],n(C)),u[k]>=0&&m(u[k],n(k))}}for(var _=[],u=new Array(v),h=0;h<v;++h){var I=p[h]=n(h);I<1/0?(u[h]=_.length,_.push(h)):u[h]=-1}for(var F=_.length,h=F>>1;h>=0;--h)A(h);for(;;){var P=x();if(P<0||p[P]>R)break;S(P)}for(var D=[],h=0;h<v;++h)g[h]||(u[h]=D.length,D.push(T[h].slice()));D.length;function V(O,C){if(O[C]<0)return C;var k=C,$=C;do{var z=O[$];if(!g[$]||z<0||z===$||($=z,z=O[$],!g[$]||z<0||z===$))break;$=z,k=O[k]}while(k!==$);for(var Y=C;Y!==$;Y=O[Y])O[Y]=$;return $}var H=[];return c.forEach(function(O){var C=V(w,O[0]),k=V(s,O[1]);if(C>=0&&k>=0&&C!==k){var $=u[C],z=u[k];$!==z&&H.push([$,z])}}),M.unique(M.normalize(H)),{positions:D,edges:H}}},1303:function(B,L,a){B.exports=l;var d=a(3250);function M(y,c){var T,R;if(c[0][0]<c[1][0])T=c[0],R=c[1];else if(c[0][0]>c[1][0])T=c[1],R=c[0];else{var v=Math.min(y[0][1],y[1][1]),E=Math.max(y[0][1],y[1][1]),w=Math.min(c[0][1],c[1][1]),s=Math.max(c[0][1],c[1][1]);return E<w?E-w:v>s?v-s:E-s}var p,g;y[0][1]<y[1][1]?(p=y[0],g=y[1]):(p=y[1],g=y[0]);var h=d(R,T,p);return h||(h=d(R,T,g),h)?h:g-R}function l(y,c){var T,R;if(c[0][0]<c[1][0])T=c[0],R=c[1];else if(c[0][0]>c[1][0])T=c[1],R=c[0];else return M(c,y);var v,E;if(y[0][0]<y[1][0])v=y[0],E=y[1];else if(y[0][0]>y[1][0])v=y[1],E=y[0];else return-M(y,c);var w=d(T,R,E),s=d(T,R,v);if(w<0){if(s<=0)return w}else if(w>0){if(s>=0)return w}else if(s)return s;if(w=d(E,v,R),s=d(E,v,T),w<0){if(s<=0)return w}else if(w>0){if(s>=0)return w}else if(s)return s;return R[0]-E[0]}},4209:function(B,L,a){B.exports=s;var d=a(2478),M=a(3840),l=a(3250),y=a(1303);function c(p,g,h){this.slabs=p,this.coordinates=g,this.horizontal=h}var T=c.prototype;function R(p,g){return p.y-g}function v(p,g){for(var h=null;p;){var f=p.key,r,o;f[0][0]<f[1][0]?(r=f[0],o=f[1]):(r=f[1],o=f[0]);var n=l(r,o,g);if(n<0)p=p.left;else if(n>0)if(g[0]!==f[1][0])h=p,p=p.right;else{var t=v(p.right,g);if(t)return t;p=p.left}else{if(g[0]!==f[1][0])return p;var t=v(p.right,g);if(t)return t;p=p.left}}return h}T.castUp=function(p){var g=d.le(this.coordinates,p[0]);if(g<0)return-1;this.slabs[g];var h=v(this.slabs[g],p),f=-1;if(h&&(f=h.value),this.coordinates[g]===p[0]){var r=null;if(h&&(r=h.key),g>0){var o=v(this.slabs[g-1],p);o&&(r?y(o.key,r)>0&&(r=o.key,f=o.value):(f=o.value,r=o.key))}var n=this.horizontal[g];if(n.length>0){var t=d.ge(n,p[1],R);if(t<n.length){var i=n[t];if(p[1]===i.y){if(i.closed)return i.index;for(;t<n.length-1&&n[t+1].y===p[1];)if(t=t+1,i=n[t],i.closed)return i.index;if(i.y===p[1]&&!i.start){if(t=t+1,t>=n.length)return f;i=n[t]}}if(i.start)if(r){var e=l(r[0],r[1],[p[0],i.y]);r[0][0]>r[1][0]&&(e=-e),e>0&&(f=i.index)}else f=i.index;else i.y!==p[1]&&(f=i.index)}}}return f};function E(p,g,h,f){this.y=p,this.index=g,this.start=h,this.closed=f}function w(p,g,h,f){this.x=p,this.segment=g,this.create=h,this.index=f}function s(p){for(var g=p.length,h=2*g,f=new Array(h),r=0;r<g;++r){var o=p[r],n=o[0][0]<o[1][0];f[2*r]=new w(o[0][0],o,n,r),f[2*r+1]=new w(o[1][0],o,!n,r)}f.sort(function(S,_){var u=S.x-_.x;return u||(u=S.create-_.create,u)?u:Math.min(S.segment[0][1],S.segment[1][1])-Math.min(_.segment[0][1],_.segment[1][1])});for(var t=M(y),i=[],e=[],A=[],r=0;r<h;){for(var b=f[r].x,x=[];r<h;){var m=f[r];if(m.x!==b)break;r+=1,m.segment[0][0]===m.x&&m.segment[1][0]===m.x?m.create&&(m.segment[0][1]<m.segment[1][1]?(x.push(new E(m.segment[0][1],m.index,!0,!0)),x.push(new E(m.segment[1][1],m.index,!1,!1))):(x.push(new E(m.segment[1][1],m.index,!0,!1)),x.push(new E(m.segment[0][1],m.index,!1,!0)))):m.create?t=t.insert(m.segment,m.index):t=t.remove(m.segment)}i.push(t.root),e.push(b),A.push(x)}return new c(i,e,A)}},5202:function(B,L,a){var d=a(1944),M=a(8210);B.exports=c,B.exports.positive=T,B.exports.negative=R;function l(v,E){var w=M(d(v,E),[E[E.length-1]]);return w[w.length-1]}function y(v,E,w,s){var p=s-E,g=-E/p;g<0?g=0:g>1&&(g=1);for(var h=1-g,f=v.length,r=new Array(f),o=0;o<f;++o)r[o]=g*v[o]+h*w[o];return r}function c(v,E){for(var w=[],s=[],p=l(v[v.length-1],E),g=v[v.length-1],h=v[0],f=0;f<v.length;++f,g=h){h=v[f];var r=l(h,E);if(p<0&&r>0||p>0&&r<0){var o=y(g,r,h,p);w.push(o),s.push(o.slice())}r<0?s.push(h.slice()):r>0?w.push(h.slice()):(w.push(h.slice()),s.push(h.slice())),p=r}return{positive:w,negative:s}}function T(v,E){for(var w=[],s=l(v[v.length-1],E),p=v[v.length-1],g=v[0],h=0;h<v.length;++h,p=g){g=v[h];var f=l(g,E);(s<0&&f>0||s>0&&f<0)&&w.push(y(p,f,g,s)),f>=0&&w.push(g.slice()),s=f}return w}function R(v,E){for(var w=[],s=l(v[v.length-1],E),p=v[v.length-1],g=v[0],h=0;h<v.length;++h,p=g){g=v[h];var f=l(g,E);(s<0&&f>0||s>0&&f<0)&&w.push(y(p,f,g,s)),f<=0&&w.push(g.slice()),s=f}return w}},3387:function(B,L,a){var d;(function(){var M={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function l(v){return c(R(v),arguments)}function y(v,E){return l.apply(null,[v].concat(E||[]))}function c(v,E){var w=1,s=v.length,p,g="",h,f,r,o,n,t,i,e;for(h=0;h<s;h++)if(typeof v[h]=="string")g+=v[h];else if(typeof v[h]=="object"){if(r=v[h],r.keys)for(p=E[w],f=0;f<r.keys.length;f++){if(p==null)throw new Error(l('[sprintf] Cannot access property "%s" of undefined value "%s"',r.keys[f],r.keys[f-1]));p=p[r.keys[f]]}else r.param_no?p=E[r.param_no]:p=E[w++];if(M.not_type.test(r.type)&&M.not_primitive.test(r.type)&&p instanceof Function&&(p=p()),M.numeric_arg.test(r.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(l("[sprintf] expecting number but found %T",p));switch(M.number.test(r.type)&&(i=p>=0),r.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,r.width?parseInt(r.width):0);break;case"e":p=r.precision?parseFloat(p).toExponential(r.precision):parseFloat(p).toExponential();break;case"f":p=r.precision?parseFloat(p).toFixed(r.precision):parseFloat(p);break;case"g":p=r.precision?String(Number(p.toPrecision(r.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=r.precision?p.substring(0,r.precision):p;break;case"t":p=String(!!p),p=r.precision?p.substring(0,r.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=r.precision?p.substring(0,r.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=r.precision?p.substring(0,r.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}M.json.test(r.type)?g+=p:(M.number.test(r.type)&&(!i||r.sign)?(e=i?"+":"-",p=p.toString().replace(M.sign,"")):e="",n=r.pad_char?r.pad_char==="0"?"0":r.pad_char.charAt(1):" ",t=r.width-(e+p).length,o=r.width&&t>0?n.repeat(t):"",g+=r.align?e+p+o:n==="0"?e+o+p:o+e+p)}return g}var T=Object.create(null);function R(v){if(T[v])return T[v];for(var E=v,w,s=[],p=0;E;){if((w=M.text.exec(E))!==null)s.push(w[0]);else if((w=M.modulo.exec(E))!==null)s.push("%");else if((w=M.placeholder.exec(E))!==null){if(w[2]){p|=1;var g=[],h=w[2],f=[];if((f=M.key.exec(h))!==null)for(g.push(f[1]);(h=h.substring(f[0].length))!=="";)if((f=M.key_access.exec(h))!==null)g.push(f[1]);else if((f=M.index_access.exec(h))!==null)g.push(f[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");w[2]=g}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:w[0],param_no:w[1],keys:w[2],sign:w[3],pad_char:w[4],align:w[5],width:w[6],precision:w[7],type:w[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");E=E.substring(w[0].length)}return T[v]=s}L.sprintf=l,L.vsprintf=y,typeof window<"u"&&(window.sprintf=l,window.vsprintf=y,d=(function(){return{sprintf:l,vsprintf:y}}).call(L,a,L,B),d!==void 0&&(B.exports=d))})()},3711:function(B,L,a){B.exports=R;var d=a(2640),M=a(781),l={"2d":function(v,E,w){var s=v({order:E,scalarArguments:3,getters:w==="generic"?[0]:void 0,phase:function(g,h,f,r){return g>r|0},vertex:function(g,h,f,r,o,n,t,i,e,A,b,x,m){var S=(t<<0)+(i<<1)+(e<<2)+(A<<3)|0;if(!(S===0||S===15))switch(S){case 0:b.push([g-.5,h-.5]);break;case 1:b.push([g-.25-.25*(r+f-2*m)/(f-r),h-.25-.25*(o+f-2*m)/(f-o)]);break;case 2:b.push([g-.75-.25*(-r-f+2*m)/(r-f),h-.25-.25*(n+r-2*m)/(r-n)]);break;case 3:b.push([g-.5,h-.5-.5*(o+f+n+r-4*m)/(f-o+r-n)]);break;case 4:b.push([g-.25-.25*(n+o-2*m)/(o-n),h-.75-.25*(-o-f+2*m)/(o-f)]);break;case 5:b.push([g-.5-.5*(r+f+n+o-4*m)/(f-r+o-n),h-.5]);break;case 6:b.push([g-.5-.25*(-r-f+n+o)/(r-f+o-n),h-.5-.25*(-o-f+n+r)/(o-f+r-n)]);break;case 7:b.push([g-.75-.25*(n+o-2*m)/(o-n),h-.75-.25*(n+r-2*m)/(r-n)]);break;case 8:b.push([g-.75-.25*(-n-o+2*m)/(n-o),h-.75-.25*(-n-r+2*m)/(n-r)]);break;case 9:b.push([g-.5-.25*(r+f+-n-o)/(f-r+n-o),h-.5-.25*(o+f+-n-r)/(f-o+n-r)]);break;case 10:b.push([g-.5-.5*(-r-f+-n-o+4*m)/(r-f+n-o),h-.5]);break;case 11:b.push([g-.25-.25*(-n-o+2*m)/(n-o),h-.75-.25*(o+f-2*m)/(f-o)]);break;case 12:b.push([g-.5,h-.5-.5*(-o-f+-n-r+4*m)/(o-f+n-r)]);break;case 13:b.push([g-.75-.25*(r+f-2*m)/(f-r),h-.25-.25*(-n-r+2*m)/(n-r)]);break;case 14:b.push([g-.25-.25*(-r-f+2*m)/(r-f),h-.25-.25*(-o-f+2*m)/(o-f)]);break;case 15:b.push([g-.5,h-.5]);break}},cell:function(g,h,f,r,o,n,t,i,e){o?i.push([g,h]):i.push([h,g])}});return function(p,g){var h=[],f=[];return s(p,h,f,g),{positions:h,cells:f}}}};function y(v,E){var w=v.length+"d",s=l[w];if(s)return s(d,v,E)}function c(v,E){for(var w=M(v,E),s=w.length,p=new Array(s),g=new Array(s),h=0;h<s;++h)p[h]=[w[h]],g[h]=[h];return{positions:p,cells:g}}var T={};function R(v,p){if(v.dimension<=0)return{positions:[],cells:[]};if(v.dimension===1)return c(v,p);var w=v.order.join()+"-"+v.dtype,s=T[w],p=+p||0;return s||(s=T[w]=y(v.order,v.dtype)),s(v,p)}},665:function(B,L,a){var d=a(3202);B.exports=c;var M=96;function l(T,R){var v=d(getComputedStyle(T).getPropertyValue(R));return v[0]*c(v[1],T)}function y(T,R){var v=document.createElement("div");v.style["font-size"]="128"+T,R.appendChild(v);var E=l(v,"font-size")/128;return R.removeChild(v),E}function c(T,R){switch(R=R||document.body,T=(T||"px").trim().toLowerCase(),(R===window||R===document)&&(R=document.body),T){case"%":return R.clientHeight/100;case"ch":case"ex":return y(T,R);case"em":return l(R,"font-size");case"rem":return l(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return M;case"cm":return M/2.54;case"mm":return M/25.4;case"pt":return M/72;case"pc":return M/6}return 1}},7261:function(B,L,a){B.exports=g;var d=a(9215),M=a(7608),l=a(6079),y=a(5911),c=a(3536),T=a(244);function R(h,f,r){return Math.sqrt(Math.pow(h,2)+Math.pow(f,2)+Math.pow(r,2))}function v(h){return Math.min(1,Math.max(-1,h))}function E(h){var f=Math.abs(h[0]),r=Math.abs(h[1]),o=Math.abs(h[2]),n=[0,0,0];f>Math.max(r,o)?n[2]=1:r>Math.max(f,o)?n[0]=1:n[1]=1;for(var t=0,i=0,e=0;e<3;++e)t+=h[e]*h[e],i+=n[e]*h[e];for(var e=0;e<3;++e)n[e]-=i/t*h[e];return c(n,n),n}function w(h,f,r,o,n,t,i,e){this.center=d(r),this.up=d(o),this.right=d(n),this.radius=d([t]),this.angle=d([i,e]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(h,f),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var A=0;A<16;++A)this.computedMatrix[A]=.5;this.recalcMatrix(0)}var s=w.prototype;s.setDistanceLimits=function(h,f){h>0?h=Math.log(h):h=-1/0,f>0?f=Math.log(f):f=1/0,f=Math.max(f,h),this.radius.bounds[0][0]=h,this.radius.bounds[1][0]=f},s.getDistanceLimits=function(h){var f=this.radius.bounds[0];return h?(h[0]=Math.exp(f[0][0]),h[1]=Math.exp(f[1][0]),h):[Math.exp(f[0][0]),Math.exp(f[1][0])]},s.recalcMatrix=function(h){this.center.curve(h),this.up.curve(h),this.right.curve(h),this.radius.curve(h),this.angle.curve(h);for(var f=this.computedUp,r=this.computedRight,o=0,n=0,t=0;t<3;++t)n+=f[t]*r[t],o+=f[t]*f[t];for(var i=Math.sqrt(o),e=0,t=0;t<3;++t)r[t]-=f[t]*n/o,e+=r[t]*r[t],f[t]/=i;for(var A=Math.sqrt(e),t=0;t<3;++t)r[t]/=A;var b=this.computedToward;y(b,f,r),c(b,b);for(var x=Math.exp(this.computedRadius[0]),m=this.computedAngle[0],S=this.computedAngle[1],_=Math.cos(m),u=Math.sin(m),I=Math.cos(S),F=Math.sin(S),P=this.computedCenter,D=_*I,V=u*I,H=F,O=-_*F,C=-u*F,k=I,$=this.computedEye,z=this.computedMatrix,t=0;t<3;++t){var Y=D*r[t]+V*b[t]+H*f[t];z[4*t+1]=O*r[t]+C*b[t]+k*f[t],z[4*t+2]=Y,z[4*t+3]=0}var G=z[1],X=z[5],K=z[9],W=z[2],Z=z[6],J=z[10],tt=X*J-K*Z,it=K*W-G*J,et=G*Z-X*W,j=R(tt,it,et);tt/=j,it/=j,et/=j,z[0]=tt,z[4]=it,z[8]=et;for(var t=0;t<3;++t)$[t]=P[t]+z[2+4*t]*x;for(var t=0;t<3;++t){for(var e=0,at=0;at<3;++at)e+=z[t+4*at]*$[at];z[12+t]=-e}z[15]=1},s.getMatrix=function(h,f){this.recalcMatrix(h);var r=this.computedMatrix;if(f){for(var o=0;o<16;++o)f[o]=r[o];return f}return r};var p=[0,0,0];s.rotate=function(h,f,r,o){if(this.angle.move(h,f,r),o){this.recalcMatrix(h);var n=this.computedMatrix;p[0]=n[2],p[1]=n[6],p[2]=n[10];for(var t=this.computedUp,i=this.computedRight,e=this.computedToward,A=0;A<3;++A)n[4*A]=t[A],n[4*A+1]=i[A],n[4*A+2]=e[A];l(n,n,o,p);for(var A=0;A<3;++A)t[A]=n[4*A],i[A]=n[4*A+1];this.up.set(h,t[0],t[1],t[2]),this.right.set(h,i[0],i[1],i[2])}},s.pan=function(h,f,r,o){f=f||0,r=r||0,o=o||0,this.recalcMatrix(h);var n=this.computedMatrix;Math.exp(this.computedRadius[0]);var t=n[1],i=n[5],e=n[9],A=R(t,i,e);t/=A,i/=A,e/=A;var b=n[0],x=n[4],m=n[8],S=b*t+x*i+m*e;b-=t*S,x-=i*S,m-=e*S;var _=R(b,x,m);b/=_,x/=_,m/=_;var u=b*f+t*r,I=x*f+i*r,F=m*f+e*r;this.center.move(h,u,I,F);var P=Math.exp(this.computedRadius[0]);P=Math.max(1e-4,P+o),this.radius.set(h,Math.log(P))},s.translate=function(h,f,r,o){this.center.move(h,f||0,r||0,o||0)},s.setMatrix=function(h,f,r,o){var n=1;typeof r=="number"&&(n=r|0),(n<0||n>3)&&(n=1);var t=(n+2)%3;f||(this.recalcMatrix(h),f=this.computedMatrix);var i=f[n],e=f[n+4],A=f[n+8];if(o){var x=Math.abs(i),m=Math.abs(e),S=Math.abs(A),_=Math.max(x,m,S);x===_?(i=i<0?-1:1,e=A=0):S===_?(A=A<0?-1:1,i=e=0):(e=e<0?-1:1,i=A=0)}else{var b=R(i,e,A);i/=b,e/=b,A/=b}var u=f[t],I=f[t+4],F=f[t+8],P=u*i+I*e+F*A;u-=i*P,I-=e*P,F-=A*P;var D=R(u,I,F);u/=D,I/=D,F/=D;var V=e*F-A*I,H=A*u-i*F,O=i*I-e*u,C=R(V,H,O);V/=C,H/=C,O/=C,this.center.jump(h,ft,xt,dt),this.radius.idle(h),this.up.jump(h,i,e,A),this.right.jump(h,u,I,F);var k,$;if(n===2){var z=f[1],Y=f[5],G=f[9],X=z*u+Y*I+G*F,K=z*V+Y*H+G*O;tt<0?k=-Math.PI/2:k=Math.PI/2,$=Math.atan2(K,X)}else{var W=f[2],Z=f[6],J=f[10],tt=W*i+Z*e+J*A,it=W*u+Z*I+J*F,et=W*V+Z*H+J*O;k=Math.asin(v(tt)),$=Math.atan2(et,it)}this.angle.jump(h,$,k),this.recalcMatrix(h);var j=f[2],at=f[6],rt=f[10],st=this.computedMatrix;M(st,f);var ot=st[15],ft=st[12]/ot,xt=st[13]/ot,dt=st[14]/ot,ht=Math.exp(this.computedRadius[0]);this.center.jump(h,ft-j*ht,xt-at*ht,dt-rt*ht)},s.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},s.idle=function(h){this.center.idle(h),this.up.idle(h),this.right.idle(h),this.radius.idle(h),this.angle.idle(h)},s.flush=function(h){this.center.flush(h),this.up.flush(h),this.right.flush(h),this.radius.flush(h),this.angle.flush(h)},s.setDistance=function(h,f){f>0&&this.radius.set(h,Math.log(f))},s.lookAt=function(h,f,r,o){this.recalcMatrix(h),f=f||this.computedEye,r=r||this.computedCenter,o=o||this.computedUp;var n=o[0],t=o[1],i=o[2],e=R(n,t,i);if(!(e<1e-6)){n/=e,t/=e,i/=e;var A=f[0]-r[0],b=f[1]-r[1],x=f[2]-r[2],m=R(A,b,x);if(!(m<1e-6)){A/=m,b/=m,x/=m;var S=this.computedRight,_=S[0],u=S[1],I=S[2],F=n*_+t*u+i*I;_-=F*n,u-=F*t,I-=F*i;var P=R(_,u,I);if(!(P<.01&&(_=t*x-i*b,u=i*A-n*x,I=n*b-t*A,P=R(_,u,I),P<1e-6))){_/=P,u/=P,I/=P,this.up.set(h,n,t,i),this.right.set(h,_,u,I),this.center.set(h,r[0],r[1],r[2]),this.radius.set(h,Math.log(m));var D=t*I-i*u,V=i*_-n*I,H=n*u-t*_,O=R(D,V,H);D/=O,V/=O,H/=O;var C=n*A+t*b+i*x,k=_*A+u*b+I*x,$=D*A+V*b+H*x,z=Math.asin(v(C)),Y=Math.atan2($,k),G=this.angle._state,X=G[G.length-1],K=G[G.length-2];X=X%(2*Math.PI);var W=Math.abs(X+2*Math.PI-Y),Z=Math.abs(X-Y),J=Math.abs(X-2*Math.PI-Y);W<Z&&(X+=2*Math.PI),J<Z&&(X-=2*Math.PI),this.angle.jump(this.angle.lastT(),X,K),this.angle.set(h,Y,z)}}}};function g(h){h=h||{};var f=h.center||[0,0,0],r=h.up||[0,1,0],o=h.right||E(r),n=h.radius||1,t=h.theta||0,i=h.phi||0;if(f=[].slice.call(f,0,3),r=[].slice.call(r,0,3),c(r,r),o=[].slice.call(o,0,3),c(o,o),"eye"in h){var e=h.eye,A=[e[0]-f[0],e[1]-f[1],e[2]-f[2]];y(o,A,r),R(o[0],o[1],o[2])<1e-6?o=E(r):c(o,o),n=R(A[0],A[1],A[2]);var b=T(r,A)/n,x=T(o,A)/n;i=Math.acos(b),t=Math.acos(x)}return n=Math.log(n),new w(h.zoomMin,h.zoomMax,f,r,o,n,t,i)}},5250:function(B){B.exports=a;var L=+(Math.pow(2,27)+1);function a(d,M,l){var y=d*M,c=L*d,T=c-d,R=c-T,v=d-R,E=L*M,w=E-M,s=E-w,p=M-s,g=y-R*s,h=g-v*s,f=h-R*p,r=v*p-f;return l?(l[0]=r,l[1]=y,l):[r,y]}},9362:function(B){B.exports=L;function L(a,d,M){var l=a+d,y=l-a,c=l-y,T=d-y,R=a-c;return M?(M[0]=R+T,M[1]=l,M):[R+T,l]}},1888:function(B,L,a){var d=a(8828),M=a(1338),l=a(4793).hp;a.g.__TYPEDARRAY_POOL||(a.g.__TYPEDARRAY_POOL={UINT8:M([32,0]),UINT16:M([32,0]),UINT32:M([32,0]),BIGUINT64:M([32,0]),INT8:M([32,0]),INT16:M([32,0]),INT32:M([32,0]),BIGINT64:M([32,0]),FLOAT:M([32,0]),DOUBLE:M([32,0]),DATA:M([32,0]),UINT8C:M([32,0]),BUFFER:M([32,0])});var y=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",T=typeof BigInt64Array<"u",R=a.g.__TYPEDARRAY_POOL;R.UINT8C||(R.UINT8C=M([32,0])),R.BIGUINT64||(R.BIGUINT64=M([32,0])),R.BIGINT64||(R.BIGINT64=M([32,0])),R.BUFFER||(R.BUFFER=M([32,0]));var v=R.DATA,E=R.BUFFER;L.free=function(_){if(l.isBuffer(_))E[d.log2(_.length)].push(_);else{if(Object.prototype.toString.call(_)!=="[object ArrayBuffer]"&&(_=_.buffer),!_)return;var u=_.length||_.byteLength,I=d.log2(u)|0;v[I].push(_)}};function w(S){if(S){var _=S.length||S.byteLength,u=d.log2(_);v[u].push(S)}}function s(S){w(S.buffer)}L.freeUint8=L.freeUint16=L.freeUint32=L.freeBigUint64=L.freeInt8=L.freeInt16=L.freeInt32=L.freeBigInt64=L.freeFloat32=L.freeFloat=L.freeFloat64=L.freeDouble=L.freeUint8Clamped=L.freeDataView=s,L.freeArrayBuffer=w,L.freeBuffer=function(_){E[d.log2(_.length)].push(_)},L.malloc=function(_,u){if(u===void 0||u==="arraybuffer")return p(_);switch(u){case"uint8":return g(_);case"uint16":return h(_);case"uint32":return f(_);case"int8":return r(_);case"int16":return o(_);case"int32":return n(_);case"float":case"float32":return t(_);case"double":case"float64":return i(_);case"uint8_clamped":return e(_);case"bigint64":return b(_);case"biguint64":return A(_);case"buffer":return m(_);case"data":case"dataview":return x(_);default:return null}return null};function p(_){var _=d.nextPow2(_),u=d.log2(_),I=v[u];return I.length>0?I.pop():new ArrayBuffer(_)}L.mallocArrayBuffer=p;function g(S){return new Uint8Array(p(S),0,S)}L.mallocUint8=g;function h(S){return new Uint16Array(p(2*S),0,S)}L.mallocUint16=h;function f(S){return new Uint32Array(p(4*S),0,S)}L.mallocUint32=f;function r(S){return new Int8Array(p(S),0,S)}L.mallocInt8=r;function o(S){return new Int16Array(p(2*S),0,S)}L.mallocInt16=o;function n(S){return new Int32Array(p(4*S),0,S)}L.mallocInt32=n;function t(S){return new Float32Array(p(4*S),0,S)}L.mallocFloat32=L.mallocFloat=t;function i(S){return new Float64Array(p(8*S),0,S)}L.mallocFloat64=L.mallocDouble=i;function e(S){return y?new Uint8ClampedArray(p(S),0,S):g(S)}L.mallocUint8Clamped=e;function A(S){return c?new BigUint64Array(p(8*S),0,S):null}L.mallocBigUint64=A;function b(S){return T?new BigInt64Array(p(8*S),0,S):null}L.mallocBigInt64=b;function x(S){return new DataView(p(S),0,S)}L.mallocDataView=x;function m(S){S=d.nextPow2(S);var _=d.log2(S),u=E[_];return u.length>0?u.pop():new l(S)}L.mallocBuffer=m,L.clearCache=function(){for(var _=0;_<32;++_)R.UINT8[_].length=0,R.UINT16[_].length=0,R.UINT32[_].length=0,R.INT8[_].length=0,R.INT16[_].length=0,R.INT32[_].length=0,R.FLOAT[_].length=0,R.DOUBLE[_].length=0,R.BIGUINT64[_].length=0,R.BIGINT64[_].length=0,R.UINT8C[_].length=0,v[_].length=0,E[_].length=0}},1755:function(B){"use restrict";B.exports=L;function L(d){this.roots=new Array(d),this.ranks=new Array(d);for(var M=0;M<d;++M)this.roots[M]=M,this.ranks[M]=0}var a=L.prototype;Object.defineProperty(a,"length",{get:function(){return this.roots.length}}),a.makeSet=function(){var d=this.roots.length;return this.roots.push(d),this.ranks.push(0),d},a.find=function(d){for(var M=d,l=this.roots;l[d]!==d;)d=l[d];for(;l[M]!==d;){var y=l[M];l[M]=d,M=y}return d},a.link=function(d,M){var l=this.find(d),y=this.find(M);if(l!==y){var c=this.ranks,T=this.roots,R=c[l],v=c[y];R<v?T[l]=y:v<R?T[y]=l:(T[y]=l,++c[l])}}},1682:function(B){function L(M,l){for(var y=1,c=M.length,T=M[0],R=M[0],v=1;v<c;++v)if(R=T,T=M[v],l(T,R)){if(v===y){y++;continue}M[y++]=T}return M.length=y,M}function a(M){for(var l=1,y=M.length,c=M[0],T=M[0],R=1;R<y;++R,T=c)if(T=c,c=M[R],c!==T){if(R===l){l++;continue}M[l++]=c}return M.length=l,M}function d(M,l,y){return M.length===0?M:l?(y||M.sort(l),L(M,l)):(y||M.sort(),a(M))}B.exports=d},4359:function(B,L,a){B.exports=y;var d=a(7718),M=null,l=null;typeof document<"u"&&(M=document.createElement("canvas"),M.width=8192,M.height=1024,l=M.getContext("2d"));function y(c,T){return(typeof T!="object"||T===null)&&(T={}),d(c,T.canvas||M,T.context||l,T)}},7718:function(B,L,a){B.exports=b,B.exports.processPixels=A;var d=a(3711),M=a(9618),l=a(5878),y=a(332),c=a(2538),T=a(2095),R="b",v="b|",E="i",w="i|",s="sup",p="+",g="+1",h="sub",f="-",r="-1";function o(x,m,S,_){for(var u="<"+x+">",I="</"+x+">",F=u.length,P=I.length,D=m[0]===p||m[0]===f,V=0,H=-P;V>-1&&(V=S.indexOf(u,V),!(V===-1||(H=S.indexOf(I,V+F),H===-1)||H<=V));){for(var O=V;O<H+P;++O)if(O<V+F||O>=H)_[O]=null,S=S.substr(0,O)+" "+S.substr(O+1);else if(_[O]!==null){var C=_[O].indexOf(m[0]);C===-1?_[O]+=m:D&&(_[O]=_[O].substr(0,C+1)+(1+parseInt(_[O][C+1]))+_[O].substr(C+2))}var k=V+F,$=S.substr(k,H-k),z=$.indexOf(u);z!==-1?V=z:V=H+P}return _}function n(x,m,S){for(var _=m.textAlign||"start",u=m.textBaseline||"alphabetic",I=[1<<30,1<<30],F=[0,0],P=x.length,D=0;D<P;++D)for(var V=x[D],H=0;H<2;++H)I[H]=Math.min(I[H],V[H])|0,F[H]=Math.max(F[H],V[H])|0;var O=0;switch(_){case"center":O=-.5*(I[0]+F[0]);break;case"right":case"end":O=-F[0];break;case"left":case"start":O=-I[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+_+"'")}var C=0;switch(u){case"hanging":case"top":C=-I[1];break;case"middle":C=-.5*(I[1]+F[1]);break;case"alphabetic":case"ideographic":C=-3*S;break;case"bottom":C=-F[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+u+"'")}var k=1/S;return"lineHeight"in m?k*=+m.lineHeight:"width"in m?k=m.width/(F[0]-I[0]):"height"in m&&(k=m.height/(F[1]-I[1])),x.map(function($){return[k*($[0]+O),k*($[1]+C)]})}function t(x,m,S,_,u,I){S=S.replace(/\n/g,""),I.breaklines===!0?S=S.replace(/\<br\>/g,`
`):S=S.replace(/\<br\>/g," ");var F="",P=[];for(X=0;X<S.length;++X)P[X]=F;I.bolds===!0&&(P=o(R,v,S,P)),I.italics===!0&&(P=o(E,w,S,P)),I.superscripts===!0&&(P=o(s,g,S,P)),I.subscripts===!0&&(P=o(h,r,S,P));var D=[],V="";for(X=0;X<S.length;++X)P[X]!==null&&(V+=S[X],D.push(P[X]));var H=V.split(`
`),O=H.length,C=Math.round(u*_),k=_,$=_*2,z=0,Y=O*C+$;x.height<Y&&(x.height=Y),m.fillStyle="#000",m.fillRect(0,0,x.width,x.height),m.fillStyle="#fff";var G,X,K,W,Z,J=0,tt="";function it(){if(tt!==""){var dt=m.measureText(tt).width;m.fillText(tt,k+K,$+W),K+=dt}}function et(){return""+Math.round(Z)+"px "}function j(dt,ht){var pt=""+m.font;if(I.subscripts===!0){var lt=dt.indexOf(f),bt=ht.indexOf(f),Tt=lt>-1?parseInt(dt[1+lt]):0,yt=bt>-1?parseInt(ht[1+bt]):0;Tt!==yt&&(pt=pt.replace(et(),"?px "),Z*=Math.pow(.75,yt-Tt),pt=pt.replace("?px ",et())),W+=.25*C*(yt-Tt)}if(I.superscripts===!0){var ut=dt.indexOf(p),vt=ht.indexOf(p),Mt=ut>-1?parseInt(dt[1+ut]):0,_t=vt>-1?parseInt(ht[1+vt]):0;Mt!==_t&&(pt=pt.replace(et(),"?px "),Z*=Math.pow(.75,_t-Mt),pt=pt.replace("?px ",et())),W-=.25*C*(_t-Mt)}if(I.bolds===!0){var Pt=dt.indexOf(v)>-1,Ct=ht.indexOf(v)>-1;!Pt&&Ct&&(At?pt=pt.replace("italic ","italic bold "):pt="bold "+pt),Pt&&!Ct&&(pt=pt.replace("bold ",""))}if(I.italics===!0){var At=dt.indexOf(w)>-1,Ot=ht.indexOf(w)>-1;!At&&Ot&&(pt="italic "+pt),At&&!Ot&&(pt=pt.replace("italic ",""))}m.font=pt}for(G=0;G<O;++G){var at=H[G]+`
`;for(K=0,W=G*C,Z=_,tt="",X=0;X<at.length;++X){var rt=X+J<D.length?D[X+J]:D[D.length-1];F===rt?tt+=at[X]:(it(),tt=at[X],rt!==void 0&&(j(F,rt),F=rt))}it(),J+=at.length;var st=Math.round(K+2*k)|0;z<st&&(z=st)}var ot=z,ft=$+C*O,xt=M(m.getImageData(0,0,ot,ft).data,[ft,ot,4]);return xt.pick(-1,-1,0).transpose(1,0)}function i(x,m){var S=d(x,128);return m?l(S.cells,S.positions,.25):{edges:S.cells,positions:S.positions}}function e(x,m,S,_){var u=i(x,_),I=n(u.positions,m,S),F=u.edges,P=m.orientation==="ccw";if(y(I,F),m.polygons||m.polygon||m.polyline){for(var D=T(F,I),V=new Array(D.length),H=0;H<D.length;++H){for(var O=D[H],C=new Array(O.length),k=0;k<O.length;++k){for(var $=O[k],z=new Array($.length),Y=0;Y<$.length;++Y)z[Y]=I[$[Y]].slice();P&&z.reverse(),C[k]=z}V[H]=C}return V}else return m.triangles||m.triangulate||m.triangle?{cells:c(I,F,{delaunay:!1,exterior:!1,interior:!0}),positions:I}:{edges:F,positions:I}}function A(x,m,S){try{return e(x,m,S,!0)}catch{}try{return e(x,m,S,!1)}catch{}return m.polygons||m.polyline||m.polygon?[]:m.triangles||m.triangulate||m.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function b(x,m,S,_){var u=64,I=1.25,F={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};_&&(_.size&&_.size>0&&(u=_.size),_.lineSpacing&&_.lineSpacing>0&&(I=_.lineSpacing),_.styletags&&_.styletags.breaklines&&(F.breaklines=!!_.styletags.breaklines),_.styletags&&_.styletags.bolds&&(F.bolds=!!_.styletags.bolds),_.styletags&&_.styletags.italics&&(F.italics=!!_.styletags.italics),_.styletags&&_.styletags.subscripts&&(F.subscripts=!!_.styletags.subscripts),_.styletags&&_.styletags.superscripts&&(F.superscripts=!!_.styletags.superscripts)),S.font=[_.fontStyle,_.fontVariant,_.fontWeight,u+"px",_.font].filter(function(D){return D}).join(" "),S.textAlign="start",S.textBaseline="alphabetic",S.direction="ltr";var P=t(m,S,x,u,I,F);return A(P,_,u)}},1538:function(B){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function a(i){i.permitHostObjects___&&i.permitHostObjects___(a)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=a);var d=!1;if(typeof WeakMap=="function"){var M=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var l=new M,y=Object.freeze({});if(l.set(y,1),l.get(y)!==1)d=!0;else{B.exports=WeakMap;return}}}var c=Object.getOwnPropertyNames,T=Object.defineProperty,R=Object.isExtensible,v="weakmap:",E=v+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var w=new ArrayBuffer(25),s=new Uint8Array(w);crypto.getRandomValues(s),E=v+"rand:"+Array.prototype.map.call(s,function(i){return(i%36).toString(36)}).join("")+"___"}function p(i){return!(i.substr(0,v.length)==v&&i.substr(i.length-3)==="___")}if(T(Object,"getOwnPropertyNames",{value:function(e){return c(e).filter(p)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;T(Object,"getPropertyNames",{value:function(e){return g(e).filter(p)}})}function h(i){if(i!==Object(i))throw new TypeError("Not an object: "+i);var e=i[E];if(e&&e.key===i)return e;if(R(i)){e={key:i};try{return T(i,E,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch{return}}}(function(){var i=Object.freeze;T(Object,"freeze",{value:function(x){return h(x),i(x)}});var e=Object.seal;T(Object,"seal",{value:function(x){return h(x),e(x)}});var A=Object.preventExtensions;T(Object,"preventExtensions",{value:function(x){return h(x),A(x)}})})();function f(i){return i.prototype=null,Object.freeze(i)}var r=!1;function o(){!r&&typeof console<"u"&&(r=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var n=0,t=function(){this instanceof t||o();var i=[],e=[],A=n++;function b(_,u){var I,F=h(_);return F?A in F?F[A]:u:(I=i.indexOf(_),I>=0?e[I]:u)}function x(_){var u=h(_);return u?A in u:i.indexOf(_)>=0}function m(_,u){var I,F=h(_);return F?F[A]=u:(I=i.indexOf(_),I>=0?e[I]=u:(I=i.length,e[I]=u,i[I]=_)),this}function S(_){var u=h(_),I,F;return u?A in u&&delete u[A]:(I=i.indexOf(_),I<0?!1:(F=i.length-1,i[I]=void 0,e[I]=e[F],i[I]=i[F],i.length=F,e.length=F,!0))}return Object.create(t.prototype,{get___:{value:f(b)},has___:{value:f(x)},set___:{value:f(m)},delete___:{value:f(S)}})};t.prototype=Object.create(Object.prototype,{get:{value:function(e,A){return this.get___(e,A)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,A){return this.set___(e,A)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),typeof M=="function"?function(){d&&typeof Proxy<"u"&&(Proxy=void 0);function i(){this instanceof t||o();var e=new M,A=void 0,b=!1;function x(u,I){return A?e.has(u)?e.get(u):A.get___(u,I):e.get(u,I)}function m(u){return e.has(u)||(A?A.has___(u):!1)}var S;d?S=function(u,I){return e.set(u,I),e.has(u)||(A||(A=new t),A.set(u,I)),this}:S=function(u,I){if(b)try{e.set(u,I)}catch{A||(A=new t),A.set___(u,I)}else e.set(u,I);return this};function _(u){var I=!!e.delete(u);return A&&A.delete___(u)||I}return Object.create(t.prototype,{get___:{value:f(x)},has___:{value:f(m)},set___:{value:f(S)},delete___:{value:f(_)},permitHostObjects___:{value:f(function(u){if(u===a)b=!0;else throw new Error("bogus call to permitHostObjects___")})}})}i.prototype=t.prototype,B.exports=i,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),B.exports=t)})()},236:function(B,L,a){var d=a(8284);B.exports=M;function M(){var l={};return function(y){if((typeof y!="object"||y===null)&&typeof y!="function")throw new Error("Weakmap-shim: Key must be object");var c=y.valueOf(l);return c&&c.identity===l?c:d(y,l)}}},8284:function(B){B.exports=L;function L(a,d){var M={identity:d},l=a.valueOf;return Object.defineProperty(a,"valueOf",{value:function(y){return y!==d?l.apply(this,arguments):M},writable:!0}),M}},606:function(B,L,a){var d=a(236);B.exports=M;function M(){var l=d();return{get:function(y,c){var T=l(y);return T.hasOwnProperty("value")?T.value:c},set:function(y,c){return l(y).value=c,this},has:function(y){return"value"in l(y)},delete:function(y){return delete l(y).value}}}},3349:function(B){function L(){return function(c,T,R,v,E,w){var s=c[0],p=R[0],g=[0],h=p;v|=0;var f=0,r=p;for(f=0;f<s;++f){{var o=T[v]-w,n=T[v+h]-w;o>=0!=n>=0&&E.push(g[0]+.5+.5*(o+n)/(o-n))}v+=r,++g[0]}}}function a(){return L()}var d=a;function M(c){var T={};return function(v,E,w){var s=v.dtype,p=v.order,g=[s,p.join()].join(),h=T[g];return h||(T[g]=h=c([s,p])),h(v.shape.slice(0),v.data,v.stride,v.offset|0,E,w)}}function l(c){return M(d.bind(void 0,c))}function y(c){return l({funcName:c.funcName})}B.exports=y({funcName:"zeroCrossings"})},781:function(B,L,a){B.exports=M;var d=a(3349);function M(l,y){var c=[];return y=+y||0,d(l.hi(l.shape[0]-1),c,y),c}},7790:function(){}},Et={};function Rt(B){var L=Et[B];if(L!==void 0)return L.exports;var a=Et[B]={id:B,loaded:!1,exports:{}};return Ft[B].call(a.exports,a,a.exports,Rt),a.loaded=!0,a.exports}(function(){Rt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){Rt.nmd=function(B){return B.paths=[],B.children||(B.children=[]),B}}();var wt=Rt(1964);ye.exports=wt}()),ye.exports}var xe,He;function Br(){return He||(He=1,xe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),xe}var be,Ge;function Nr(){if(Ge)return be;Ge=1;var Ft=Br();be=Rt;var Et={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Rt(wt){var B,L=[],a=1,d;if(typeof wt=="string")if(wt=wt.toLowerCase(),Ft[wt])L=Ft[wt].slice(),d="rgb";else if(wt==="transparent")a=0,d="rgb",L=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(wt)){var M=wt.slice(1),l=M.length,y=l<=4;a=1,y?(L=[parseInt(M[0]+M[0],16),parseInt(M[1]+M[1],16),parseInt(M[2]+M[2],16)],l===4&&(a=parseInt(M[3]+M[3],16)/255)):(L=[parseInt(M[0]+M[1],16),parseInt(M[2]+M[3],16),parseInt(M[4]+M[5],16)],l===8&&(a=parseInt(M[6]+M[7],16)/255)),L[0]||(L[0]=0),L[1]||(L[1]=0),L[2]||(L[2]=0),d="rgb"}else if(B=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(wt)){var c=B[1],T=c==="rgb",M=c.replace(/a$/,"");d=M;var l=M==="cmyk"?4:M==="gray"?1:3;L=B[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(E,w){if(/%$/.test(E))return w===l?parseFloat(E)/100:M==="rgb"?parseFloat(E)*255/100:parseFloat(E);if(M[w]==="h"){if(/deg$/.test(E))return parseFloat(E);if(Et[E]!==void 0)return Et[E]}return parseFloat(E)}),c===M&&L.push(1),a=T||L[l]===void 0?1:L[l],L=L.slice(0,l)}else wt.length>10&&/[0-9](?:\s|\/)/.test(wt)&&(L=wt.match(/([0-9]+)/g).map(function(R){return parseFloat(R)}),d=wt.match(/([a-z])/ig).join("").toLowerCase());else isNaN(wt)?Array.isArray(wt)||wt.length?(L=[wt[0],wt[1],wt[2]],d="rgb",a=wt.length===4?wt[3]:1):wt instanceof Object&&(wt.r!=null||wt.red!=null||wt.R!=null?(d="rgb",L=[wt.r||wt.red||wt.R||0,wt.g||wt.green||wt.G||0,wt.b||wt.blue||wt.B||0]):(d="hsl",L=[wt.h||wt.hue||wt.H||0,wt.s||wt.saturation||wt.S||0,wt.l||wt.lightness||wt.L||wt.b||wt.brightness]),a=wt.a||wt.alpha||wt.opacity||1,wt.opacity!=null&&(a/=100)):(d="rgb",L=[wt>>>16,(wt&65280)>>>8,wt&255]);return{space:d,values:L,alpha:a}}return be}var we,We;function kr(){if(We)return we;We=1;var Ft=Nr();we=function(wt){Array.isArray(wt)&&wt.raw&&(wt=String.raw.apply(null,arguments));var B,L=Ft(wt);if(!L.space)return[];var a=[0,0,0],d=L.space[0]==="h"?[360,100,100]:[255,255,255];return B=Array(3),B[0]=Math.min(Math.max(L.values[0],a[0]),d[0]),B[1]=Math.min(Math.max(L.values[1],a[1]),d[1]),B[2]=Math.min(Math.max(L.values[2],a[2]),d[2]),L.space[0]==="h"&&(B=Et(B)),B.push(Math.min(Math.max(L.alpha,0),1)),B};function Et(Rt){var wt=Rt[0]/360,B=Rt[1]/100,L=Rt[2]/100,a,d,M,l,y,c=0;if(B===0)return y=L*255,[y,y,y];for(d=L<.5?L*(1+B):L+B-L*B,a=2*L-d,l=[0,0,0];c<3;)M=wt+1/3*-(c-1),M<0?M++:M>1&&M--,y=6*M<1?a+(d-a)*6*M:2*M<1?d:3*M<2?a+(d-a)*(2/3-M)*6:a,l[c++]=y*255;return l}return we}var Ee,Xe;function Dr(){if(Xe)return Ee;Xe=1,Ee=Ft;function Ft(Et,Rt,wt){return Rt<wt?Et<Rt?Rt:Et>wt?wt:Et:Et<wt?wt:Et>Rt?Rt:Et}return Ee}var Me,Ye;function zr(){return Ye||(Ye=1,Me=function(Ft){switch(Ft){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}),Me}var Te,Ze;function xr(){if(Ze)return Te;Ze=1;var Ft=kr(),Et=Dr(),Rt=zr();Te=function(L,a){(a==="float"||!a)&&(a="array"),a==="uint"&&(a="uint8"),a==="uint_clamped"&&(a="uint8_clamped");var d=Rt(a),M=new d(4),l=a!=="uint8"&&a!=="uint8_clamped";return(!L.length||typeof L=="string")&&(L=Ft(L),L[0]/=255,L[1]/=255,L[2]/=255),wt(L)?(M[0]=L[0],M[1]=L[1],M[2]=L[2],M[3]=L[3]!=null?L[3]:255,l&&(M[0]/=255,M[1]/=255,M[2]/=255,M[3]/=255),M):(l?(M[0]=L[0],M[1]=L[1],M[2]=L[2],M[3]=L[3]!=null?L[3]:1):(M[0]=Et(Math.floor(L[0]*255),0,255),M[1]=Et(Math.floor(L[1]*255),0,255),M[2]=Et(Math.floor(L[2]*255),0,255),M[3]=L[3]==null?255:Et(Math.floor(L[3]*255),0,255)),M)};function wt(B){return!!(B instanceof Uint8Array||B instanceof Uint8ClampedArray||Array.isArray(B)&&(B[0]>1||B[0]===0)&&(B[1]>1||B[1]===0)&&(B[2]>1||B[2]===0)&&(!B[3]||B[3]>1))}return Te}var Ae,Ke;function Ue(){if(Ke)return Ae;Ke=1;var Ft=xr();function Et(Rt){return Rt?Ft(Rt):[0,0,0,1]}return Ae=Et,Ae}var _e,Qe;function jr(){if(Qe)return _e;Qe=1;var Ft=Ar(),Et=ur(),Rt=xr(),wt=Er(),B=Mr().defaultLine,L=Tr().isArrayOrTypedArray,a=Rt(B),d=1;function M(R,v){var E=R;return E[3]*=v,E}function l(R){if(Ft(R))return a;var v=Rt(R);return v.length?v:a}function y(R){return Ft(R)?R:d}function c(R,v,E){var w=R.color;w&&w._inputArray&&(w=w._inputArray);var s=L(w),p=L(v),g=wt.extractOpts(R),h=[],f,r,o,n,t;if(g.colorscale!==void 0?f=wt.makeColorScaleFuncFromTrace(R):f=l,s?r=function(e,A){return e[A]===void 0?a:Rt(f(e[A]))}:r=l,p?o=function(e,A){return e[A]===void 0?d:y(e[A])}:o=y,s||p)for(var i=0;i<E;i++)n=r(w,i),t=o(v,i),h[i]=M(n,t);else h=M(Rt(w),v);return h}function T(R){var v=wt.extractOpts(R),E=v.colorscale;return v.reversescale&&(E=wt.flipScale(v.colorscale)),E.map(function(w){var s=w[0],p=Et(w[1]),g=p.toRgb();return{index:s,rgb:[g.r,g.g,g.b,g.a]}})}return _e={formatColor:c,parseColorScale:T},_e}var Zt={},me,$e;function Ur(){if($e)return me;$e=1,me=Ft;function Ft(Et,Rt){if(typeof Et!="string")throw new TypeError("must specify type string");if(Rt=Rt||{},typeof document>"u"&&!Rt.canvas)return null;var wt=Rt.canvas||document.createElement("canvas");typeof Rt.width=="number"&&(wt.width=Rt.width),typeof Rt.height=="number"&&(wt.height=Rt.height);var B=Rt,L;try{var a=[Et];Et.indexOf("webgl")===0&&a.push("experimental-"+Et);for(var d=0;d<a.length;d++)if(L=wt.getContext(a[d],B),L)return L}catch{L=null}return L||null}return me}var Re,Je;function Vr(){if(Je)return Re;Je=1;var Ft=Ur();return Re=function(Rt){return Ft("webgl",Rt)},Re}var Ie,qe;function Hr(){if(qe)return Ie;qe=1;var Ft=ze(),Et=function(){};return Ie=function(wt){for(var B in wt)typeof wt[B]=="function"&&(wt[B]=Et);wt.destroy=function(){wt.container.parentNode.removeChild(wt.container)};var L=document.createElement("div");L.className="no-webgl",L.style.cursor="pointer",L.style.fontSize="24px",L.style.color=Ft.defaults[0],L.style.position="absolute",L.style.left=L.style.top="0px",L.style.width=L.style.height="100%",L.style["background-color"]=Ft.lightLine,L.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",L.appendChild(a),wt.container.appendChild(L),wt.container.style.background="#FFFFFF",wt.container.onclick=function(){window.open("https://get.webgl.org")},!1},Ie}var Se,je;function Gr(){if(je)return Se;je=1;var Ft=Ue(),Et=$t(),Rt=["xaxis","yaxis","zaxis"];function wt(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var B=wt.prototype;B.merge=function(a,d){for(var M=this,l=0;l<3;++l){var y=d[Rt[l]];if(!y.visible){M.tickEnable[l]=!1,M.labelEnable[l]=!1,M.lineEnable[l]=!1,M.lineTickEnable[l]=!1,M.gridEnable[l]=!1,M.zeroEnable[l]=!1,M.backgroundEnable[l]=!1;continue}M.labels[l]=a._meta?Et.templateString(y.title.text,a._meta):y.title.text,"font"in y.title&&(y.title.font.color&&(M.labelColor[l]=Ft(y.title.font.color)),y.title.font.family&&(M.labelFont[l]=y.title.font.family),y.title.font.size&&(M.labelSize[l]=y.title.font.size),y.title.font.weight&&(M.labelFontWeight[l]=y.title.font.weight),y.title.font.style&&(M.labelFontStyle[l]=y.title.font.style),y.title.font.variant&&(M.labelFontVariant[l]=y.title.font.variant)),"showline"in y&&(M.lineEnable[l]=y.showline),"linecolor"in y&&(M.lineColor[l]=Ft(y.linecolor)),"linewidth"in y&&(M.lineWidth[l]=y.linewidth),"showgrid"in y&&(M.gridEnable[l]=y.showgrid),"gridcolor"in y&&(M.gridColor[l]=Ft(y.gridcolor)),"gridwidth"in y&&(M.gridWidth[l]=y.gridwidth),y.type==="log"?M.zeroEnable[l]=!1:"zeroline"in y&&(M.zeroEnable[l]=y.zeroline),"zerolinecolor"in y&&(M.zeroLineColor[l]=Ft(y.zerolinecolor)),"zerolinewidth"in y&&(M.zeroLineWidth[l]=y.zerolinewidth),"ticks"in y&&y.ticks?M.lineTickEnable[l]=!0:M.lineTickEnable[l]=!1,"ticklen"in y&&(M.lineTickLength[l]=M._defaultLineTickLength[l]=y.ticklen),"tickcolor"in y&&(M.lineTickColor[l]=Ft(y.tickcolor)),"tickwidth"in y&&(M.lineTickWidth[l]=y.tickwidth),"tickangle"in y&&(M.tickAngle[l]=y.tickangle==="auto"?-3600:Math.PI*-y.tickangle/180),"showticklabels"in y&&(M.tickEnable[l]=y.showticklabels),"tickfont"in y&&(y.tickfont.color&&(M.tickColor[l]=Ft(y.tickfont.color)),y.tickfont.family&&(M.tickFont[l]=y.tickfont.family),y.tickfont.size&&(M.tickSize[l]=y.tickfont.size),y.tickfont.weight&&(M.tickFontWeight[l]=y.tickfont.weight),y.tickfont.style&&(M.tickFontStyle[l]=y.tickfont.style),y.tickfont.variant&&(M.tickFontVariant[l]=y.tickfont.variant)),"mirror"in y?["ticks","all","allticks"].indexOf(y.mirror)!==-1?(M.lineTickMirror[l]=!0,M.lineMirror[l]=!0):y.mirror===!0?(M.lineTickMirror[l]=!1,M.lineMirror[l]=!0):(M.lineTickMirror[l]=!1,M.lineMirror[l]=!1):M.lineMirror[l]=!1,"showbackground"in y&&y.showbackground!==!1?(M.backgroundEnable[l]=!0,M.backgroundColor[l]=Ft(y.backgroundcolor)):M.backgroundEnable[l]=!1}};function L(a,d){var M=new wt;return M.merge(a,d),M}return Se=L,Se}var Ce,tr;function Wr(){if(tr)return Ce;tr=1;var Ft=Ue(),Et=["xaxis","yaxis","zaxis"];function Rt(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var wt=Rt.prototype;wt.merge=function(L){for(var a=0;a<3;++a){var d=L[Et[a]];if(!d.visible){this.enabled[a]=!1,this.drawSides[a]=!1;continue}this.enabled[a]=d.showspikes,this.colors[a]=Ft(d.spikecolor),this.drawSides[a]=d.spikesides,this.lineWidth[a]=d.spikethickness}};function B(L){var a=new Rt;return a.merge(L),a}return Ce=B,Ce}var Fe,er;function Xr(){if(er)return Fe;er=1,Fe=B;var Ft=lr(),Et=$t(),Rt=["xaxis","yaxis","zaxis"];function wt(L){for(var a=new Array(3),d=0;d<3;++d){for(var M=L[d],l=new Array(M.length),y=0;y<M.length;++y)l[y]=M[y].x;a[d]=l}return a}function B(L){for(var a=L.axesOptions,d=L.glplot.axesPixels,M=L.fullSceneLayout,l=[[],[],[]],y=0;y<3;++y){var c=M[Rt[y]];if(c._length=(d[y].hi-d[y].lo)*d[y].pixelsPerDataUnit/L.dataScale[y],Math.abs(c._length)===1/0||isNaN(c._length))l[y]=[];else{c._input_range=c.range.slice(),c.range[0]=d[y].lo/L.dataScale[y],c.range[1]=d[y].hi/L.dataScale[y],c._m=1/(L.dataScale[y]*d[y].pixelsPerDataUnit),c.range[0]===c.range[1]&&(c.range[0]-=1,c.range[1]+=1);var T=c.tickmode;if(c.tickmode==="auto"){c.tickmode="linear";var R=c.nticks||Et.constrain(c._length/40,4,9);Ft.autoTicks(c,Math.abs(c.range[1]-c.range[0])/R)}for(var v=Ft.calcTicks(c,{msUTC:!0}),E=0;E<v.length;++E)v[E].x=v[E].x*L.dataScale[y],c.type==="date"&&(v[E].text=v[E].text.replace(/\<br\>/g," "));l[y]=v,c.tickmode=T}}a.ticks=l;for(var y=0;y<3;++y){.5*(L.glplot.bounds[0][y]+L.glplot.bounds[1][y]);for(var E=0;E<2;++E)a.bounds[E][y]=L.glplot.bounds[E][y]}L.contourLevels=wt(l)}return Fe}var Oe,rr;function Yr(){if(rr)return Oe;rr=1;var Ft=Pr().gl_plot3d,Et=Ft.createCamera,Rt=Ft.createScene,wt=Vr(),B=_r(),L=vr(),a=$t(),d=a.preserveDrawingBuffer(),M=lr(),l=mr(),y=Ue(),c=Hr(),T=Lr(),R=Gr(),v=Wr(),E=Xr(),w=Rr().applyAutorangeOptions,s,p,g=!1;function h(x,m){var S=document.createElement("div"),_=x.container;this.graphDiv=x.graphDiv;var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.style.position="absolute",u.style.top=u.style.left="0px",u.style.width=u.style.height="100%",u.style["z-index"]=20,u.style["pointer-events"]="none",S.appendChild(u),this.svgContainer=u,S.id=x.id,S.style.position="absolute",S.style.top=S.style.left="0px",S.style.width=S.style.height="100%",_.appendChild(S),this.fullLayout=m,this.id=x.id||"scene",this.fullSceneLayout=m[this.id],this.plotArgs=[[],{},{}],this.axesOptions=R(m,m[this.id]),this.spikeOptions=v(m[this.id]),this.container=S,this.staticMode=!!x.staticPlot,this.pixelRatio=this.pixelRatio||x.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=L.getComponentMethod("annotations3d","convert"),this.drawAnnotations=L.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var f=h.prototype;f.prepareOptions=function(){var x=this,m={canvas:x.canvas,gl:x.gl,glOptions:{preserveDrawingBuffer:d,premultipliedAlpha:!0,antialias:!0},container:x.container,axes:x.axesOptions,spikes:x.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:x.camera,pixelRatio:x.pixelRatio};if(x.staticMode){if(!p&&(s=document.createElement("canvas"),p=wt({canvas:s,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("error creating static canvas/context for image server");m.gl=p,m.canvas=s}return m};var r=!0;f.tryCreatePlot=function(){var x=this,m=x.prepareOptions(),S=!0;try{x.glplot=Rt(m)}catch{if(x.staticMode||!r||d)S=!1;else{a.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{d=m.glOptions.preserveDrawingBuffer=!0,x.glplot=Rt(m)}catch{d=m.glOptions.preserveDrawingBuffer=!1,S=!1}}}return r=!1,S},f.initializeGLCamera=function(){var x=this,m=x.fullSceneLayout.camera,S=m.projection.type==="orthographic";x.camera=Et(x.container,{center:[m.center.x,m.center.y,m.center.z],eye:[m.eye.x,m.eye.y,m.eye.z],up:[m.up.x,m.up.y,m.up.z],_ortho:S,zoomMin:.01,zoomMax:100,mode:"orbit"})},f.initializeGLPlot=function(){var x=this;x.initializeGLCamera();var m=x.tryCreatePlot();if(!m)return c(x);x.traces={},x.make4thDimension();var S=x.graphDiv,_=S.layout,u=function(){var F={};return x.isCameraChanged(_)&&(F[x.id+".camera"]=x.getCamera()),x.isAspectChanged(_)&&(F[x.id+".aspectratio"]=x.glplot.getAspectratio(),_[x.id].aspectmode!=="manual"&&(x.fullSceneLayout.aspectmode=_[x.id].aspectmode=F[x.id+".aspectmode"]="manual")),F},I=function(F){if(F.fullSceneLayout.dragmode!==!1){var P=u();F.saveLayout(_),F.graphDiv.emit("plotly_relayout",P)}};return x.glplot.canvas&&(x.glplot.canvas.addEventListener("mouseup",function(){I(x)}),x.glplot.canvas.addEventListener("touchstart",function(){g=!0}),x.glplot.canvas.addEventListener("wheel",function(F){if(S._context._scrollZoom.gl3d){if(x.camera._ortho){var P=F.deltaX>F.deltaY?1.1:.9090909090909091,D=x.glplot.getAspectratio();x.glplot.setAspectratio({x:P*D.x,y:P*D.y,z:P*D.z})}I(x)}},B?{passive:!1}:!1),x.glplot.canvas.addEventListener("mousemove",function(){if(x.fullSceneLayout.dragmode!==!1&&x.camera.mouseListener.buttons!==0){var F=u();x.graphDiv.emit("plotly_relayouting",F)}}),x.staticMode||x.glplot.canvas.addEventListener("webglcontextlost",function(F){S&&S.emit&&S.emit("plotly_webglcontextlost",{event:F,layer:x.id})},!1)),x.glplot.oncontextloss=function(){x.recoverContext()},x.glplot.onrender=function(){x.render()},!0},f.render=function(){var x=this,m=x.graphDiv,S,_=x.svgContainer,u=x.container.getBoundingClientRect();m._fullLayout._calcInverseTransform(m);var I=m._fullLayout._invScaleX,F=m._fullLayout._invScaleY,P=u.width*I,D=u.height*F;_.setAttributeNS(null,"viewBox","0 0 "+P+" "+D),_.setAttributeNS(null,"width",P),_.setAttributeNS(null,"height",D),E(x),x.glplot.axes.update(x.axesOptions);for(var V=Object.keys(x.traces),H=null,O=x.glplot.selection,C=0;C<V.length;++C)S=x.traces[V[C]],S.data.hoverinfo!=="skip"&&S.handlePick(O)&&(H=S),S.setContourLevels&&S.setContourLevels();function k(j,at,rt){var st=x.fullSceneLayout[j+"axis"];return st.type!=="log"&&(at=st.d2l(at)),M.hoverLabelText(st,at,rt)}if(H!==null){var $=T(x.glplot.cameraParams,O.dataCoordinate);S=H.data;var z=m._fullData[S.index],Y=O.index,G={xLabel:k("x",O.traceCoordinate[0],S.xhoverformat),yLabel:k("y",O.traceCoordinate[1],S.yhoverformat),zLabel:k("z",O.traceCoordinate[2],S.zhoverformat)},X=l.castHoverinfo(z,x.fullLayout,Y),K=(X||"").split("+"),W=X&&X==="all";!z.hovertemplate&&!W&&(K.indexOf("x")===-1&&(G.xLabel=void 0),K.indexOf("y")===-1&&(G.yLabel=void 0),K.indexOf("z")===-1&&(G.zLabel=void 0),K.indexOf("text")===-1&&(O.textLabel=void 0),K.indexOf("name")===-1&&(H.name=void 0));var Z,J=[];S.type==="cone"||S.type==="streamtube"?(G.uLabel=k("x",O.traceCoordinate[3],S.uhoverformat),(W||K.indexOf("u")!==-1)&&J.push("u: "+G.uLabel),G.vLabel=k("y",O.traceCoordinate[4],S.vhoverformat),(W||K.indexOf("v")!==-1)&&J.push("v: "+G.vLabel),G.wLabel=k("z",O.traceCoordinate[5],S.whoverformat),(W||K.indexOf("w")!==-1)&&J.push("w: "+G.wLabel),G.normLabel=O.traceCoordinate[6].toPrecision(3),(W||K.indexOf("norm")!==-1)&&J.push("norm: "+G.normLabel),S.type==="streamtube"&&(G.divergenceLabel=O.traceCoordinate[7].toPrecision(3),(W||K.indexOf("divergence")!==-1)&&J.push("divergence: "+G.divergenceLabel)),O.textLabel&&J.push(O.textLabel),Z=J.join("<br>")):S.type==="isosurface"||S.type==="volume"?(G.valueLabel=M.hoverLabelText(x._mockAxis,x._mockAxis.d2l(O.traceCoordinate[3]),S.valuehoverformat),J.push("value: "+G.valueLabel),O.textLabel&&J.push(O.textLabel),Z=J.join("<br>")):Z=O.textLabel;var tt={x:O.traceCoordinate[0],y:O.traceCoordinate[1],z:O.traceCoordinate[2],data:z._input,fullData:z,curveNumber:z.index,pointNumber:Y};l.appendArrayPointValue(tt,z,Y),S._module.eventData&&(tt=z._module.eventData(tt,O,z,{},Y));var it={points:[tt]};if(x.fullSceneLayout.hovermode){var et=[];l.loneHover({trace:z,x:(.5+.5*$[0]/$[3])*P,y:(.5-.5*$[1]/$[3])*D,xLabel:G.xLabel,yLabel:G.yLabel,zLabel:G.zLabel,text:Z,name:H.name,color:l.castHoverOption(z,Y,"bgcolor")||H.color,borderColor:l.castHoverOption(z,Y,"bordercolor"),fontFamily:l.castHoverOption(z,Y,"font.family"),fontSize:l.castHoverOption(z,Y,"font.size"),fontColor:l.castHoverOption(z,Y,"font.color"),nameLength:l.castHoverOption(z,Y,"namelength"),textAlign:l.castHoverOption(z,Y,"align"),hovertemplate:a.castOption(z,Y,"hovertemplate"),hovertemplateLabels:a.extendFlat({},tt,G),eventData:[tt]},{container:_,gd:m,inOut_bbox:et}),tt.bbox=et[0]}O.distance<5&&(O.buttons||g)?m.emit("plotly_click",it):m.emit("plotly_hover",it),this.oldEventData=it}else l.loneUnhover(_),this.oldEventData&&m.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;x.drawAnnotations(x)},f.recoverContext=function(){var x=this;x.glplot.dispose();var m=function(){if(x.glplot.gl.isContextLost()){requestAnimationFrame(m);return}if(!x.initializeGLPlot()){a.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}x.plot.apply(x,x.plotArgs)};requestAnimationFrame(m)};var o=["xaxis","yaxis","zaxis"];function n(x,m,S){for(var _=x.fullSceneLayout,u=0;u<3;u++){var I=o[u],F=I.charAt(0),P=_[I],D=m[F],V=m[F+"calendar"],H=m["_"+F+"length"];if(!a.isArrayOrTypedArray(D))S[0][u]=Math.min(S[0][u],0),S[1][u]=Math.max(S[1][u],H-1);else for(var O,C=0;C<(H||D.length);C++)if(a.isArrayOrTypedArray(D[C]))for(var k=0;k<D[C].length;++k)O=P.d2l(D[C][k],0,V),!isNaN(O)&&isFinite(O)&&(S[0][u]=Math.min(S[0][u],O),S[1][u]=Math.max(S[1][u],O));else O=P.d2l(D[C],0,V),!isNaN(O)&&isFinite(O)&&(S[0][u]=Math.min(S[0][u],O),S[1][u]=Math.max(S[1][u],O))}}function t(x,m){for(var S=x.fullSceneLayout,_=S.annotations||[],u=0;u<3;u++)for(var I=o[u],F=I.charAt(0),P=S[I],D=0;D<_.length;D++){var V=_[D];if(V.visible){var H=P.r2l(V[F]);!isNaN(H)&&isFinite(H)&&(m[0][u]=Math.min(m[0][u],H),m[1][u]=Math.max(m[1][u],H))}}}f.plot=function(x,m,S){var _=this;if(_.plotArgs=[x,m,S],!_.glplot.contextLost){var u,I,F,P,D,V,H=m[_.id],O=S[_.id];_.fullLayout=m,_.fullSceneLayout=H,_.axesOptions.merge(m,H),_.spikeOptions.merge(H),_.setViewport(H),_.updateFx(H.dragmode,H.hovermode),_.camera.enableWheel=_.graphDiv._context._scrollZoom.gl3d,_.glplot.setClearColor(y(H.bgcolor)),_.setConvert(D),x?Array.isArray(x)||(x=[x]):x=[];var C=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(F=0;F<x.length;++F)u=x[F],!(u.visible!==!0||u._length===0)&&n(this,u,C);t(this,C);var k=[1,1,1];for(P=0;P<3;++P)C[1][P]===C[0][P]?k[P]=1:k[P]=1/(C[1][P]-C[0][P]);for(_.dataScale=k,_.convertAnnotations(this),F=0;F<x.length;++F)u=x[F],!(u.visible!==!0||u._length===0)&&(I=_.traces[u.uid],I?I.data.type===u.type?I.update(u):(I.dispose(),I=u._module.plot(this,u),_.traces[u.uid]=I):(I=u._module.plot(this,u),_.traces[u.uid]=I),I.name=u.name);var $=Object.keys(_.traces);t:for(F=0;F<$.length;++F){for(P=0;P<x.length;++P)if(x[P].uid===$[F]&&x[P].visible===!0&&x[P]._length!==0)continue t;I=_.traces[$[F]],I.dispose(),delete _.traces[$[F]]}_.glplot.objects.sort(function(lt,bt){return lt._trace.data.index-bt._trace.data.index});var z=[[0,0,0],[0,0,0]],Y={};for(F=0;F<3;++F){D=H[o[F]],V=D.type,V in Y?(Y[V].acc*=k[F],Y[V].count+=1):Y[V]={acc:k[F],count:1};var G;if(D.autorange){z[0][F]=1/0,z[1][F]=-1/0;var X=_.glplot.objects,K=_.fullSceneLayout.annotations||[],W=D._name.charAt(0);for(P=0;P<X.length;P++){var Z=X[P],J=Z.bounds,tt=Z._trace.data._pad||0;Z.constructor.name==="ErrorBars"&&D._lowerLogErrorBound?z[0][F]=Math.min(z[0][F],D._lowerLogErrorBound):z[0][F]=Math.min(z[0][F],J[0][F]/k[F]-tt),z[1][F]=Math.max(z[1][F],J[1][F]/k[F]+tt)}for(P=0;P<K.length;P++){var it=K[P];if(it.visible){var et=D.r2l(it[W]);z[0][F]=Math.min(z[0][F],et),z[1][F]=Math.max(z[1][F],et)}}if("rangemode"in D&&D.rangemode==="tozero"&&(z[0][F]=Math.min(z[0][F],0),z[1][F]=Math.max(z[1][F],0)),z[0][F]>z[1][F])z[0][F]=-1,z[1][F]=1;else{var j=z[1][F]-z[0][F];z[0][F]-=j/32,z[1][F]+=j/32}if(G=[z[0][F],z[1][F]],G=w(G,D),z[0][F]=G[0],z[1][F]=G[1],D.isReversed()){var at=z[0][F];z[0][F]=z[1][F],z[1][F]=at}}else G=D.range,z[0][F]=D.r2l(G[0]),z[1][F]=D.r2l(G[1]);z[0][F]===z[1][F]&&(z[0][F]-=1,z[1][F]+=1),D.range=[z[0][F],z[1][F]],D.limitRange(),_.glplot.setBounds(F,{min:D.range[0]*k[F],max:D.range[1]*k[F]})}var rt,st=H.aspectmode;if(st==="cube")rt=[1,1,1];else if(st==="manual"){var ot=H.aspectratio;rt=[ot.x,ot.y,ot.z]}else if(st==="auto"||st==="data"){var ft=[1,1,1];for(F=0;F<3;++F){D=H[o[F]],V=D.type;var xt=Y[V];ft[F]=Math.pow(xt.acc,1/xt.count)/k[F]}st==="data"||Math.max.apply(null,ft)/Math.min.apply(null,ft)<=4?rt=ft:rt=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");H.aspectratio.x=O.aspectratio.x=rt[0],H.aspectratio.y=O.aspectratio.y=rt[1],H.aspectratio.z=O.aspectratio.z=rt[2],_.glplot.setAspectratio(H.aspectratio),_.viewInitial.aspectratio||(_.viewInitial.aspectratio={x:H.aspectratio.x,y:H.aspectratio.y,z:H.aspectratio.z}),_.viewInitial.aspectmode||(_.viewInitial.aspectmode=H.aspectmode);var dt=H.domain||null,ht=m._size||null;if(dt&&ht){var pt=_.container.style;pt.position="absolute",pt.left=ht.l+dt.x[0]*ht.w+"px",pt.top=ht.t+(1-dt.y[1])*ht.h+"px",pt.width=ht.w*(dt.x[1]-dt.x[0])+"px",pt.height=ht.h*(dt.y[1]-dt.y[0])+"px"}_.glplot.redraw()}},f.destroy=function(){var x=this;x.glplot&&(x.camera.mouseListener.enabled=!1,x.container.removeEventListener("wheel",x.camera.wheelListener),x.camera=null,x.glplot.dispose(),x.container.parentNode.removeChild(x.container),x.glplot=null)};function i(x){return[[x.eye.x,x.eye.y,x.eye.z],[x.center.x,x.center.y,x.center.z],[x.up.x,x.up.y,x.up.z]]}function e(x){return{up:{x:x.up[0],y:x.up[1],z:x.up[2]},center:{x:x.center[0],y:x.center[1],z:x.center[2]},eye:{x:x.eye[0],y:x.eye[1],z:x.eye[2]},projection:{type:x._ortho===!0?"orthographic":"perspective"}}}f.getCamera=function(){var x=this;return x.camera.view.recalcMatrix(x.camera.view.lastT()),e(x.camera)},f.setViewport=function(x){var m=this,S=x.camera;m.camera.lookAt.apply(this,i(S)),m.glplot.setAspectratio(x.aspectratio);var _=S.projection.type==="orthographic",u=m.camera._ortho;_!==u&&(m.glplot.redraw(),m.glplot.clearRGBA(),m.glplot.dispose(),m.initializeGLPlot())},f.isCameraChanged=function(x){var m=this,S=m.getCamera(),_=a.nestedProperty(x,m.id+".camera"),u=_.get();function I(V,H,O,C){var k=["up","center","eye"],$=["x","y","z"];return H[k[O]]&&V[k[O]][$[C]]===H[k[O]][$[C]]}var F=!1;if(u===void 0)F=!0;else{for(var P=0;P<3;P++)for(var D=0;D<3;D++)if(!I(S,u,P,D)){F=!0;break}(!u.projection||S.projection&&S.projection.type!==u.projection.type)&&(F=!0)}return F},f.isAspectChanged=function(x){var m=this,S=m.glplot.getAspectratio(),_=a.nestedProperty(x,m.id+".aspectratio"),u=_.get();return u===void 0||u.x!==S.x||u.y!==S.y||u.z!==S.z},f.saveLayout=function(x){var m=this,S=m.fullLayout,_,u,I,F,P,D,V=m.isCameraChanged(x),H=m.isAspectChanged(x),O=V||H;if(O){var C={};if(V&&(_=m.getCamera(),u=a.nestedProperty(x,m.id+".camera"),I=u.get(),C[m.id+".camera"]=I),H&&(F=m.glplot.getAspectratio(),P=a.nestedProperty(x,m.id+".aspectratio"),D=P.get(),C[m.id+".aspectratio"]=D),L.call("_storeDirectGUIEdit",x,S._preGUI,C),V){u.set(_);var k=a.nestedProperty(S,m.id+".camera");k.set(_)}if(H){P.set(F);var $=a.nestedProperty(S,m.id+".aspectratio");$.set(F),m.glplot.redraw()}}return O},f.updateFx=function(x,m){var S=this,_=S.camera;if(_)if(x==="orbit")_.mode="orbit",_.keyBindingMode="rotate";else if(x==="turntable"){_.up=[0,0,1],_.mode="turntable",_.keyBindingMode="rotate";var u=S.graphDiv,I=u._fullLayout,F=S.fullSceneLayout.camera,P=F.up.x,D=F.up.y,V=F.up.z;if(V/Math.sqrt(P*P+D*D+V*V)<.999){var H=S.id+".camera.up",O={x:0,y:0,z:1},C={};C[H]=O;var k=u.layout;L.call("_storeDirectGUIEdit",k,I._preGUI,C),F.up=O,a.nestedProperty(k,H).set(O)}}else _.keyBindingMode=x;S.fullSceneLayout.hovermode=m};function A(x,m,S){for(var _=0,u=S-1;_<u;++_,--u)for(var I=0;I<m;++I)for(var F=0;F<4;++F){var P=4*(m*_+I)+F,D=4*(m*u+I)+F,V=x[P];x[P]=x[D],x[D]=V}}function b(x,m,S){for(var _=0;_<S;++_)for(var u=0;u<m;++u){var I=4*(m*_+u),F=x[I+3];if(F>0)for(var P=255/F,D=0;D<3;++D)x[I+D]=Math.min(P*x[I+D],255)}}return f.toImage=function(x){var m=this;x||(x="png"),m.staticMode&&m.container.appendChild(s),m.glplot.redraw();var S=m.glplot.gl,_=S.drawingBufferWidth,u=S.drawingBufferHeight;S.bindFramebuffer(S.FRAMEBUFFER,null);var I=new Uint8Array(_*u*4);S.readPixels(0,0,_,u,S.RGBA,S.UNSIGNED_BYTE,I),A(I,_,u),b(I,_,u);var F=document.createElement("canvas");F.width=_,F.height=u;var P=F.getContext("2d",{willReadFrequently:!0}),D=P.createImageData(_,u);D.data.set(I),P.putImageData(D,0,0);var V;switch(x){case"jpeg":V=F.toDataURL("image/jpeg");break;case"webp":V=F.toDataURL("image/webp");break;default:V=F.toDataURL("image/png")}return m.staticMode&&m.container.removeChild(s),V},f.setConvert=function(){for(var x=this,m=0;m<3;m++){var S=x.fullSceneLayout[o[m]];M.setConvert(S,x.fullLayout),S.setScale=a.noop}},f.make4thDimension=function(){var x=this,m=x.graphDiv,S=m._fullLayout;x._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(x._mockAxis,S)},Oe=h,Oe}var Le,nr;function Zr(){return nr||(nr=1,Le={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}}),Le}var Pe,ir;function br(){if(ir)return Pe;ir=1;var Ft=ze(),Et=Ir(),Rt=cr().extendFlat,wt=pr().overrideAll;return Pe=wt({visible:Et.visible,showspikes:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",dflt:Ft.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",dflt:!0,description:"Sets whether or not this axis is labeled"},color:Et.color,categoryorder:Et.categoryorder,categoryarray:Et.categoryarray,title:{text:Et.title.text,font:Et.title.font},type:Rt({},Et.type,{values:["-","linear","log","date","category"]}),autotypenumbers:Et.autotypenumbers,autorange:Et.autorange,autorangeoptions:{minallowed:Et.autorangeoptions.minallowed,maxallowed:Et.autorangeoptions.maxallowed,clipmin:Et.autorangeoptions.clipmin,clipmax:Et.autorangeoptions.clipmax,include:Et.autorangeoptions.include,editType:"plot"},rangemode:Et.rangemode,minallowed:Et.minallowed,maxallowed:Et.maxallowed,range:Rt({},Et.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:Et.minor.tickmode,nticks:Et.nticks,tick0:Et.tick0,dtick:Et.dtick,tickvals:Et.tickvals,ticktext:Et.ticktext,ticks:Et.ticks,mirror:Et.mirror,ticklen:Et.ticklen,tickwidth:Et.tickwidth,tickcolor:Et.tickcolor,showticklabels:Et.showticklabels,labelalias:Et.labelalias,tickfont:Et.tickfont,tickangle:Et.tickangle,tickprefix:Et.tickprefix,showtickprefix:Et.showtickprefix,ticksuffix:Et.ticksuffix,showticksuffix:Et.showticksuffix,showexponent:Et.showexponent,exponentformat:Et.exponentformat,minexponent:Et.minexponent,separatethousands:Et.separatethousands,tickformat:Et.tickformat,tickformatstops:Et.tickformatstops,hoverformat:Et.hoverformat,showline:Et.showline,linecolor:Et.linecolor,linewidth:Et.linewidth,showgrid:Et.showgrid,gridcolor:Rt({},Et.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:Et.gridwidth,zeroline:Et.zeroline,zerolinecolor:Et.zerolinecolor,zerolinewidth:Et.zerolinewidth},"plot","from-root"),Pe}var Be,ar;function wr(){if(ar)return Be;ar=1;var Ft=br(),Et=yr().attributes,Rt=cr().extendFlat,wt=$t().counterRegex;function B(L,a,d){return{x:{valType:"number",dflt:L,editType:"camera"},y:{valType:"number",dflt:a,editType:"camera"},z:{valType:"number",dflt:d,editType:"camera"},editType:"camera"}}return Be={_arrayAttrRegexps:[wt("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:Rt(B(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:Rt(B(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:Rt(B(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc",description:["Sets the projection type. The projection type could be","either *perspective* or *orthographic*. The default is","*perspective*."].join(" ")},editType:"calc"},editType:"camera"},domain:Et({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:Ft,yaxis:Ft,zaxis:Ft,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions for this scene."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in camera attributes.","Defaults to `layout.uirevision`."].join(" ")},editType:"plot"},Be}var Ne,or;function Kr(){if(or)return Ne;or=1;var Ft=$t(),Et=gr(),Rt=yr().defaults;return Ne=function(B,L,a,d){var M=d.type,l=d.attributes,y=d.handleDefaults,c=d.partition||"x",T=L._subplots[M],R=T.length,v=R&&T[0].replace(/\d+$/,""),E,w;function s(f,r){return Ft.coerce(E,w,l,f,r)}for(var p=0;p<R;p++){var g=T[p];B[g]?E=B[g]:E=B[g]={},w=Et.newContainer(L,g,v),d.noUirevision||s("uirevision",L.uirevision);var h={};h[c]=[p/R,(p+1)/R],Rt(w,L,s,h),d.id=g,y(E,w,s,d)}},Ne}var ke,sr;function Qr(){if(sr)return ke;sr=1;var Ft=ur().mix,Et=$t(),Rt=gr(),wt=br(),B=Sr(),L=Cr(),a=["xaxis","yaxis","zaxis"],d=13600/187;return ke=function(l,y,c){var T,R;function v(s,p){return Et.coerce(T,R,wt,s,p)}for(var E=0;E<a.length;E++){var w=a[E];T=l[w]||{},R=Rt.newContainer(y,w),R._id=w[0]+c.scene,R._name=w,B(T,R,v,c),L(T,R,v,{font:c.font,letter:w[0],data:c.data,showGrid:!0,noAutotickangles:!0,noMinorloglabels:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,noUnifiedhovertitle:!0,bgColor:c.bgColor,calendar:c.calendar},c.fullLayout),v("gridcolor",Ft(R.color,c.bgColor,d).toRgbString()),v("title.text",w[0]),R.setScale=Et.noop,v("showspikes")&&(v("spikesides"),v("spikethickness"),v("spikecolor",R.color)),v("showaxeslabels"),v("showbackground")&&v("backgroundcolor")}},ke}var De,fr;function $r(){if(fr)return De;fr=1;var Ft=$t(),Et=ze(),Rt=vr(),wt=Kr(),B=Qr(),L=wr(),a=dr().getSubplotData,d="gl3d";De=function(y,c,T){var R=c._basePlotModules.length>1;function v(E){if(!R){var w=Ft.validate(y[E],L[E]);if(w)return y[E]}}wt(y,c,T,{type:d,attributes:L,handleDefaults:M,fullLayout:c,font:c.font,fullData:T,getDfltFromLayout:v,autotypenumbersDflt:c.autotypenumbers,paper_bgcolor:c.paper_bgcolor,calendar:c.calendar})};function M(l,y,c,T){for(var R=c("bgcolor"),v=Et.combine(R,T.paper_bgcolor),E=["up","center","eye"],w=0;w<E.length;w++)c("camera."+E[w]+".x"),c("camera."+E[w]+".y"),c("camera."+E[w]+".z");c("camera.projection.type");var s=!!c("aspectratio.x")&&!!c("aspectratio.y")&&!!c("aspectratio.z"),p=s?"manual":"auto",g=c("aspectmode",p);s||(l.aspectratio=y.aspectratio={x:1,y:1,z:1},g==="manual"&&(y.aspectmode="auto"),l.aspectmode=y.aspectmode);var h=a(T.fullData,d,T.id);B(l,y,{font:T.font,scene:T.id,data:h,bgColor:v,calendar:T.calendar,autotypenumbersDflt:T.autotypenumbersDflt,fullLayout:T.fullLayout}),Rt.getComponentMethod("annotations3d","handleDefaults")(l,y,T);var f=T.getDfltFromLayout("dragmode");if(f!==!1&&!f)if(f="orbit",l.camera&&l.camera.up){var r=l.camera.up.x,o=l.camera.up.y,n=l.camera.up.z;n!==0&&(!r||!o||!n||n/Math.sqrt(r*r+o*o+n*n)>.999)&&(f="turntable")}else f="turntable";c("dragmode",f),c("hovermode",T.getDfltFromLayout("hovermode"))}return De}var hr;function tn(){if(hr)return Zt;hr=1;var Ft=pr().overrideAll,Et=Fr(),Rt=Yr(),wt=dr().getSubplotData,B=$t(),L=Or(),a="gl3d",d="scene";return Zt.name=a,Zt.attr=d,Zt.idRoot=d,Zt.idRegex=Zt.attrRegex=B.counterRegex("scene"),Zt.attributes=Zr(),Zt.layoutAttributes=wr(),Zt.baseLayoutAttrOverrides=Ft({hoverlabel:Et.hoverlabel},"plot","nested"),Zt.supplyLayoutDefaults=$r(),Zt.plot=function(l){for(var y=l._fullLayout,c=l._fullData,T=y._subplots[a],R=0;R<T.length;R++){var v=T[R],E=wt(c,a,v),w=y[v],s=w.camera,p=w._scene;p||(p=new Rt({id:v,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio,camera:s},y),w._scene=p),p.viewInitial||(p.viewInitial={up:{x:s.up.x,y:s.up.y,z:s.up.z},eye:{x:s.eye.x,y:s.eye.y,z:s.eye.z},center:{x:s.center.x,y:s.center.y,z:s.center.z}}),p.plot(E,y,l.layout)}},Zt.clean=function(M,l,y,c){for(var T=c._subplots[a]||[],R=0;R<T.length;R++){var v=T[R];!l[v]&&c[v]._scene&&(c[v]._scene.destroy(),c._infolayer&&c._infolayer.selectAll(".annotation-"+v).remove())}},Zt.toSVG=function(M){for(var l=M._fullLayout,y=l._subplots[a],c=l._size,T=0;T<y.length;T++){var R=l[y[T]],v=R.domain,E=R._scene,w=E.toImage("png"),s=l._glimages.append("svg:image");s.attr({xmlns:L.svg,"xlink:href":w,x:c.l+c.w*v.x[0],y:c.t+c.h*(1-v.y[1]),width:c.w*(v.x[1]-v.x[0]),height:c.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"}),E.destroy()}},Zt.cleanId=function(l){if(l.match(/^scene[0-9]*$/)){var y=l.substr(5);return y==="1"&&(y=""),d+y}},Zt.updateFx=function(M){for(var l=M._fullLayout,y=l._subplots[a],c=0;c<y.length;c++){var T=l[y[c]]._scene;T.updateFx(l.dragmode,l.hovermode)}},Zt}export{jr as a,Ue as b,tn as c,Pr as r};
