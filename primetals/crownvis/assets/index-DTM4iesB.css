:root{--bg:#fff;--ink:#0b1323;--muted:#5b6575;--accent:#2b6fe2;--red:#d62d20;--blue:#0072ce;--yellow:#b7791f;--grid:#e5e9f2;--border:#d7dde8}*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}.app{width:min(1100px,100%);margin:24px auto;display:grid;gap:18px}header h1{margin:0 0 4px;font-size:22px}header p{margin:0;color:var(--muted)}.card{background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:0 6px 24px #1422420f}.panel{display:grid;gap:12px;padding:14px}.panel--split{grid-template-columns:1fr 260px;align-items:start}.panel-left{display:flex;flex-direction:column;gap:14px}.coeffs{display:flex;flex-direction:column;gap:14px;padding:16px}.coeffs__title{margin:0;font-size:16px}.coeff{display:flex;flex-direction:column;gap:4px}.controls{display:grid;gap:12px;padding:14px 16px 18px}.controls--bottom{margin-top:auto}.row{display:grid;grid-template-columns:140px 1fr 120px;gap:12px;align-items:center}.row--compact{grid-template-columns:140px 1fr}.row-3{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}label{color:var(--muted);font-size:13px}input[type=range]{width:100%;height:6px;appearance:none;background:#e9edf5;border-radius:999px;cursor:pointer}input[type=range]::-webkit-slider-thumb{appearance:none;width:32px;height:20px;border-radius:50%;background:transparent;border:1px solid var(--accent);box-shadow:0 0 0 4px #2b6fe226,0 2px 6px #00000040;transition:background .15s,box-shadow .15s,transform .15s;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}input[type=range]:hover::-webkit-slider-thumb{box-shadow:0 0 0 6px #2b6fe238,0 2px 8px #0000004d}input[type=range]:active::-webkit-slider-thumb{transform:scale(.92);box-shadow:0 0 0 8px #2b6fe247,0 2px 10px #00000059}input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid rgba(43,111,226,.5);outline-offset:2px}input[type=range]::-moz-range-track{height:6px;background:#e9edf5;border-radius:999px}input[type=range]::-moz-range-thumb{width:32px;height:32px;border-radius:50%;background:transparent;border:3px solid var(--accent);box-shadow:0 0 0 4px #2b6fe226,0 2px 6px #00000040;transition:background .15s,box-shadow .15s,transform .15s;cursor:pointer}input[type=range]:hover::-moz-range-thumb{box-shadow:0 0 0 6px #2b6fe238,0 2px 8px #0000004d}input[type=range]:active::-moz-range-thumb{transform:scale(.92);box-shadow:0 0 0 8px #2b6fe247,0 2px 10px #00000059}@media (forced-colors: active){input[type=range]::-webkit-slider-thumb{background:Canvas;border:2px solid Highlight}input[type=range]::-moz-range-thumb{background:Canvas;border:2px solid Highlight}}input[type=text]{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:10px;font-size:13px}input[type=text]:focus{outline:2px solid rgba(43,111,226,.2);border-color:var(--accent)}.coeff{position:relative}.coeff .coeff-drag{position:absolute;top:2px;right:2px;bottom:2px;width:50px;display:flex;flex-direction:column;gap:2px;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:var(--accent);background:linear-gradient(135deg,#2b6fe21f,#2b6fe20a);border-left:1px dashed var(--accent);border-radius:0 8px 8px 0;opacity:.85;pointer-events:auto;cursor:ew-resize;transition:background .15s,opacity .15s}.coeff .coeff-drag:hover{opacity:1;background:linear-gradient(135deg,#2b6fe22e,#2b6fe20f)}.coeff .coeff-drag.active{background:#2b6fe240}.coeff .coeff-drag span{background:#ffffffe6;padding:2px 4px;border-radius:4px;box-shadow:0 1px 2px #0000001f;min-width:38px;text-align:center}.value{font-variant-numeric:tabular-nums;text-align:right;font-weight:600}.meta{display:flex;gap:18px;flex-wrap:wrap;font-size:13px;color:var(--muted)}.plot-wrap{position:relative}#plot{width:100%;height:560px}.app-footer{width:min(1100px,100%);margin:0 auto 24px;display:flex;justify-content:flex-end;font-size:13px;color:var(--muted)}.debug-toggle{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;gap:6px}body.debug .card{outline:2px dashed #b7791f}body.debug .panel-left{outline:2px dashed #2b6fe2}body.debug .coeffs{outline:2px dashed #d62d20}body.debug #plot{outline:2px dashed #0072ce}body.debug div{position:relative}body.debug div:after{content:attr(data-debug);position:absolute;top:2px;left:4px;font-size:10px;line-height:1.1;background:#ffff00d9;padding:1px 4px 2px;border-radius:3px;color:#111;font-family:ui-monospace,monospace;pointer-events:none;max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.poly-plot-wrap{margin-top:18px;padding:12px 10px 10px;border:1px solid var(--border);border-radius:10px;background:#fff;box-shadow:0 2px 6px #0000000a;display:flex;flex-direction:column;gap:6px}.mini-title{margin:0;font-size:13px;font-weight:600;color:var(--muted)}#polyPlot{width:100%;height:160px}#plot.drop-hover{outline:3px dashed var(--accent);outline-offset:4px;filter:brightness(.97)}.text-popup{position:fixed;top:60px;left:60px;max-width:520px;width:520px;max-height:60vh;display:flex;flex-direction:column;z-index:1200;padding:0;overflow:hidden}.text-popup__header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 14px;border-bottom:1px solid var(--border);background:linear-gradient(#f9fafb,#f1f5f9)}.text-popup__title{font-size:13px;font-weight:600;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-popup__actions{display:flex;align-items:center;gap:10px}.text-popup__trunc{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}.text-popup__close{border:0;background:#fff;border-radius:6px;padding:4px 8px;cursor:pointer;font-size:13px;line-height:1;font-weight:600;color:var(--muted);box-shadow:0 1px 2px #0000001a}.text-popup__close:hover{background:#f3f6fb;color:#111}.text-popup__body{margin:0;padding:12px 14px 16px;font-size:12px;line-height:1.4;overflow:auto;white-space:pre;background:#fff}.text-popup__body code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,Liberation Mono,monospace}
